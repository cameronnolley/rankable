{"version":3,"sources":["Images/rankabl-logo.png","util/newShade.js","Components/Album/Album.js","Components/AlbumContainer/AlbumContainer.js","util/generatePairs.js","util/getArtists.js","Components/MuiTheme/Theme.js","Components/ArtistFilter/ArtistFilter.js","Components/YearFilter/YearFilter.js","Components/Header/Header.js","Components/RankingFilter/RankingFilter.js","util/solveRanking.js","Components/Rank/Rank.js","Components/TableRow/TableRowCarousel.js","Components/TableRow/MobileTableRowCarousel.js","Components/TableRow/TableRow.js","Components/TableHeader/TableHeader.js","Components/RankingSelect/RankingSelect.js","Components/TypeSelect/TypeSelect.js","Components/Ranking/Rankings.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","newShade","color","percent","num","parseInt","amt","Math","round","R","B","G","toString","slice","Album","Array","isArray","this","props","album","attributes","artistName","join","url","replace","style","--bg-color","artwork","bgColor","--text-color-1","textColor1","--text-color-2","textColor2","--text-color-3","textColor3","--text-color-4","textColor4","--shadow","--shadow-hover","--bg-gradient","react_default","a","createElement","className","id","onMouseDown","mouseDown","onMouseUp","mouseUp","onClick","src","replaceUrl","alt","name","getArtistName","React","Component","require","AlbumContainer","_useState","useState","_useState2","Object","slicedToArray","albumPairs","setAlbumPairs","_useState3","_useState4","selectedPair","setSelectedPair","_useState5","_useState6","album1","setAlbum1","_useState7","_useState8","album2","setAlbum2","_useState9","_useState10","loading","setLoading","_useState11","_useState12","seenPairs","setSeenPairs","_useState13","_useState14","needNewPair","setNeedNewPair","useEffect","length","albumsLoaded","loadedUserData","albums","filteredPairs","filterPairs","console","log","setTimeout","getNewAlbums","then","view","array","pairs","results","i","j","push","generatePairs","votedPairs","includes","filter","pair","selectAlbums","floor","random","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","albumArray","selectedAlbums","album1Index","album2Index","errorMessages","skipButtons","wrap","_context","prev","next","find","from","document","getElementsByClassName","forEach","element","visibility","removeAttribute","stop","_x","apply","arguments","pushResults","e","album1Id","album2Id","result","currentTarget","axios","method","params","userId","data","seenPair","res","userResult","catch","err","handleClick","_ref2","_callee2","_context2","_x2","skip","target","filteredArray","getElementById","setAttribute","newAlbums","albumId","filters","Components_Album_Album","classList","add","getArtists","_loop","some","obj","count","sort","b","theme","createTheme","palette","primary","main","contrastText","secondary","filterTheme","ArtistFilter","options","setOptions","selectedValues","setSelectedValues","queryParams","map","artist","option","filterArtists","yearFilter","typeFilter","filteredAlbums","year","releaseDate","typeAlbums","type","dist_default","onSelect","onRemove","displayValue","avoidHighlightFirstOption","placeholder","closeIcon","hidePlaceholder","closeOnSelect","customArrow","ThemeProvider","SearchRounded","fontSize","showArrow","CarousalItem","children","width","Carousal","activeIndex","setActiveIndex","updateIndex","newIndex","Children","index","getDecade","transform","concat","child","cloneElement","YearFilter","selectedList","setSelectedList","isOpen","setIsOpen","setCount","aughts","setAughts","teens","setTeens","twenties","setTwenties","filterId","toggle","calendarRef","useRef","handler","event","current","contains","addEventListener","removeEventListener","onChange","splitYearParams","disableYears","artistFilter","searchParams","URLSearchParams","window","location","search","yearParams","get","split","yearHover","yearHoverLeave","remove","selectYear","onRemoveSelectedItem","innerHTML","newList","toConsumableArray","selectDecade","querySelectorAll","el","pushedArray","item","toggleCalendar","years","$","_","x","aughtsDefault","teensDefault","twentiesDefault","splice","findIndex","filterAlbum","albumYears","uniqueYears","Set","disabled","aughtsFiltered","teensFiltered","twentiesFiltered","every","ref","chipArray","ExpandMoreRounded","baseClassName","value","key","renderSelectedList","YearFilter_Carousal","YearFilter_CarousalItem","onMouseEnter","onMouseLeave","Header","pathname","logo","react_router_dom","to","headerParams","RankingFilter","sliderValue","setSliderValue","toggleSlider","sliderMarks","label","chipValue","FormControl","RadioGroup","row","defaultValue","FormControlLabel","control","Radio","size","sx","marginRight","Slider","marks","step","max","newValue","filterRanking","solveRanking","formattedResults","newResult","ids","keys","flatIds","flat","uniqueIds","matrix","m4th","set","gameCount","k","ratings","albumWL","albumRating","reduce","previousValue","currentValue","y","solution","lu","solve","rankings","rating","App","setArtistFilter","setYearFilter","rankingFilterValue","setRankingFilterValue","allAlbums","setAllAlbums","availableAlbums","setAvailableAlbums","loadedAlbums","setLoadedAlbums","filtersEnabled","setFiltersEnabled","_useState15","_useState16","setUserId","_useState17","_id","_useState18","userData","setUserData","_useState19","_useState20","setLoadedUserData","_useState21","_useState22","artistParams","setArtistParams","_useState23","_useState24","resultsGlobal","setResultsGlobal","_useState25","_useState26","resultsUser","setResultsUser","_useState27","_useState28","rankingGlobal","setRankingGlobal","_useState29","_useState30","setRankingUser","_useState31","_useState32","filterButtonColor","setFilterButtonColor","getUserId","fetchAlbums","fetchResults","splitArtistParams","getUserData","filterAlbums","delete","newRelativePathQuery","history","pushState","verification_method","secret","response","jsCookie","uuid","v4","expires","artistArray","rankingFilterAlbums","filterArtist","filterYear","classNyarn","run","deployame","Components_Header_Header","Components_ArtistFilter_ArtistFilter","YearFilter_YearFilter_YearFilter","RankingFilter_RankingFilter_RankingFilter","Button","top","overflow","variant","textTransform","borderRadius","endIcon","FilterAltRounded","Components_AlbumContainer_AlbumContainer","IconButton","CloseRounded","CarouselItem","Carousel","MobileCarouselItem","MobileCarousel","TableRow","setStyle","editorialNotes","rank","standard","date","getAllArtistAlbums","artistInput","sameArtist","globalIds","ranking","userIds","rankingUser","selectedRanking","renderOtherAlbums","otherAlbums","getOtherAlbums","renderRecentResults","filteredResults","recentResults","reverse","getRecentResults","getArtistArtworkUrl","artists","moment","format","screen","height","scrollIntoView","behavior","block","isExpanded","genreNames","trackCount","TableRowCarousel_Carousel","TableRowCarousel_CarouselItem","toFixed","MobileTableRowCarousel_MobileCarousel","MobileTableRowCarousel_MobileCarouselItem","TableHeader","RankingSelect","singleSelect","TypeSelect","getTypeOptions","filterTypes","toLowerCase","albumA","foundAlbum","Rankings","setAlbums","setArtists","currentRanking","setCurrentRanking","setSelectedRanking","isLoading","setIsLoading","rowExpanded","setRowExpanded","setTypeFilter","fetchArtists","getAll","filterRankings","closeRow","prevRow","usePrevious","filterType","filteredIds","yearIds","typeIds","filteredRanking","Components_RankingSelect_RankingSelect","selectedItem","Components_TypeSelect_TypeSelect","artistFilterShare","artistFilterLast","pop","yearFilterShare","yearFilterLast","shareRanking","sharedText","undefined","emoji","navigator","clipboard","writeText","padding","fontFamily","ShareOutlined","Components_TableHeader_TableHeader","Components_TableRow_TableRow","Fragment","react_router","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","basename","path","src_App","Rank_Rank","Components_Ranking_Rankings"],"mappings":"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","file":"static/js/main.a8e0915c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rankabl-logo.251c7ee4.png\";","const newShade = function(color, percent) {\n    var num = parseInt(color,16),\n      amt = Math.round(2.55 * percent),\n      R = (num >> 16) + amt,\n      B = (num >> 8 & 0x00FF) + amt,\n      G = (num & 0x0000FF) + amt;\n\n      return (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (B<255?B<1?0:B:255)*0x100 + (G<255?G<1?0:G:255)).toString(16).slice(1);\n};\n\nexport default newShade;","import React from \"react\";\nimport \"./Album.css\";\nimport newShade from \"../../util/newShade\";\nimport { stringify } from \"uuid\";\n\nclass Album extends React.Component {\n  \n  /* mouseDown() {\n    document.getElementById().style.transform = \"scale(0.99)\";\n  }\n\n  mouseUp() {\n    document.getElementById().style.transform = \"scale(1)\";\n  } */\n\n  getArtistName() {\n    if (Array.isArray(this.props.album.attributes.artistName)) {\n      return this.props.album.attributes.artistName.join(' & ');\n    } else {\n      return this.props.album.attributes.artistName;\n    }\n  }\n\n  replaceUrl(url) {\n    let coverArtUrl = url.replace('{w}', '600').replace('{h}', '600')\n    return coverArtUrl;\n  }\n  \n  \n  render() {\n    if (this.props.album) {\n      const style = { '--bg-color': '#' + this.props.album.attributes.artwork.bgColor, \n                  '--text-color-1': '#' + this.props.album.attributes.artwork.textColor1, \n                  '--text-color-2': '#' + this.props.album.attributes.artwork.textColor2, \n                  '--text-color-3': '#' + this.props.album.attributes.artwork.textColor3, \n                  '--text-color-4': '#' + this.props.album.attributes.artwork.textColor4,\n                  '--shadow': '#' + this.props.album.attributes.artwork.textColor4 + '25',\n                  '--shadow-hover': '#' + this.props.album.attributes.artwork.textColor4 + '50',\n                  '--bg-gradient': '#' + newShade(this.props.album.attributes.artwork.bgColor, 8)}\n\n      return (\n        <div className=\"album\" id={this.props.id} style={style} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp} onClick={this.props.onClick}>\n          <img src={this.replaceUrl(this.props.album.attributes.artwork.url)} alt={this.props.album.attributes.name} />\n          <h1 className=\"album-title\" >{this.props.album.attributes.name}</h1>\n          <h2 className=\"album-artist\" >{this.getArtistName()}</h2>\n        </div>\n      );\n    } \n  }\n}\n\nexport default Album;","import React, { useState, useEffect } from \"react\";\nimport Album from \"../Album/Album\";\nimport './AlbumContainer.css';\nimport { generatePairs } from \"../../util/generatePairs\";\nimport axios from \"axios\";\nimport { arrayEquals } from \"../../util/generatePairs\";\n\nconst m4th = require('m4th');\n\nconst AlbumContainer = (props) => {\n    \n    let [albumPairs, setAlbumPairs] = useState([]);\n    let [selectedPair, setSelectedPair] = useState([]);\n    let [album1, setAlbum1] = useState([]);\n    let [album2, setAlbum2] = useState([]);\n    let [loading, setLoading] = useState(false);\n    let [seenPairs, setSeenPairs] = useState([]);\n    let [needNewPair, setNeedNewPair] = useState(false);\n\n    useEffect(() => {\n        setLoading(true);\n    }, []);\n\n    useEffect(() => {\n        if (albumPairs.length === 0  && props.albumsLoaded && props.loadedUserData) {\n            setSeenPairs(props.seenPairs)\n        }\n    }, [props.albumsLoaded, props.loadedUserData]);\n\n    useEffect(() => {\n        if (props.loadedUserData && props.albums) {\n            const filteredPairs = filterPairs(props.albums)\n            setAlbumPairs(filteredPairs)\n        };\n    }, [seenPairs]);\n\n    useEffect(() => {\n        if (albumPairs.length > 0) {\n            setNeedNewPair(true);\n            console.log('new pair')\n        } else if (props.albumsLoaded && props.loadedUserData) {\n            setTimeout(() => {setLoading(false)}, 300);\n            console.log(' no more albums ')\n        }\n    }, [albumPairs]);\n\n    useEffect(() => {\n        if (needNewPair && albumPairs.length > 0) {\n            getNewAlbums(albumPairs)\n            .then(() => {\n                setNeedNewPair(false);\n                setLoading(false);\n            });\n        }\n    }, [needNewPair]);\n\n    useEffect(() => {\n        if (props.albumsLoaded) {\n            console.log('albums changed');\n            setLoading(true);\n            setTimeout(() => {setAlbumPairs(filterPairs(props.albums))}, 300);\n        }\n    }, [props.albums]);\n\n    const filterPairs = (array) => {\n        const pairs = generatePairs(array);\n        let votedPairs = [];\n        for (let i = 0; i < seenPairs.length; i++) {\n            for (let j = 0; j < pairs.length; j++) {\n                if (seenPairs[i].includes(pairs[j][0]) && seenPairs[i].includes(pairs[j][1])) {\n                    votedPairs.push(pairs[j]);\n                }\n            }\n        }\n        const finalTry = pairs.filter(pair => !votedPairs.includes(pair))\n        return finalTry;  \n    }\n\n    const selectAlbums = (array) => {\n        const selectedPair = array[Math.floor(Math.random() * array.length)];\n        return selectedPair;\n    }\n\n    const filterAvailablePairs = (seenPairsFilter, albumPairs) =>{\n        for (let i = 0; i < albumPairs.length; i++) {\n            for (let j = 0; j < seenPairs.length; j++) {\n                if (arrayEquals(albumPairs[i], seenPairs[j])) {\n                    seenPairsFilter.push(albumPairs[i]);\n                }\n            }\n        }\n    }\n\n    const getNewAlbums= async (albumArray) => {\n        const selectedAlbums = selectAlbums(albumArray);\n        const album1Index = Math.floor(Math.random() * selectedAlbums.length);\n        const album2Index = 1 - album1Index;\n        await setSelectedPair(selectedAlbums);\n        await setAlbum1(props.albums.find(album => album.id === selectedAlbums[album1Index]));\n        await setAlbum2(props.albums.find(album => album.id === selectedAlbums[album2Index]));\n        const errorMessages = Array.from(document.getElementsByClassName('skip-error-message'))\n        const skipButtons = Array.from(document.getElementsByClassName('skip-button'))\n        errorMessages.forEach(element => {\n            element.style.visibility = 'hidden';\n        });\n        skipButtons.forEach(element => {\n            element.removeAttribute('disabled');\n        }); \n    }\n\n    const pushResults = (e) => {\n        let album1Id = album1.id;\n        let album2Id = album2.id;\n        let result = {};\n        if (e.currentTarget.id === 'album1') {\n            result[album1Id] = 1;\n            result[album2Id] = -1;\n            result = {\n                album1: {\n                    id: album1Id,\n                    result: 1\n                },\n                album2: {\n                    id: album2Id,\n                    result: -1\n                }\n            }\n            setLoading(true);\n            axios({\n                url: 'https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save',\n                method: 'POST',\n                params: {\n                    userId: props.userId,\n                },\n                data: {\n                    result: result,\n                    seenPair: selectedPair\n                }\n            }).then(res => {\n                setSeenPairs(res.data.userResult.seenPairs);\n                console.log(res.data.userResult.seenPairs);\n            }).catch(err => {\n                console.log(err);\n            });\n        }\n        if (e.currentTarget.id === 'album2') {\n            result[album1Id] = -1;\n            result[album2Id] = 1;\n            result = {\n                album1: {\n                    id: album1Id,\n                    result: -1\n                },\n                album2: {\n                    id: album2Id,\n                    result: 1\n                }\n            }\n            setLoading(true);\n            axios({\n                url: 'https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save',\n                method: 'POST',\n                params: {\n                    userId: props.userId,\n                },\n                data: {\n                    result: result,\n                    seenPair: selectedPair\n                }\n            }).then(res => {\n                setSeenPairs(res.data.userResult.seenPairs);\n                console.log(res.data.userResult.seenPairs);\n            }).catch(err => {\n                console.log(err);\n            });\n        }\n    }\n\n    const handleClick = async (e) => {\n        await pushResults(e);\n    }\n\n    const skip = (e) => {\n        const album1Id = album1.id;\n        const album2Id = album2.id;\n\n        if (e.target.id === 'second') {\n            const filteredArray = albumPairs.filter(function(pairs) {\n                return pairs.includes(album1Id) && !pairs.includes(album2Id)\n            })\n            if (filteredArray.length === 0) {\n                document.getElementById('second').setAttribute(\"disabled\", \"disabled\")\n                document.getElementById('first').setAttribute(\"disabled\", \"disabled\")\n                document.getElementById('skip-error-second').style.visibility = \"visible\"\n                return\n            } else {\n                const newAlbums = selectAlbums(filteredArray);\n                setSelectedPair(newAlbums);\n                setAlbum2(props.albums.find(album => album.id === newAlbums.find(albumId => albumId !== album1Id)));\n            }\n        } else if (e.target.id === 'first') {\n            const filteredArray = albumPairs.filter(function(pairs) {\n                return pairs.includes(album2Id) && !pairs.includes(album1Id)\n            })\n            if (filteredArray.length === 0) {\n                document.getElementById('first').setAttribute(\"disabled\", \"disabled\");\n                document.getElementById('second').setAttribute(\"disabled\", \"disabled\");\n                document.getElementById('skip-error-first').style.visibility = \"visible\"\n                return\n            } else {\n                const newAlbums = selectAlbums(filteredArray);\n                setSelectedPair(newAlbums);\n                setAlbum1(props.albums.find(album => album.id === newAlbums.find(albumId => albumId !== album2Id)));\n            }\n        }\n    }\n\n    const skipBoth = () => {\n        const album1Id = album1.id;\n        const album2Id = album2.id;\n        const filteredArray = albumPairs.filter(function(pairs) {\n            return !pairs.includes(album1Id) && !pairs.includes(album2Id)\n        });\n        if (filteredArray.length === 0) {\n            document.getElementById('skip-both').setAttribute(\"disabled\", \"disabled\");\n            document.getElementById('skip-error-both').classList.add('is-visible');\n        } else {\n            const selectedAlbums = selectAlbums(filteredArray);\n            const album1Index = Math.floor(Math.random() * selectedAlbums.length);\n            const album2Index = 1 - album1Index;\n            setSelectedPair(selectedAlbums);\n            setAlbum1(props.albums.find(album => album.id === selectedAlbums[album1Index]));\n            setAlbum2(props.albums.find(album => album.id === selectedAlbums[album2Index]));\n        }\n    }\n\n    const filters = props.filters;\n    let view;\n    if (loading) {\n        view =  <div className=\"album-container\">\n                    <span className='loader' ></span>\n                </div>\n    } else if (albumPairs.length === 0) {\n        if (filters) {\n            view = <h1>No available pairs of albums. Widen filters and try again.</h1>\n            document.getElementById('first') && document.getElementById('first').setAttribute(\"disabled\", \"disabled\");\n            document.getElementById('second') && document.getElementById('second').setAttribute(\"disabled\", \"disabled\");\n            document.getElementById('skip-both') && document.getElementById('skip-both').setAttribute(\"disabled\", \"disabled\");\n        } else {\n            view = <h1>No available pairs of albums.</h1>\n            document.getElementById('first') && document.getElementById('first').setAttribute(\"disabled\", \"disabled\");\n            document.getElementById('second') && document.getElementById('second').setAttribute(\"disabled\", \"disabled\");\n            document.getElementById('skip-both') && document.getElementById('skip-both').setAttribute(\"disabled\", \"disabled\");\n        }\n    } else {\n        view =  <div className='album-container'>\n                    <Album className='album' id='album1' album={album1} onClick={handleClick} />\n                    <button className='skip skip-button' id=\"first\" onClick={skip} ></button>\n                    <button className='skip skip-button skip-both' id='skip-both' onClick={skipBoth} ></button>\n                    <Album className='album' id='album2' album={album2} onClick={handleClick} />\n                    <button className='skip skip-button' id=\"second\" onClick={skip} ></button>\n                    <p className='skip-error-message' id='skip-error-first' >No available albums</p>\n                    <p className='skip-error-both' id='skip-error-both' >No available albums</p>\n                    <p className='skip-error-message' id='skip-error-second' >No available albums</p>\n                </div>\n\n    }\n\n    return (\n        <div className='view-container'>\n            {view}\n        </div>\n    )\n\n}\n\nexport default AlbumContainer;","import seenPairs from \"../seenPairs\";\n\nexport const generatePairs = (array) => {\n    let results = [];\n    for (let i = 0; i < array.length - 1; i++) {\n        for (let j = i + 1; j < array.length; j++)\n        results.push([array[i].id, array[j].id])\n    };\n    return results;\n}\nexport function arrayEquals(a, b) {\n    return Array.isArray(a) &&\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every((val, index) => val === b[index]);\n  }\n\n\n","function getArtists(array) {\n    let results = [];\n    for (let i = 0; i < array.length; i++) {\n        if (Array.isArray(array[i].attributes.artistName)){\n            for (let j = 0; j < array[i].attributes.artistName.length; j++) {\n                let artistName = array[i].attributes.artistName[j];\n                let exists = results.some(obj => obj.name === artistName);\n                 if (!exists) {\n                    results.push({\n                        name: artistName,\n                        id: results.length + 1,\n                        count: array.filter(album => album.attributes.artistName === artistName).length})\n                }\n            }\n        } else {\n            let artistName = array[i].attributes.artistName;\n            let exists = results.some(obj => obj.name === artistName);\n            if (!exists) {\n            results.push({\n                name: artistName,\n                id: results.length + 1,\n                count: array.filter(album => album.attributes.artistName === artistName).length})\n            }\n        }\n    };\n    let sortedResults = results.sort((a, b) => b.count - a.count);\n    return sortedResults;\n}\n\nexport default getArtists;","import { createTheme } from \"@mui/material\";\n\nexport const theme = createTheme({\n    palette: {\n        primary: {\n            main: \"#CFCFCF\",\n            contrastText: \"#fff\"\n        },\n        secondary: {\n            main: \"#8673FA\",\n            contrastText: \"#fff\"\n        }\n    },\n\n    mark: {\n        color: \"red\"\n      }\n});\n\nexport const filterTheme = createTheme({\n    palette: {\n        primary: {\n            main: \"#CFCFCF\",\n            contrastText: \"#fff\"\n        },\n        secondary: {\n            main: \"#B1A5FA\",\n            contrastText: \"#fff\"\n        }\n    },\n\n    mark: {\n        color: \"red\"\n      }\n});","import React, { useState, useEffect } from \"react\";\nimport Multiselect from \"multiselect-react-dropdown\";\nimport './ArtistFilter.css'\nimport getArtists from \"../../util/getArtists\";\nimport { SearchRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport { theme } from '../MuiTheme/Theme';\n\nconst ArtistFilter = (props) => {\n    let [options, setOptions] = useState([]);\n    let [selectedValues, setSelectedValues] = useState([]);\n\n    useEffect(() => {\n        setOptions(getArtists(props.albums));\n    }, [props.albums]);\n\n    useEffect(() => {\n        if (options.length > 0) {\n            setSelectedValues(props.queryParams.map(artist => options.find(option => option.name === artist)));\n        }\n    }, [options])\n\n    useEffect( () => {\n        setOptions(getArtists(filterArtists()));\n    }, [props.yearFilter, props.typeFilter])\n\n    const filterArtists = () => {\n        let filteredAlbums = props.albums.map(album => album);\n\n        if (props.yearFilter.length > 0) {\n            filteredAlbums = filteredAlbums.filter(album => props.yearFilter.some(year => album.attributes.releaseDate.includes(year)));\n        }\n\n        if (props.typeFilter && props.typeFilter.length > 0) {\n            let typeAlbums = props.albums.filter(album => props.typeFilter.includes(album.type));\n            filteredAlbums = filteredAlbums.filter(album => typeAlbums.includes(album));\n            console.log(filteredAlbums);\n        }\n\n        return filteredAlbums\n    }\n\n\n\n    return (\n        <Multiselect id={props.id}\n        options={options} // Options to display in the dropdown\n        selectedValues={selectedValues} // Preselected value to persist in dropdown\n        onSelect={props.onSelect} // Function will trigger on select event\n        onRemove={props.onRemove} // Function will trigger on remove event\n        displayValue=\"name\" // Property name to display in the dropdown options\n        avoidHighlightFirstOption='true'\n        placeholder={'Artists'}\n        closeIcon={'cancel'}\n        hidePlaceholder={'true'}\n        closeOnSelect={'true'}\n        customArrow={<ThemeProvider theme={theme} ><SearchRounded color=\"primary\" fontSize=\"small\"/></ThemeProvider>}\n        showArrow={'true'}\n        />     \n    )\n\n}\n\nexport default ArtistFilter;","import React, { useEffect, useRef, useState } from \"react\";\nimport './YearFilter.css';\nimport $ from 'jquery';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport { theme } from '../MuiTheme/Theme';\n\nconst CarousalItem = ({children, width}) => {\n    return (\n        <div className=\"carousal-item\" style={{width: width}}>\n            {children}\n        </div>\n    );\n}\n\nconst Carousal = ({children}) => {\n    const [activeIndex, setActiveIndex] = useState(2);\n    \n    const updateIndex = (newIndex) => {\n        if (newIndex < 0) {\n            newIndex = 0;\n        } else if (newIndex >= React.Children.count(children)) {\n            newIndex = React.Children.count(children) - 1;\n        }\n\n        setActiveIndex(newIndex);\n    }\n\n    const getDecade = (index) => {\n        switch (index) {\n            case 0:\n                return \"2000's\";\n            case 1:\n                return \"2010's\";\n            case 2:\n                return \"2020's\";\n            default:\n                return \"Select years\";\n        }\n    }\n\n    return (\n        <div className=\"carousal\">\n            <div className='indicators'>\n                <button className='next-prev-button' onClick={() => {\n                    updateIndex(activeIndex - 1);\n                }}\n                >\n                    &lsaquo;\n                </button>\n                <span id='decade' >{getDecade(activeIndex)}</span>\n                <button className='next-prev-button' onClick={() => {\n                    updateIndex(activeIndex + 1);\n                }}\n                >\n                    ›\n                </button>\n            </div>\n            <div className=\"inner\" style={{ transform: `translateX(-${activeIndex * 100}%)` }}>\n                {React.Children.map(children, (child, index) => {\n                    return React.cloneElement(child, {width: \"100%\" });\n                })}\n            </div>\n        </div>\n    );\n}\n\nexport const YearFilter = (props) => {\n    let [selectedList, setSelectedList] = useState([]);\n    let [isOpen, setIsOpen] = useState(false);\n    let [count, setCount] = useState(0);\n    let [aughts, setAughts] = useState(['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009']);\n    let [teens, setTeens] = useState(['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019']);\n    let [twenties, setTwenties] = useState(['2020', '2021', '2022']);\n    \n    useEffect(() => {\n        if (count > 0) {\n            document.getElementById(props.filterId).classList.toggle('display');\n            console.log('filter display toggled');\n        }\n    }, [isOpen]);\n\n    let calendarRef= useRef();\n\n    useEffect(() => {\n        let handler = (event) => {\n            if (!calendarRef.current.contains(event.target)) {\n                document.getElementById(props.filterId).classList.add('display');\n            }\n        };\n\n        document.addEventListener('mousedown', handler);\n\n        return () => {\n            document.removeEventListener('mousedown', handler);\n        };\n    });\n\n    useEffect(() => {\n        props.onChange(selectedList);\n    }, [selectedList]);\n\n    useEffect(() => {\n        setSelectedList(splitYearParams);\n    }, [])\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            disableYears();\n        }\n    }, [props.albums, props.artistFilter, props.typeFilter])\n\n    let searchParams = new URLSearchParams(window.location.search);\n    \n    const splitYearParams = () => {\n        let yearParams = searchParams.get('years');\n        if (yearParams !== null) {\n            let yearArray = yearParams.split(',');\n            return yearArray;\n        } else {\n            return [];\n        }\n    }\n\n    function yearHover(e) {\n        e.target.classList.add(\"hover\");\n    }\n\n    function yearHoverLeave(e) {\n        e.target.classList.remove(\"hover\");\n        e.target.classList.remove(\"select-hover\");\n    }\n\n    function selectYear(e) {\n        \n        if (e.target.classList.contains(\"year-selected\")) {\n            onRemoveSelectedItem(e.target.innerHTML)\n            if (e.target.classList.contains('aughts')) {\n                document.getElementById('select-all-aughts').classList.remove('year-selected');\n            } else if (e.target.classList.contains('teens')) {\n                document.getElementById('select-all-teens').classList.remove('year-selected');\n            } else if (e.target.classList.contains('twenties')) {\n                document.getElementById('select-all-twenties').classList.remove('year-selected');\n            }\n        } else {\n            e.target.classList.toggle(\"year-selected\");\n            let newList = [...selectedList, e.target.innerHTML];\n            setSelectedList(newList.sort());\n        }\n    }\n\n    function selectDecade(e) {\n        if (e.target.classList.contains('aughts')) {\n            if (!e.target.classList.contains('year-selected')) {\n                let pushedArray = aughts.filter(year => !selectedList.includes(year));\n                setSelectedList([...selectedList, ...pushedArray]);\n                Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.add('year-selected')); \n            } else {\n                setSelectedList(selectedList.filter(year => !aughts.includes(year)))\n                Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.remove('year-selected'));\n                document.getElementById('select-all-aughts').innerHTML = 'Select All';\n            }\n        } else if (e.target.classList.contains('teens')) {\n            if (!e.target.classList.contains('year-selected')) {\n                let pushedArray = teens.filter(year => !selectedList.includes(year));\n                setSelectedList([...selectedList, ...pushedArray]);\n                Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.add('year-selected')); \n            } else {\n                setSelectedList(selectedList.filter(year => !teens.includes(year)))\n                Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.remove('year-selected'));\n                document.getElementById('select-all-teens').innerHTML = 'Select All';\n            }\n        } else if (e.target.classList.contains('twenties')) {\n            if (!e.target.classList.contains('year-selected')) {\n                let pushedArray = twenties.filter(year => !selectedList.includes(year));\n                console.log(pushedArray);\n                setSelectedList([...selectedList, ...pushedArray]);\n                Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.add('year-selected')); \n            } else {\n                setSelectedList(selectedList.filter(year => !twenties.includes(year)))\n                Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.remove('year-selected'));\n                document.getElementById('select-all-twenties').innerHTML = 'Select All';\n            }\n        }\n    }\n\n    \n    function renderSelectedList() { \n        let chipArray = selectedList; \n        if (aughts.length > 0 && aughts.every(year => chipArray.includes(year))) {\n            chipArray = chipArray.filter(year=> !aughts.includes(year));\n            chipArray.push(\"2000's\")\n            chipArray.sort()\n            document.getElementById('select-all-aughts').classList.add(\"year-selected\");\n            document.getElementById('select-all-aughts').innerHTML = 'Remove All'\n        }\n        if (teens.length > 0 && teens.every(year => chipArray.includes(year))) {\n            chipArray = chipArray.filter(year=> !teens.includes(year));\n            chipArray.push(\"2010's\")\n            chipArray.sort();\n            document.getElementById('select-all-teens').classList.add(\"year-selected\");\n            document.getElementById('select-all-teens').innerHTML = 'Remove All'\n        }\n        if (twenties.length > 0 && twenties.every(year => chipArray.includes(year))) {\n            chipArray = chipArray.filter(year=> !twenties.includes(year));\n            chipArray.push(\"2020's\")\n            chipArray.sort();\n            document.getElementById('select-all-twenties').classList.add(\"year-selected\");\n            document.getElementById('select-all-twenties').innerHTML = 'Remove All'\n        }\n        if (selectedList.length === 0) {\n            return <div className='placeholder' onClick={toggleCalendar} >\n                <p className='placeholder-text'>Years</p>\n                <ThemeProvider theme={theme}>\n                    <ExpandMoreRounded color=\"primary\" baseClassName=\"icon\" id=\"year-filter-icon\"/>\n                </ThemeProvider>\n                </div>\n        } else {\n            return chipArray.map((value, index) => (\n                <span className='chip-year' key={index}>\n                    {value} <img\n                    className=\"icon_cancel closeIcon\" \n                    alt='Cancel icon'\n                    src=\"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E\" \n                    onClick={() => onRemoveSelectedItem(value)}>\n                    </img>\n                </span>\n            ));\n        }\n    }\n\n    \n    function onRemoveSelectedItem(item) {\n        if (item === \"2000's\") {\n            setSelectedList(selectedList.filter(year => !aughts.includes(year)))\n            Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-aughts').innerHTML = 'Select All';\n        } else if (item === \"2010's\") {\n            setSelectedList(selectedList.filter(year => !teens.includes(year)))\n            Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-teens').innerHTML = 'Select All';\n        } else if (item === \"2020's\") {\n            setSelectedList(selectedList.filter(year => !twenties.includes(year)))\n            Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-twenties').innerHTML = 'Select All';\n        } else {\n            setSelectedList(selectedList.filter(year => year !== item));\n            document.getElementById(item).classList.remove(\"year-selected\");\n            if (document.getElementById(item).classList.contains('aughts')) {\n                document.getElementById('select-all-aughts').classList.remove(\"year-selected\");\n                document.getElementById('select-all-aughts').innerHTML = 'Select All';\n            } else if (document.getElementById(item).classList.contains('teens')) {\n                document.getElementById('select-all-teens').classList.remove(\"year-selected\");\n                document.getElementById('select-all-teens').innerHTML = 'Select All';\n            } else if (document.getElementById(item).classList.contains('twenties')) {\n                document.getElementById('select-all-twenties').classList.remove(\"year-selected\");\n                document.getElementById('select-all-twenties').innerHTML = 'Select All';\n            }\n        }\n\t\t\n    }\n\n    function toggleCalendar() {\n        setCount(1);\n        setIsOpen(!isOpen);\n    }\n\n    function handleLabelClick(event) {\n        if (event.target !== event.currentTarget) {\n        } else {\n            toggleCalendar();\n        }\n    }\n\n    const disableYears = () => {\n        let years = $('.year').map(function(_, x) {return x.id; }).get();\n        let filteredAlbums = props.albums.map(album => album);\n        let aughtsDefault = ['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009'];\n        let teensDefault = ['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019'];\n        let twentiesDefault = ['2020', '2021', '2022'];\n\n        if (props.artistFilter.length > 0) {\n            props.albums.forEach(album => {\n                if (Array.isArray(album.attributes.artistName)) {\n                  if (album.attributes.artistName.some(artist => props.artistFilter.includes(artist)) === false) {\n                    filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n                  } \n                } else {\n                  if ((props.artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                    filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n                  }\n                }\n            });\n        }\n\n        if (props.typeFilter && props.typeFilter.length > 0) {\n            let typeAlbums = props.albums.filter(album => props.typeFilter.includes(album.type));\n            filteredAlbums = filteredAlbums.filter(album => typeAlbums.includes(album));\n            console.log(filteredAlbums);\n        }\n\n        const albumYears = filteredAlbums.map(album => album.attributes.releaseDate.split('-')[0]);\n        const uniqueYears = [...new Set(albumYears)];\n        const yearsNotInData = years.filter(year => !uniqueYears.includes(year));\n        years.forEach(year => {\n            uniqueYears.includes(year) ? document.getElementById(year).disabled = false : document.getElementById(year).disabled = true;\n        });\n        \n        let aughtsFiltered = aughtsDefault.filter(year => uniqueYears.includes(year));\n        setAughts(aughtsFiltered);\n        let teensFiltered = teensDefault.filter(year => uniqueYears.includes(year));\n        setTeens(teensFiltered);\n        let twentiesFiltered = twentiesDefault.filter(year => uniqueYears.includes(year));\n        setTwenties(twentiesFiltered);\n\n        if (aughts.every(year => document.getElementById(year).disabled) || aughts.length === 0) {\n            document.getElementById('select-all-aughts').disabled = true;\n        }\n        if (twenties.some(year => document.getElementById(year).disabled === false) || twenties.length === 0) {\n            document.getElementById('select-all-aughts').disabled = false;\n        }\n        if (teens.every(year => document.getElementById(year).disabled) || teens.length === 0) {\n            document.getElementById('select-all-teens').disabled = true;\n        }\n        if (twenties.some(year => document.getElementById(year).disabled === false) || twenties.length === 0) {\n            document.getElementById('select-all-teens').disabled = false;\n        }\n        if (twenties.every(year => document.getElementById(year).disabled) || twenties.length === 0) {\n            document.getElementById('select-all-twenties').disabled = true;\n        }\n        if (twenties.some(year => document.getElementById(year).disabled === false) || twenties.length === 0) {\n            document.getElementById('select-all-twenties').disabled = false;\n        }\n\n        if (document.getElementById('select-all-aughts').classList.contains('year-selected')) {\n            let pushedArray = aughtsDefault.filter(year => uniqueYears.includes(year)).filter(year => !selectedList.includes(year));\n            console.log(pushedArray);\n            setSelectedList([...selectedList, ...pushedArray]);\n        }\n        if (document.getElementById('select-all-teens').classList.contains('year-selected')) {\n            let pushedArray = teensDefault.filter(year => uniqueYears.includes(year)).filter(year => !selectedList.includes(year));\n            console.log(pushedArray);\n            setSelectedList([...selectedList, ...pushedArray]);\n        }\n        if (document.getElementById('select-all-twenties').classList.contains('year-selected')) {\n            let pushedArray = twentiesDefault.filter(year => uniqueYears.includes(year)).filter(year => !selectedList.includes(year));\n            console.log(pushedArray);\n            setSelectedList([...selectedList, ...pushedArray]);\n        }\n    }\n\n\n    return (\n        <div ref={calendarRef} id={props.id}>\n            <div className='year-filter-container' id={`${props.id}-container`} >\n                <div className='chip-wrapper' onClick={handleLabelClick}>\n                    {renderSelectedList()}\n                </div>\n            </div>\n            <div className='calendar-wrapper display' id={props.filterId}>\n                <Carousal>\n                    <CarousalItem>\n                        <div className='years-wrapper'>\n                            <button className='year aughts first-year' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2000'>2000</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2001'>2001</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2002' >2002</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2003' >2003</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2004' >2004</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2005' >2005</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2006' >2006</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2007' >2007</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2008' >2008</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2009' >2009</button>\n                            <button className='select-all aughts' id='select-all-aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectDecade} >Select All</button>\n                        </div>\n                    </CarousalItem>\n                    <CarousalItem>\n                        <div className='years-wrapper'>\n                            <button className='year teens first-year' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2010'>2010</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2011'>2011</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2012' >2012</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2013' >2013</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2014' >2014</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2015' >2015</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2016' >2016</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2017' >2017</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2018' >2018</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2019' >2019</button>\n                            <button className='select-all teens' id='select-all-teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectDecade} >Select All</button>\n                        </div>\n                    </CarousalItem>\n                    <CarousalItem>\n                        <div className='years-wrapper'>\n                            <button className='year twenties first-year' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2020'>2020</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2021'>2021</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2022' >2022</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2023' >2023</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2024' >2024</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2025' >2025</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2026' >2026</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2027' >2027</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2028' >2028</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2029' >2029</button>\n                            <button className='select-all twenties' id='select-all-twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectDecade} >Select All</button>\n                        </div>\n                    </CarousalItem>\n                </Carousal>                 \n            </div>           \n        </div>\n    )\n}","import React, { useEffect } from \"react\";\nimport './Header.css';\nimport logo from '../../Images/rankabl-logo.png';\nimport { Link } from \"react-router-dom\";\n\nconst Header = (props) => {\n    useEffect(() => {\n        if (window.location.pathname === '/') {\n            document.getElementById('rank').classList.add('active');\n        }\n        if (window.location.pathname === '/rankings') {\n            document.getElementById('rankings').classList.add('active');\n        }\n    }, [])\n\n    return (\n        <header className=\"header\">\n            <div className=\"header-logo\">\n                <img src={logo} alt='rankabl-logo' className='logo' />\n                <h1 className=\"brand\">rankabl</h1>\n            </div>\n            <div className=\"nav-container\">\n                <nav className=\"nav\">\n                    <ul className=\"nav-list\">\n                        <li className=\"nav-item\" id='rank'>\n                            <Link to={`/${(props.artistFilter && props.artistFilter.length > 0 && props.yearFilter && props.yearFilter > 0) ? '?artist=' + props.artistFilter.join('%2C') + '&years=' + props.yearFilter.join('%2C') : (props.artistFilter && props.artistFilter.length > 0) ? '?artist=' + props.artistFilter.join('%2C') : (props.yearFilter && props.yearFilter.length > 0) ? '?years=' + props.yearFilter.join('%2C') : ''}`}>RANK</Link>\n                        </li>\n                        <li className=\"nav-item\" id='rankings'>\n                            <Link to={props.headerParams ? '/rankings' + '?' + props.headerParams.toString() : '/rankings' }>RANKINGS</Link>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import React, { useEffect, useRef, useState } from \"react\";\nimport './RankingFilter.css';\nimport $ from 'jquery';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport { theme } from '../MuiTheme/Theme';\nimport { Slider } from \"@mui/material\";\nimport { RadioGroup } from \"@mui/material\";\nimport {FormControl} from \"@mui/material\";\nimport {FormControlLabel} from \"@mui/material\";\nimport {FormLabel} from \"@mui/material\";\nimport { Radio } from \"@mui/material\";\n\nexport const RankingFilter = (props) => {\n    let [selectedList, setSelectedList] = useState([]);\n    let [isOpen, setIsOpen] = useState(false);\n    let [count, setCount] = useState(0);\n    let [sliderValue, setSliderValue] = useState();\n    let [aughts, setAughts] = useState(['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009']);\n    let [teens, setTeens] = useState(['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019']);\n    let [twenties, setTwenties] = useState(['2020', '2021', '2022']);\n    \n    useEffect(() => {\n        if (count > 0) {\n            document.getElementById(props.filterId).classList.toggle('display');\n        }\n    }, [isOpen]);\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            setSliderValue(props.albums.length);\n        }\n    }, [props.albums]);\n\n    let calendarRef= useRef();\n\n    useEffect(() => {\n        let handler = (event) => {\n            if (!calendarRef.current.contains(event.target)) {\n                document.getElementById(props.filterId).classList.add('display');\n            }\n        };\n\n        document.addEventListener('mousedown', handler);\n\n        return () => {\n            document.removeEventListener('mousedown', handler);\n        };\n    });\n\n    useEffect(() => {\n        // props.onChange(selectedList);\n    }, [selectedList]);\n\n\n    let searchParams = new URLSearchParams(window.location.search);\n\n    \n    function renderSelectedList() { \n        let chipValue; \n        let sliderValues = [10, 20, 50, 100, 200]\n        if (sliderValues.some(value => value === sliderValue)) {\n            return (\n                <div className='chip-container'>\n                    <span className='chip-ranking'>\n                        {`Top ${sliderValue}`} <img\n                        className=\"icon_cancel closeIcon\" \n                        alt='Cancel icon'\n                        src=\"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E\" \n                        onClick={() => onRemoveSelectedItem(chipValue)}>\n                        </img>\n                    </span>\n                    <ThemeProvider theme={theme}>\n                        <ExpandMoreRounded color=\"primary\" baseClassName=\"icon\" id={`${props.id}-icon-chip`} onClick={toggleSlider}/>\n                    </ThemeProvider>\n                </div>\n            );\n        } else {\n            return (\n                <div className='placeholder' onClick={toggleSlider} >\n                    <p className='placeholder-text'>Ranking</p>\n                    <ThemeProvider theme={theme}>\n                        <ExpandMoreRounded color=\"primary\" baseClassName=\"icon\" id={`${props.id}-icon`}/>\n                    </ThemeProvider>\n                </div>\n            )\n        }\n    }\n\n    \n    function onRemoveSelectedItem(item) {\n        if (item === \"2000's\") {\n            setSelectedList(selectedList.filter(year => !aughts.includes(year)))\n            Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-aughts').innerHTML = 'Select All';\n        } else if (item === \"2010's\") {\n            setSelectedList(selectedList.filter(year => !teens.includes(year)))\n            Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-teens').innerHTML = 'Select All';\n        } else if (item === \"2020's\") {\n            setSelectedList(selectedList.filter(year => !twenties.includes(year)))\n            Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-twenties').innerHTML = 'Select All';\n        } else {\n            setSelectedList(selectedList.filter(year => year !== item));\n            document.getElementById(item).classList.remove(\"year-selected\");\n            if (document.getElementById(item).classList.contains('aughts')) {\n                document.getElementById('select-all-aughts').classList.remove(\"year-selected\");\n                document.getElementById('select-all-aughts').innerHTML = 'Select All';\n            } else if (document.getElementById(item).classList.contains('teens')) {\n                document.getElementById('select-all-teens').classList.remove(\"year-selected\");\n                document.getElementById('select-all-teens').innerHTML = 'Select All';\n            } else if (document.getElementById(item).classList.contains('twenties')) {\n                document.getElementById('select-all-twenties').classList.remove(\"year-selected\");\n                document.getElementById('select-all-twenties').innerHTML = 'Select All';\n            }\n        }\n\t\t\n    }\n\n    function toggleSlider() {\n        setCount(1);\n        setIsOpen(!isOpen);\n    }\n\n    function handleLabelClick(event) {\n        if (event.target !== event.currentTarget) {\n        } else {\n            toggleSlider();\n        }\n    }\n\n    const sliderValueChange = (event, newValue) => {\n        setSliderValue(newValue);\n        props.filterRanking(newValue);\n    }\n    \n\n    const sliderMarks = [{value: 10, label: '10'}, {value: 20, label: '20'}, {value: props.albums.length, label: 'All'}];\n\n    return (\n        <div ref={calendarRef} id={props.id}>\n            <div className='ranking-filter-container' id='ranking-filter-container' >\n                <div className='chip-wrapper' onClick={handleLabelClick}>\n                    {renderSelectedList()}\n                </div>\n            </div>\n            <div className='ranking-slider display' id={props.filterId}>\n                <ThemeProvider theme={theme}>\n                    <FormControl>\n                        <RadioGroup row defaultValue=\"global\" color='primary'>\n                            <FormControlLabel value=\"global\" control={<Radio color='secondary' size='small'/>} label=\"Global\" sx={{color: '#cfcfcf', marginRight: '24px'}}/>\n                            <FormControlLabel value=\"personal\" control={<Radio color='secondary' size='small' id='radio-personal' />} label=\"Personal\" sx={{color: '#cfcfcf'}}/>\n                        </RadioGroup>\n                    </FormControl>\n                    <Slider \n                    color=\"secondary\"\n                    marks={sliderMarks}\n                    step={null}\n                    defaultValue={48}\n                    max={props.albums.length} \n                    onChange={sliderValueChange}/>\n                    \n                </ThemeProvider>\n            </div>           \n        </div>\n    )\n}","import m4th from 'm4th';\n\nconst solveRanking = (results) => {\n    let formattedResults = [];\n    results.forEach(result => {\n        let newResult = {};\n        newResult[result.album1.id] = result.album1.result;\n        newResult[result.album2.id] = result.album2.result;\n        formattedResults.push(newResult);\n    });\n    console.log(formattedResults);\n    let ids = [];\n    for (let i = 0; i < formattedResults.length; i++) {\n        ids.push(Object.keys(formattedResults[i]))\n    };\n    console.log(ids);\n    let flatIds = ids.flat();\n    console.log(flatIds);\n    let uniqueIds = [...new Set(flatIds)];\n    console.log(uniqueIds);\n    let matrix = m4th.matrix(uniqueIds.length);\n    matrix = matrix.map(function(element){\n        return 0;\n      });\n    for (let i = 0; i < uniqueIds.length; i++) {\n        matrix.set(i, i, flatIds.filter(id => id === uniqueIds[i]).length + 2);\n        for (let j = i+1; j < uniqueIds.length; j++) {\n            let gameCount = matrix.get(i, j) || 0;\n            for (let k = 0; k < formattedResults.length; k++) {\n                if (uniqueIds[i] in formattedResults[k] && uniqueIds[j] in formattedResults[k]) {\n                    matrix.set(i, j, gameCount-1);\n                    matrix.set(j, i, gameCount-1);\n                }\n            }\n        }\n    }\n    console.log(matrix);\n    let ratings = [];\n    for (let i = 0; i < uniqueIds.length; i++) {\n        let albumWL = [];\n        for (let j = 0; j < formattedResults.length; j++) {\n            if (uniqueIds[i] in formattedResults[j]) {\n                albumWL.push(formattedResults[j][uniqueIds[i]])\n            }\n        };\n        let albumRating = 1 + 0.5 * (albumWL.reduce((previousValue, currentValue) => previousValue + currentValue,\n        0));\n        ratings.push(albumRating);\n    }\n    let y = m4th.matrix(uniqueIds.length, ratings);\n    const solution = m4th.lu(matrix).solve(y);\n    const rankings = [];\n    for (let i = 0; i < uniqueIds.length; i++) {\n        rankings.push({\n            albumId: uniqueIds[i],\n            rating: solution.array[i]\n        })\n    };\n    const sortedRankings = rankings.sort((a, b) => b.rating - a.rating);\n    return sortedRankings;\n}\n\nexport default solveRanking;","import './Rank.css';\nimport AlbumContainer from '../AlbumContainer/AlbumContainer';\nimport React, { useState, useEffect } from 'react';\nimport ArtistFilter from '../ArtistFilter/ArtistFilter';\nimport { YearFilter } from '../YearFilter/YearFilter';\nimport axios from 'axios';\nimport jsCookie from 'js-cookie';\nimport uuid from 'uuid';\nimport Header from '../Header/Header';\nimport { RankingFilter } from '../RankingFilter/RankingFilter';\nimport solveRanking from '../../util/solveRanking';\nimport { Button } from '@mui/material';\nimport { FilterAltRounded } from '@mui/icons-material';\nimport { ThemeProvider } from '@mui/system';\nimport { theme, filterTheme } from '../MuiTheme/Theme';\nimport { IconButton } from '@mui/material';\nimport { CloseRounded } from '@mui/icons-material';\n\nconst App = () => {\n\n  let [artistFilter, setArtistFilter] = useState([]);\n  let [yearFilter, setYearFilter] = useState([]);\n  let [rankingFilterValue, setRankingFilterValue] = useState(0);\n  let [allAlbums, setAllAlbums] = useState([]);\n  let [availableAlbums, setAvailableAlbums] = useState([]);\n  let [loadedAlbums, setLoadedAlbums] = useState(false);\n  let [filtersEnabled, setFiltersEnabled] = useState(false);\n  let [userId, setUserId] = useState('');\n  let [userData, setUserData] = useState({ _id: '', userId: '', results: [], seenPairs: [] });\n  let [loadedUserData, setLoadedUserData] = useState(false);\n  let [artistParams, setArtistParams] = useState('');\n  let [resultsGlobal, setResultsGlobal] = useState([]);\n  let [resultsUser, setResultsUser] = useState([]);\n  let [rankingGlobal, setRankingGlobal] = useState([]);\n  let [rankingUser, setRankingUser] = useState([]);\n  let [filterButtonColor, setFilterButtonColor] = useState('primary');\n\n  useEffect(() => {\n    getUserId();\n    fetchAlbums();\n    fetchResults();\n    setArtistParams(splitArtistParams());\n  }, []) \n\n  useEffect(() => {\n    if (userId !== '') {\n      getUserData();\n    }\n  }, [userId]);\n\n  useEffect(() => {\n    if (resultsGlobal.length > 0) {\n        setRankingGlobal(solveRanking(resultsGlobal));\n    }\n  }, [resultsGlobal]);\n\n  useEffect(() => {\n    if (resultsUser.length > 0) {\n        setRankingUser(solveRanking(resultsUser));\n    }\n  }, [resultsUser]);\n\n  useEffect(() => {\n    filterAlbums();\n    if (artistFilter.length > 0 || yearFilter.length > 0 || rankingFilterValue !== allAlbums.length) {\n      setFiltersEnabled(true);\n    } else {\n      setFiltersEnabled(false);\n    }\n    if (artistFilter.length === 0) {\n      searchParams.delete('artist');\n      var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n      window.history.pushState(null, '', newRelativePathQuery);\n    }\n    if (yearFilter.length === 0) {\n      searchParams.delete('years');\n      var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n      window.history.pushState(null, '', newRelativePathQuery);\n    }\n      \n  }, [artistFilter, yearFilter, rankingFilterValue]);\n\n  useEffect(() => {\n    filterAlbums();\n  }, [rankingFilterValue]);\n\n  useEffect(() => {\n    if (allAlbums.length > 0) {\n      setLoadedAlbums(true);\n      setArtistFilter(artistParams);\n      setRankingFilterValue(allAlbums.length);\n    }\n  }, [allAlbums])\n\n  useEffect(() => {\n    if (filtersEnabled) {\n      setFilterButtonColor('secondary');\n    } else {\n      setFilterButtonColor('primary');\n    }\n  }, [filtersEnabled])\n\n  let searchParams = new URLSearchParams(window.location.search);\n\n  const fetchAlbums = () => {\n    axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums', {\n      params: {\n        \"verification_method\": \"SECRET_AS_QUERY_PARAM\",\n        \"secret\": \"temperature\"\n      }\n    })\n    .then(response => {\n      setAllAlbums(response.data);\n      setAvailableAlbums(response.data);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  const getUserId = () => {\n    if (!jsCookie.get('user')) {\n      jsCookie.set('user', uuid.v4(), { expires: 10000 });\n      setUserId(jsCookie.get('user'));\n    } else {\n      setUserId(jsCookie.get('user'));\n    }\n  }\n\n  const getUserData = () => {\n    if (userId !== '') {\n      axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser', {\n        params: {\n          userId: userId\n        }\n      }).then (response => {\n        if (response.data !== null) {\n        setUserData(response.data);\n        setLoadedUserData(true);\n        setResultsUser(response.data.results);\n        } else {\n          setLoadedUserData(true);\n        }\n      })\n    }\n  }\n\n  const fetchResults = () => {\n    axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults', {\n    })\n    .then(response => {\n        setResultsGlobal(response.data);\n    })\n    .catch(err => {\n        console.log(err);\n     });\n}\n\n  const splitArtistParams = () => {\n    let artistParams = searchParams.get('artist');\n    if (artistParams !== null) {\n        let artistArray = artistParams.split(',');\n        console.log('filter set from params');\n        return artistArray;\n    } else {\n        return [];\n    }\n  }\n\n  const filterAlbums = () => {\n    console.log(rankingFilterValue);\n    if (artistFilter.length === 0 && yearFilter.length === 0 && rankingFilterValue === allAlbums.length) {\n      setAvailableAlbums(allAlbums);\n    } else {\n      let filteredAlbums = allAlbums.map(album => album);\n      if (artistFilter.length > 0) {\n        allAlbums.forEach(album => {\n            if (Array.isArray(album.attributes.artistName)) {\n              if (album.attributes.artistName.some(artist => artistFilter.includes(artist)) === false) {\n                filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n              } \n            } else {\n              if ((artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n              }\n            }\n          });\n          searchParams.set('artist', artistFilter);\n          var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n          window.history.pushState(null, '', newRelativePathQuery);\n      }\n      if (yearFilter.length > 0) {\n        filteredAlbums = filteredAlbums.filter(album => yearFilter.some(year => album.attributes.releaseDate.includes(year)));\n        searchParams.set('years', yearFilter);\n        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n        window.history.pushState(null, '', newRelativePathQuery);\n      }\n      if (rankingGlobal.length > 0 && rankingFilterValue < allAlbums.length) {\n        const rankingFilterAlbums = rankingGlobal.map(album => album.albumId).slice(0, rankingFilterValue);\n        console.log(rankingFilterAlbums);\n        filteredAlbums = filteredAlbums.filter(album => rankingFilterAlbums.includes(album.id));\n        console.log(filteredAlbums);\n      }\n      setAvailableAlbums(filteredAlbums);   \n    }\n  }\n\n  const filterArtist = (selectedList) => {\n    const artistFilter = selectedList.map(artist => artist.name);\n    setArtistFilter(artistFilter);\n  }\n\n  const filterYear = (selectedList) => {\n    setYearFilter(selectedList);\n  }\n\n  const filterRanking = (value) => {\n    setRankingFilterValue(value);\n  }\n\n  const openFilterDrawer = () => {\n    document.getElementById('filter-drawer').style.top = '0';\n    document.getElementById('rank-page-container').style.overflow = 'hidden';\n  }\n\n  const closeFilterDrawer = () => {\n    document.getElementById('filter-drawer').style.top = '100%';\n    document.getElementById('rank-page-container').style.overflow = 'auto';\n  }\n\n  return (\n    <div classNyarn run deployame=\"page-container\" id=\"rank-page-container\">\n      <Header headerParams={searchParams}/>\n      <div className=\"container\">\n        <div className=\"Rank\">\n          <div className='filters'>\n            <ArtistFilter id='artist-filter' onSelect={filterArtist} onRemove={filterArtist} albums={allAlbums} queryParams={artistFilter} yearFilter={yearFilter}/>\n            <YearFilter id='year-filter' filterId='calendar' onChange={filterYear} albums={allAlbums} artistFilter={artistFilter} />\n            <RankingFilter id='ranking-filter' filterId='ranking-slider' albums={allAlbums} filterRanking={filterRanking}/>\n            <ThemeProvider theme={filterTheme}>\n              <Button id='filter-button' onClick={openFilterDrawer} variant=\"outlined\" color={filterButtonColor} size=\"small\" sx={{ textTransform: \"none\", borderRadius: \"15px\" }}endIcon={<FilterAltRounded size=\"small\" />}>\n                Filters\n              </Button>\n            </ThemeProvider>\n          </div>\n          <AlbumContainer albums={availableAlbums} albumsLoaded={loadedAlbums} filters={filtersEnabled} userId={userId} seenPairs={userData.seenPairs} loadedUserData={loadedUserData}/>\n        </div>\n      </div>\n      <div className=\"filter-drawer\" id=\"filter-drawer\">\n        <div className=\"filter-drawer-content\">\n          <div className=\"filter-drawer-header\">\n            <div></div>\n            <div className=\"filter-drawer-header-title\">\n              Filters\n            </div>\n            <ThemeProvider theme={theme}>\n              <IconButton color='primary' size=\"large\" onClick={closeFilterDrawer}>\n                <CloseRounded fontSize=\"inherit\"/>\n              </IconButton>\n            </ThemeProvider>\n          </div>\n          <div className=\"filter-drawer-body\">\n            <ArtistFilter id='artist-filter-drawer' onSelect={filterArtist} onRemove={filterArtist} albums={allAlbums} queryParams={artistFilter} yearFilter={yearFilter}/>\n            <YearFilter id='year-filter-drawer' filterId='calendar-drawer' onChange={filterYear} albums={allAlbums} artistFilter={artistFilter} />\n            <RankingFilter id='ranking-filter-drawer' filterId='ranking-slider-drawer' albums={allAlbums} filterRanking={filterRanking}/>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useState } from \"react\";\nimport './TableRowCarousel.css';\n\n\n\nexport const CarouselItem = ({children, width}) => {\n    return (\n        <div className=\"carousal-item\" style={{width: width}}>\n            {children}\n        </div>\n    );\n}\n\nexport const Carousel = ({children}) => {\n    const [activeIndex, setActiveIndex] = useState(0);\n    \n    const updateIndex = (newIndex) => {\n        setActiveIndex(newIndex);\n    }\n\n    return (\n        <div className=\"carousel\">\n            <div className=\"inner\" style={{ transform: `translateX(-${activeIndex * 100}%)` }}>\n                {React.Children.map(children, (child, index) => {\n                    return React.cloneElement(child, {width: \"100%\" });\n                })}\n            </div>\n            <div className='carousel-dots'>\n                    <div className={`dot ${ activeIndex === 0 ? 'active' : ''}`} id='dot-0' onClick={() => updateIndex(0)}></div>\n                    <div className={`dot ${ activeIndex === 1 ? 'active' : ''}`} id='dot-1' onClick={() => updateIndex(1)}></div>\n            </div>\n        </div>\n    );\n}","import React, { useState } from \"react\";\nimport './TableRowCarousel.css';\n\n\n\nexport const MobileCarouselItem = ({children, width}) => {\n    return (\n        <div className=\"mobile-carousal-item\" style={{width: width}}>\n            {children}\n        </div>\n    );\n}\n\nexport const MobileCarousel = ({children}) => {\n    const [activeIndex, setActiveIndex] = useState(0);\n    \n    const updateIndex = (newIndex) => {\n        setActiveIndex(newIndex);\n    }\n\n    return (\n        <div className=\"mobile-carousel\">\n            <div className=\"inner\" style={{ transform: `translateX(-${activeIndex * 100}%)` }}>\n                {React.Children.map(children, (child, index) => {\n                    return React.cloneElement(child, {width: \"100%\" });\n                })}\n            </div>\n        </div>\n    );\n}","import React, { useState, useEffect } from \"react\";\nimport './TableRow.css';\nimport moment from \"moment\";\nimport newShade from \"../../util/newShade\";\nimport { Carousel, CarouselItem } from \"./TableRowCarousel.js\";\nimport { MobileCarousel, MobileCarouselItem } from \"./MobileTableRowCarousel.js\";\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\n\nconst TableRow = (props) => {\n    let [style, setStyle] = useState({});\n\n    const formatDate = (date) => {\n    return moment(date).format('MMMM Do, YYYY');\n    }\n\n    useEffect(() => {\n        if (props.album) {\n            if (props.album.attributes.editorialNotes && document.getElementById('editorial-notes-' + props.rank)) {\n                document.getElementById('editorial-notes-' + props.rank).innerHTML = props.album.attributes.editorialNotes.standard;\n            }\n            setStyle({\n                '--bg-color': '#' + props.album.attributes.artwork.bgColor, \n                '--text-color-1': '#' + props.album.attributes.artwork.textColor1, \n                '--text-color-2': '#' + props.album.attributes.artwork.textColor2, \n                '--text-color-3': '#' + props.album.attributes.artwork.textColor3, \n                '--text-color-4': '#' + props.album.attributes.artwork.textColor4,\n                '--shadow': '#' + props.album.attributes.artwork.textColor4 + '25',\n                '--shadow-hover': '#' + props.album.attributes.artwork.textColor4 + '80',\n                '--bg-gradient': '#' + newShade(props.album.attributes.artwork.bgColor, 4),\n            });\n        }\n    }, [props.album]);\n\n    const getArtistName = () => {\n        if (Array.isArray(props.album.attributes.artistName)) {\n          return props.album.attributes.artistName.join(' & ');\n        } else {\n          return props.album.attributes.artistName;\n        }\n    }\n\n    const replaceUrl = (url) => {\n        let coverArtUrl = url.replace('{w}', '600').replace('{h}', '600')\n        return coverArtUrl;\n      }\n\n    const expandTableRow = () => {\n        if (window.screen.width > 500 && document.getElementById(`table-row-${props.rank}`).classList.contains('closed')) {\n            document.getElementById(`table-row-${props.rank}`).style.height = '481px';\n            setTimeout(() => {\n                document.getElementById(`table-row-${props.rank}`).scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n            }, 300);\n            document.getElementById(`chevron ${props.rank}`).style.transform = 'rotate(180deg)';\n            document.getElementById(`chevron ${props.rank}`).style.visibility = 'visible';\n            document.getElementById(`more ${props.rank}`).style.visibility = 'visible';\n            document.getElementById(`table-row-${props.rank}`).classList.remove('closed');\n            document.getElementById(`table-row-${props.rank}`).classList.add('open');\n            props.isExpanded(props.rank);\n        } else if (window.screen.width > 500) {\n            document.getElementById(`table-row-${props.rank}`).style.height = '120px';\n            document.getElementById(`chevron ${props.rank}`).style.transform = 'rotate(0deg)';\n            document.getElementById(`more ${props.rank}`).style.visibility = '';\n            document.getElementById(`chevron ${props.rank}`).style.visibility = '';\n            document.getElementById(`table-row-${props.rank}`).classList.remove('open');\n            document.getElementById(`table-row-${props.rank}`).classList.add('closed');\n            props.isExpanded('')\n        }  else if (window.screen.width <= 500 && document.getElementById(`table-row-${props.rank}`).classList.contains('closed')) {\n            document.getElementById(`table-row-${props.rank}`).style.height = '600px';\n            document.getElementById(`chevron ${props.rank}`).style.transform = 'rotate(180deg)';\n            document.getElementById(`table-row-${props.rank}`).classList.remove('closed');\n            document.getElementById(`table-row-${props.rank}`).classList.add('open');\n            props.isExpanded(props.rank)\n        } else if (window.screen.width <= 500) {\n            document.getElementById(`table-row-${props.rank}`).style.height = '88px';\n            document.getElementById(`chevron ${props.rank}`).style.transform = 'rotate(0deg)';\n            document.getElementById(`table-row-${props.rank}`).classList.remove('open');\n            document.getElementById(`table-row-${props.rank}`).classList.add('closed');\n            props.isExpanded('')\n        }\n    }\n\n    const getOtherAlbums = (artistInput) => {\n        const sameArtist = [];\n        props.albums.forEach(album => {\n            if (Array.isArray(album.attributes.artistName)) {\n                if (album.attributes.artistName.some(artist => artist === artistInput)) {\n                    sameArtist.push(album);\n                  }\n            } else { \n                if (album.attributes.artistName === artistInput) {\n                    sameArtist.push(album);\n                }\n            }\n        });\n        props.albums.filter(album => album.attributes.artistName === artistInput);\n        const otherAlbums = sameArtist.filter(album => album.id !== props.album.id);\n        let rankings = [];\n        let globalIds = props.rankingGlobal.map(ranking => ranking.albumId);\n        let userIds = props.rankingUser.map(ranking => ranking.albumId);\n        if (props.selectedRanking === 'global') {\n            rankings = otherAlbums.filter(album => globalIds.includes(album.id)).map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingGlobal.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        } else {\n            rankings = otherAlbums.filter(album => userIds.includes(album.id)).map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingUser.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        }\n        const sortedAlbums = rankings.sort((a, b) => a.ranking - b.ranking);\n        return sortedAlbums;\n    }\n\n    const getAllArtistAlbums = (artistInput) => {\n        let sameArtist = [];\n        props.albums.forEach(album => {\n            if (Array.isArray(album.attributes.artistName)) {\n                if (album.attributes.artistName.some(artist => artist === artistInput)) {\n                    sameArtist.push(album);\n                  }\n            } else { \n                if (album.attributes.artistName === artistInput) {\n                    sameArtist.push(album);\n                }\n            }\n        });\n        let rankings = [];\n        let globalIds = props.rankingGlobal.map(ranking => ranking.albumId);\n        let userIds = props.rankingUser.map(ranking => ranking.albumId);\n        if (props.selectedRanking === 'global') {\n            rankings = sameArtist.filter(album => globalIds.includes(album.id)).map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingGlobal.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        } else {    \n            rankings = sameArtist.filter(album => userIds.includes(album.id)).map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingUser.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        }\n        const sortedAlbums = rankings.sort((a, b) => a.ranking - b.ranking);\n        return sortedAlbums;\n    }\n\n    const renderOtherAlbums = (artistInput) => {\n        return getOtherAlbums(artistInput).map((album, index) => (\n            <div className='other-album' key={index}>\n                <div className='other-album-rank'>\n                    {album.ranking}\n                </div>\n                <img src={replaceUrl(album.album.attributes.artwork.url)} alt={album.album.attributes.name} className='other-album-image'/>\n                <p className='other-album-name'>{album.album.attributes.name}</p>\n            </div>\n        ))\n    };\n\n    const getRecentResults = () => {\n        let results = [];\n        if (props.selectedRanking === 'global') {\n            results = props.resultsGlobal\n        } else {\n            results = props.resultsUser\n        }\n        const filteredResults = results.filter(result => result.album1.id === props.album.id || result.album2.id === props.album.id);\n        let recentResults = [];\n        filteredResults.map(result => {\n            if (result.album1.id === props.album.id) {\n                recentResults.push({\n                    album: props.albums.find(album => album.id === result.album2.id),\n                    result: result.album2.result\n                });\n            } else if (result.album2.id === props.album.id) {\n                recentResults.push({\n                    album: props.albums.find(album => album.id === result.album1.id),\n                    result: result.album1.result\n                });\n            }\n        });\n        return recentResults.reverse().slice(0, 20);\n    }\n\n    const renderRecentResults = () => {\n        return getRecentResults().map((result, index) => (\n            <div className='recent-result' key={index}>\n                <div className='recent-result-outcome'>\n                    {result.result === -1 ? 'Win' : 'Loss'}\n                </div>\n                <img src={replaceUrl(result.album.attributes.artwork.url)} alt={result.album.attributes.name} className='recent-result-image'/>\n                <p className='recent-result-name'>{result.album.attributes.name}</p>\n            </div>\n        ))\n    }\n\n    const getArtistArtworkUrl = (artistInput) => { \n        if (props.artists.length > 0 && props.album && getAllArtistAlbums(artistInput).length > 0) {\n            return props.artists.find(artist => artist.attributes.name === artistInput).attributes.artwork.url.replace('{w}', '300').replace('{h}', '300');\n        }\n    }\n\n    /* const getWinLoss = () => {\n        let albumWL = [];\n        for (let i = 0; i < props.resultsGlobal.length; i++) {\n            if (props.album.id in formattedResults[i]) {\n                albumWL.push(formattedResults[j][uniqueIds[i]])\n            }\n        };\n    } */\n\n    if (props.album) {\n        return (\n            <div className=\"table-row closed\" id={`table-row-${props.rank}`} style={style}>\n                <div className=\"row-default\">\n                    <div className=\"table-cell\" id=\"rank-cell\">\n                        <div className='rank-container'>\n                            <p>{props.rank}</p>\n                        </div>\n                    </div>\n                    <div className=\"table-cell\" id=\"album-cell\">\n                        {props.album &&\n                        <div className=\"album-info\">\n                            <img src={replaceUrl(props.album.attributes.artwork.url)} alt=\"album artwork\" className=\"albumArtwork\"/>\n                            <div className=\"album-name-artist\">\n                                <div className=\"album-text\">\n                                    <p className=\"album-name-table\">{props.album.attributes.name}</p>\n                                    <p className=\"album-artist-table\">{getArtistName()}</p>\n                                </div>\n                            </div>\n                        </div>\n                        }\n                    </div>\n                    <div className=\"table-cell\" id=\"release-cell\">\n                        <p>{props.album && formatDate(props.album.attributes.releaseDate)}</p>\n                    </div>\n                    <div className=\"table-cell\" id=\"more-cell\">\n                        <button className='more' id={`more-button-${props.rank}`} onClick={expandTableRow}><p className='button-text' id={`more ${props.rank}`}></p><ExpandMoreRounded size='small' id={`chevron ${props.rank}`}></ExpandMoreRounded></button>\n                    </div>\n                </div>\n                <div className=\"row-expanded\" id={`row-expanded-${props.rank}`}>\n                    { window.screen.width > 500 ?\n                    <div className='expanded-row-content'>\n                        <div className='album-info-expanded'>\n                            <div className='album-facts'>\n                                    <p className=\"label\">PROJECT TYPE:</p>\n                                    <p>{props.album && props.album.type}</p>\n                                    <p className=\"label\">GENRE:</p>\n                                    <p>{props.album && props.album.attributes.genreNames[0]}</p>\n                                    <p className=\"label\">TRACKs:</p>\n                                    <p>{props.album && props.album.attributes.trackCount}</p>\n                            </div>\n                            {props.album.attributes.editorialNotes && <div className='editorial-notes'>\n                                <p id='editorial-label'>EDITORIAL NOTES:</p>\n                                <p className='editorial-notes-standard' id={'editorial-notes-' + props.rank}></p>\n                            </div>}\n                        </div>\n                        <div className=\"recent-results\">\n                            <p className='label'>RECENT RESULTS:</p>\n                            <div className='recent-results-albums'>\n                                {renderRecentResults()}\n                            </div>\n                        </div>\n                        <vl/>\n                        { !Array.isArray(props.album.attributes.artistName) ?\n                        <div className=\"artist\">\n                            <div className=\"artist-info\">\n                                <div className=\"artist-image-name\">\n                                    <img src={getArtistArtworkUrl(props.album.attributes.artistName)} alt=\"artist artwork\" className=\"artist-artwork\"/>\n                                    <p className='artist-name'>{props.album.attributes.artistName}</p>\n                                </div>\n                                <div className='artist-stats'>\n                                    <div className='artist-stats-labels'>\n                                        <p>{`Highest album rank: `}</p>\n                                        <p>{`Lowest album rank: `}</p>\n                                        <p>{`Average album rank: `}</p>\n                                    </div>\n                                    <div className='artist-stats-values'>\n                                        <p>{getAllArtistAlbums(props.album.attributes.artistName).length > 0 && `#${getAllArtistAlbums(props.album.attributes.artistName)[0].ranking}`}</p>\n                                        <p>{getAllArtistAlbums(props.album.attributes.artistName).length > 0 && `#${getAllArtistAlbums(props.album.attributes.artistName)[getAllArtistAlbums(props.album.attributes.artistName).length - 1].ranking}`}</p>\n                                        <p>{getAllArtistAlbums(props.album.attributes.artistName).length > 0 && `#${(getAllArtistAlbums(props.album.attributes.artistName).reduce((a, b) => a + b.ranking, 0 ) / getAllArtistAlbums(props.album.attributes.artistName).length).toFixed(1)}`}</p>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"other-albums-container\">\n                                <p className='label'>OTHER ALBUMS:</p>\n                                <div className=\"other-albums\">\n                                    {renderOtherAlbums(props.album.attributes.artistName)}\n                                </div>\n                            </div>\n                        </div>\n                        : <Carousel>\n                                {props.album.attributes.artistName.map((artist, index) => {\n                                    return <CarouselItem index={index}>\n                                        <div className=\"artist\">\n                                            <div className=\"artist-info\">\n                                                <img src={getArtistArtworkUrl(artist)} alt=\"artist artwork\" className=\"artist-artwork\"/>\n                                                <p className='artist-name'>{artist}</p>\n                                                <div className='artist-stats'>\n                                                    <div className='artist-stats-labels'>\n                                                        <p>{`Highest album rank: `}</p>\n                                                        <p>{`Lowest album rank: `}</p>\n                                                        <p>{`Average album rank: `}</p>\n                                                    </div>\n                                                    <div className='artist-stats-values'>\n                                                        <p>{getAllArtistAlbums(artist).length > 0 && `#${getAllArtistAlbums(artist)[0].ranking}`}</p>\n                                                        <p>{getAllArtistAlbums(artist).length > 0 && `#${getAllArtistAlbums(artist)[getAllArtistAlbums(artist).length - 1].ranking}`}</p>\n                                                        <p>{getAllArtistAlbums(artist).length > 0 && `#${(getAllArtistAlbums(artist).reduce((a, b) => a + b.ranking, 0 ) / getAllArtistAlbums(artist).length).toFixed(1)}`}</p>\n                                                    </div>\n                                                </div>\n                                            </div>\n                                            <div className=\"other-albums-container\">\n                                                <p className='label'>OTHER ALBUMS:</p>\n                                                <div className=\"other-albums\">\n                                                    {renderOtherAlbums(artist)}\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </CarouselItem> }\n                                )}\n                        </Carousel> }\n                    </div> :\n                    <div className='expanded-row-content'>\n                        <MobileCarousel>\n                            <MobileCarouselItem>\n                                <div className='album-carousel'>\n                                    <div className='album-info-expanded'>\n                                        <div className='album-facts'>\n                                                <p className=\"label\">PROJECT TYPE:</p>\n                                                <p>{props.album && props.album.type}</p>\n                                                <p className=\"label\">GENRE:</p>\n                                                <p>{props.album && props.album.attributes.genreNames[0]}</p>\n                                                <p className=\"label\">TRACKs:</p>\n                                                <p>{props.album && props.album.attributes.trackCount}</p>\n                                        </div>\n                                    </div>\n                                    <div className=\"recent-results\">\n                                        <p className='label'>RECENT RESULTS:</p>\n                                        <div className='recent-results-albums'>\n                                            {renderRecentResults()}\n                                        </div>\n                                    </div>\n                                </div>\n                            </MobileCarouselItem>\n                            { !Array.isArray(props.album.attributes.artistName) ?\n                            <MobileCarouselItem>\n                                <div className=\"artist\">\n                                    <div className=\"artist-info\">\n                                        <div className=\"artist-image-name\">\n                                            <img src={getArtistArtworkUrl(props.album.attributes.artistName)} alt=\"artist artwork\" className=\"artist-artwork\"/>\n                                            <p className='artist-name'>{props.album.attributes.artistName}</p>\n                                        </div>\n                                        <div className='artist-stats'>\n                                            <div className='artist-stats-labels'>\n                                                <p>{`Highest album rank: `}</p>\n                                                <p>{`Lowest album rank: `}</p>\n                                                <p>{`Average album rank: `}</p>\n                                            </div>\n                                            <div className='artist-stats-values'>\n                                                <p>{getAllArtistAlbums(props.album.attributes.artistName).length > 0 && `#${getAllArtistAlbums(props.album.attributes.artistName)[0].ranking}`}</p>\n                                                <p>{getAllArtistAlbums(props.album.attributes.artistName).length > 0 && `#${getAllArtistAlbums(props.album.attributes.artistName)[getAllArtistAlbums(props.album.attributes.artistName).length - 1].ranking}`}</p>\n                                                <p>{getAllArtistAlbums(props.album.attributes.artistName).length > 0 && `#${(getAllArtistAlbums(props.album.attributes.artistName).reduce((a, b) => a + b.ranking, 0 ) / getAllArtistAlbums(props.album.attributes.artistName).length).toFixed(1)}`}</p>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div className=\"other-albums-container\">\n                                        <p className='label'>OTHER ALBUMS:</p>\n                                        <div className=\"other-albums\">\n                                            {renderOtherAlbums(props.album.attributes.artistName)}\n                                        </div>\n                                    </div>\n                                </div>\n                            </MobileCarouselItem>\n                            : <Carousel>\n                                    {props.album.attributes.artistName.map((artist, index) => {\n                                        return <CarouselItem index={index}>\n                                            <div className=\"artist\">\n                                                <div className=\"artist-info\">\n                                                    <img src={getArtistArtworkUrl(artist)} alt=\"artist artwork\" className=\"artist-artwork\"/>\n                                                    <p className='artist-name'>{artist}</p>\n                                                    <div className='artist-stats'>\n                                                        <div className='artist-stats-labels'>\n                                                            <p>{`Highest album rank: `}</p>\n                                                            <p>{`Lowest album rank: `}</p>\n                                                            <p>{`Average album rank: `}</p>\n                                                        </div>\n                                                        <div className='artist-stats-values'>\n                                                            <p>{getAllArtistAlbums(artist).length > 0 && `#${getAllArtistAlbums(artist)[0].ranking}`}</p>\n                                                            <p>{getAllArtistAlbums(artist).length > 0 && `#${getAllArtistAlbums(artist)[getAllArtistAlbums(artist).length - 1].ranking}`}</p>\n                                                            <p>{getAllArtistAlbums(artist).length > 0 && `#${(getAllArtistAlbums(artist).reduce((a, b) => a + b.ranking, 0 ) / getAllArtistAlbums(artist).length).toFixed(1)}`}</p>\n                                                        </div>\n                                                    </div>\n                                                </div>\n                                                <div className=\"other-albums-container\">\n                                                    <p className='label'>OTHER ALBUMS:</p>\n                                                    <div className=\"other-albums\">\n                                                        {renderOtherAlbums(artist)}\n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </CarouselItem> }\n                                    )}\n                            </Carousel> }\n                        </MobileCarousel>\n                    </div> }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TableRow;","import React from \"react\";\nimport './TableHeader.css';\n\nconst TableHeader = () => {\n    return (\n        <div className=\"table-header\">\n            <div className=\"table-label\" id=\"rank-label\">RANK</div>\n            <div className=\"table-label\" id=\"album-label\">ALBUM</div>\n            <div className=\"table-label\" id=\"release-label\">RELEASE DATE</div>\n        </div>\n    );\n}\n\nexport default TableHeader;","import Multiselect from \"multiselect-react-dropdown\";\nimport React, { useEffect, useState } from \"react\";\nimport './RankingSelect.css';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport { theme } from '../MuiTheme/Theme';\n\nconst RankingSelect = (props) => {\n    let [selectedValues, setSelectedValues] = useState([{ label: \"Global\", value: \"global\" }]);\n\n    const options = [\n        { label: \"Global\", value: \"global\" },\n        { label: \"Personal\", value: \"personal\" }\n    ];\n\n    useEffect(() => {\n        if (props.queryParams === 'personal') {\n            setSelectedValues([{ label: \"Personal\", value: \"personal\" }]);\n        } else {\n            setSelectedValues([{ label: \"Global\", value: \"global\" }]);\n        }\n    }, [props.queryParams])\n\n\n\n\n    return (\n        <Multiselect id='ranking-select'\n            options={options}\n            displayValue=\"label\"\n            avoidHighlightFirstOption=\"true\"\n            singleSelect=\"true\"\n            selectedValues={selectedValues}\n            hidePlaceholder=\"true\"\n            placeholder=\"\"\n            showArrow=\"true\"\n            onSelect={props.onSelect}\n            customArrow={<ThemeProvider theme={theme}><ExpandMoreRounded color=\"primary\"/></ThemeProvider>}\n        />\n    )\n}\n\nexport default RankingSelect;","import Multiselect from \"multiselect-react-dropdown\";\nimport React, { useState, useEffect } from \"react\";\nimport './TypeSelect.css';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport { theme } from '../MuiTheme/Theme';\nimport { type } from \"@testing-library/user-event/dist/type\";\n\nconst TypeSelect = (props) => {\n    let [selectedValues, setSelectedValues] = useState([]);\n    let [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            setOptions(getTypeOptions(props.albums));\n        }\n    },  [props.albums])\n\n    useEffect(() => {\n        if (props.queryParams.length > 0 && options.length > 0) {\n            setSelectedValues(props.queryParams.map(type => options.find(option => option.label === type)));\n        }\n    }, [options])\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            setOptions(getTypeOptions(filterTypes()));\n        }\n    }, [props.yearFilter, props.artistFilter])\n\n    const getTypeOptions = (albums) => {\n        let options = [];\n        albums.forEach(album => {\n            if (!options.some(type => type.label === album.type)) {\n                options.push({\n                    label: album.type,\n                    value: album.type.toLowerCase,\n                    count: albums.filter(albumA => albumA.type === album.type).length\n                });\n            }\n\n        });\n        const sortedOptions = options.sort((a, b) => b.count - a.count);\n        return sortedOptions;\n    }\n\n    const filterTypes = () => {\n        let filteredAlbums = props.albums.map(album => album);\n        if (props.artistFilter.length > 0) {\n            props.albums.forEach(album => {\n                if (Array.isArray(album.attributes.artistName)) {\n                    if (album.attributes.artistName.some(artist => props.artistFilter.includes(artist)) === false) {\n                        filteredAlbums.splice(filteredAlbums.findIndex(foundAlbum => foundAlbum === album), 1);\n                    }\n                } else { \n                    if ((props.artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                        filteredAlbums.splice(filteredAlbums.findIndex(foundAlbum => foundAlbum === album), 1);\n                    }\n                }\n            });\n        }\n        if (props.yearFilter.length > 0) {\n            let years = props.albums.filter(album => props.yearFilter.some(year => album.attributes.releaseDate.includes(year))).map(album => album);\n            filteredAlbums = filteredAlbums.filter(album => years.includes(album));\n        }\n        console.log(filteredAlbums);\n        return filteredAlbums;\n    }\n\n\n\n    return (\n        <Multiselect id={props.id}\n            options={options}\n            selectedValues={selectedValues}\n            displayValue=\"label\"\n            avoidHighlightFirstOption=\"true\"\n            singleSelect=\"true\"\n            placeholder=\"Type\"\n            showArrow=\"true\"\n            onSelect={props.onSelect}\n            onRemove={props.onRemove}\n            closeIcon={'cancel'}\n            customArrow={<ThemeProvider theme={theme}><ExpandMoreRounded color=\"primary\"/></ThemeProvider>}\n        />\n    )\n}\n\nexport default TypeSelect;","import React, { useState, useEffect, useRef } from \"react\";\nimport TableRow from \"../TableRow/TableRow\";\nimport axios from \"axios\";\nimport TableHeader from \"../TableHeader/TableHeader\";\nimport './Rankings.css';\nimport RankingSelect from \"../RankingSelect/RankingSelect\";\nimport ArtistFilter from \"../ArtistFilter/ArtistFilter\";\nimport { YearFilter } from \"../YearFilter/YearFilter\";\nimport solveRanking from \"../../util/solveRanking\";\nimport jsCookie from \"js-cookie\";\nimport uuid from \"uuid\";\nimport TypeSelect from \"../TypeSelect/TypeSelect\";\nimport { ShareOutlined, FilterAltRounded } from \"@mui/icons-material\";\nimport { Button } from \"@mui/material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport { theme, filterTheme } from '../MuiTheme/Theme';\nimport Header from \"../Header/Header\";\n\nconst Rankings = () => {\n\n    let [albums, setAlbums] = useState([]);\n    let [artists, setArtists] = useState([]);\n    let [resultsGlobal, setResultsGlobal] = useState([]);\n    let [resultsUser, setResultsUser] = useState([]);\n    let [rankingGlobal, setRankingGlobal] = useState([]);\n    let [rankingUser, setRankingUser] = useState([]);\n    let [currentRanking, setCurrentRanking] = useState([]);\n    let [userId, setUserId] = useState('');\n    let [selectedRanking, setSelectedRanking] = useState('global');\n    let [isLoading, setIsLoading] = useState(false);\n    let [rowExpanded, setRowExpanded] = useState('');\n    let [artistFilter, setArtistFilter] = useState([]);\n    let [yearFilter, setYearFilter] = useState([]);\n    let [typeFilter, setTypeFilter] = useState([]);\n    let [filterButtonColor, setFilterButtonColor] = useState('primary');\n\n    useEffect(() => {\n        getUserId();\n        fetchAlbums();\n        fetchArtists();\n        fetchResults();\n        setIsLoading(true);\n        setArtistFilter(splitArtistParams());\n        setTypeFilter(searchParams.getAll('type'));\n        if(searchParams.get('ranking') !== null) {\n            setSelectedRanking(searchParams.get('ranking'));\n        };\n    }, []);\n\n    useEffect(() => {\n        getUserData();\n    }, [userId]);\n\n    useEffect(() => {\n        if (resultsGlobal.length > 0) {\n            setRankingGlobal(solveRanking(resultsGlobal));\n        }\n    }, [resultsGlobal]);\n\n    useEffect(() => {\n        if (resultsUser.length > 0) {\n            setRankingUser(solveRanking(resultsUser));\n        }\n    }, [resultsUser]);\n\n    useEffect(() => {\n        if (selectedRanking === 'global') {\n            setCurrentRanking(rankingGlobal);\n        }\n        if (rankingGlobal.length > 0) {\n           setIsLoading(false);\n        }\n    }, [rankingGlobal]);\n\n    useEffect(() => {\n        if (selectedRanking === 'personal') {\n            setCurrentRanking(rankingUser);\n        }\n        if (rankingUser.length > 0) {\n           setIsLoading(false);\n        }\n    }, [rankingGlobal]);\n\n    useEffect(() => {\n        filterRankings();\n        searchParams.set('ranking', selectedRanking);\n        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n        window.history.pushState(null, '', newRelativePathQuery);\n\n    }, [selectedRanking]);\n\n    useEffect(() => {\n        filterRankings(); \n        if (rowExpanded !== '') {\n            closeRow(rowExpanded);\n        }\n        if (artistFilter.length === 0) {\n            searchParams.delete('artist');\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (artistFilter.length > 0) {\n            searchParams.set('artist', artistFilter);\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (yearFilter.length === 0) {\n            searchParams.delete('years');\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (typeFilter.length === 0) {\n            searchParams.delete('type');\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (typeFilter.length > 0) {\n            searchParams.set('type', typeFilter[0]);\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }   \n    }, [artistFilter, yearFilter, typeFilter]);\n\n    useEffect(() => {\n        if (rankingGlobal) {\n            filterRankings();\n        }\n    }, [rankingGlobal, albums]);\n\n    useEffect(() => {\n        if (rankingUser) {\n            filterRankings();\n        }\n    }, [rankingUser, albums]);\n\n    useEffect(() => {\n        if (prevRow !== '' && rowExpanded !== '') {\n            closeRow(prevRow);\n        }\n    }, [rowExpanded]);\n\n    function usePrevious(value) {\n        const ref = useRef();\n        useEffect(() => {\n          ref.current = value;\n        });\n        return ref.current;\n      }\n\n    const prevRow = usePrevious(rowExpanded);\n\n    let searchParams = new URLSearchParams(window.location.search);\n        \n    const getUserId = () => {\n        if (!jsCookie.get('user')) {\n          jsCookie.set('user', uuid.v4(), { expires: 10000 });\n        } else {\n          setUserId(jsCookie.get('user'));\n        }\n      }\n\n    const fetchAlbums = () => {\n        axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums', {\n          params: {\n            \"verification_method\": \"SECRET_AS_QUERY_PARAM\",\n            \"secret\": \"temperature\"\n          }\n        })\n        .then(response => {\n          setAlbums(response.data);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n      }\n\n      const fetchArtists = () => {\n        axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/artists', {\n        })\n        .then(response => {\n          setArtists(response.data);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n      }\n\n    const fetchResults = () => {\n        axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults', {\n        })\n        .then(response => {\n            setResultsGlobal(response.data);\n        })\n        .catch(err => {\n            console.log(err);\n         });\n    }\n\n    const getUserData = () => {\n        if (userId !== '') {\n          axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser', {\n            params: {\n              userId: userId\n            }\n          }).then (response => {\n            if (response.data !== null) {\n            setResultsUser(response.data.results);\n            }\n          })\n        }\n      }\n\n    const splitArtistParams = () => {\n        let artistParams = searchParams.get('artist');\n        if (artistParams !== null) {\n            let artistArray = artistParams.split(',');\n            return artistArray;\n        } else {\n            return [];\n        }\n    }\n\n    const splitYearParams = () => {\n        let yearParams = searchParams.get('years');\n        if (yearParams !== null) {\n            let yearArray = yearParams.split(',');\n            return yearArray;\n        } else {\n            return [];\n        }\n    }\n\n    const changeRanking = (selectedItem) => {\n        setSelectedRanking(selectedItem[0].value);\n    };\n\n    const shareRanking = () => {\n        let artistFilterShare = artistFilter.map(artist => artist)\n        let artistFilterLast = artistFilterShare.pop();\n        let type = '';\n        if (typeFilter.length > 0)  {\n            type = typeFilter[0].toLowerCase();\n        }\n        let yearFilterShare = yearFilter.map(year => year)\n        let yearFilterLast = yearFilterShare.pop();\n        let shareRanking = [];\n        artistFilter.length === 1 ? shareRanking = currentRanking : shareRanking = currentRanking.slice(0, 10)\n        const sharedText = `My top ranked ${artistFilter.length > 1 ? `${artistFilterShare.join(', ') + ' & ' + artistFilterLast + ' '}` : artistFilter.length > 0 ? `${artistFilter[0]} ` : ''}${typeFilter.length > 0 ? `${type}s` : `albums`} of ${document.getElementById('select-all-twenties').classList.contains('year-selected') ? `the 2020's` : document.getElementById('select-all-teens').classList.contains('year-selected') ? `the 2010's` : document.getElementById('select-all-aughts').classList.contains('year-selected') ? `the 2000's` : yearFilter.length > 1 ? `${yearFilterShare.join(', ') + ' & ' + yearFilterLast}` : yearFilter.length > 0 ? `${yearFilter[0]}` : `all time`}: \\n\\n${shareRanking.map((result, index) => `${index + 1}. ${albums.find(album => album.id === result.albumId).attributes.name} ${albums.find(album => album.id === result.albumId).attributes.emoji !== undefined ? albums.find(album => album.id === result.albumId).attributes.emoji : '' }`).join('\\n')}`;\n        navigator.clipboard.writeText(sharedText);\n    }\n\n    const isExpanded = (id) => {\n        setRowExpanded(id);\n    };\n\n    const filterArtist = (selectedList) => {\n        const artistFilter = selectedList.map(artist => artist.name);\n        setArtistFilter(artistFilter);\n    }\n\n    const filterYear = (selectedList) => {\n        setYearFilter(selectedList);\n    }\n\n    const filterType = (selectedList) => {\n        const typeFilter = selectedList.map(type => type.label);\n        setTypeFilter(typeFilter);\n    }\n\n    const filterRankings = () => {\n        if (artistFilter.length === 0 && yearFilter.length === 0 && typeFilter.length === 0) {\n            if (selectedRanking === 'global') {\n                setCurrentRanking(rankingGlobal);\n            } else if (selectedRanking === 'personal') {\n                setCurrentRanking(rankingUser);\n            }\n        } else {\n            let filteredIds = albums.map(album => album.id);\n            if (artistFilter.length > 0) {\n                albums.forEach(album => {\n                    if (Array.isArray(album.attributes.artistName)) {\n                        if (album.attributes.artistName.some(artist => artistFilter.includes(artist)) === false) {\n                            filteredIds.splice(filteredIds.findIndex(id => id === album.id), 1);\n                        }\n                    } else { \n                        if ((artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                            filteredIds.splice(filteredIds.findIndex(id => id === album.id), 1);\n                        }\n                    }\n                });\n            }\n            if (yearFilter.length > 0) {\n                let yearIds = albums.filter(album => yearFilter.some(year => album.attributes.releaseDate.includes(year))).map(album => album.id);\n                filteredIds = filteredIds.filter(id => yearIds.includes(id));\n                searchParams.set('years', yearFilter);\n                var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n                window.history.pushState(null, '', newRelativePathQuery);\n            }\n            if (typeFilter.length > 0) {\n                let typeIds = albums.filter(album => typeFilter.includes(album.type)).map(album => album.id);\n                filteredIds = filteredIds.filter(id => typeIds.includes(id));\n            }\n            let filteredRanking = [];\n            selectedRanking === 'global' ? filteredRanking = rankingGlobal.filter(album => filteredIds.includes(album.albumId)) : filteredRanking = rankingUser.filter(album => filteredIds.includes(album.albumId));\n            setCurrentRanking(filteredRanking);\n        }\n    };\n\n    const closeRow = (id) => {\n        if (window.screen.width > 500) {\n            document.getElementById(`table-row-${id}`).style.height = '120px';\n            document.getElementById(`chevron ${id}`).style.transform = 'rotate(0deg)';\n            document.getElementById(`more ${id}`).style.visibility = '';\n            document.getElementById(`chevron ${id}`).style.visibility = '';\n        } else {\n            document.getElementById(`table-row-${id}`).style.height = '88px';\n            document.getElementById(`chevron ${id}`).style.transform = 'rotate(0deg)';\n        }\n    }\n\n    const renderTable = () => {\n        if (isLoading) {\n            return <span className='loader' ></span>\n        } else {\n            return currentRanking.map((result, index) => (\n                <TableRow \n                    key={index} \n                    album={albums.find(album => album.id === result.albumId)} \n                    rank={index + 1} \n                    albums={albums} \n                    artists={artists}\n                    rankingGlobal={rankingGlobal} \n                    rankingUser={rankingUser}\n                    resultsGlobal={resultsGlobal} \n                    resultsUser={resultsUser}\n                    selectedRanking={selectedRanking}\n                    isExpanded={isExpanded}\n                />\n            ));\n        }\n    }\n\n    return (\n        <div>\n            <Header artistFilter={artistFilter} yearFilter={yearFilter}/>\n            <div className='filters-rankings'>\n                <RankingSelect onSelect={changeRanking} queryParams={selectedRanking}/>\n                <ArtistFilter id='artist-filter' albums={albums} onSelect={filterArtist} onRemove={filterArtist} queryParams={artistFilter} yearFilter={yearFilter} typeFilter={typeFilter} />\n                <YearFilter id='year-filter' filterId='calendar' onChange={filterYear} queryParams={yearFilter} albums={albums} artistFilter={artistFilter} typeFilter={typeFilter} />\n                <TypeSelect id='type-select' onSelect={filterType} onRemove={filterType} queryParams={typeFilter} albums={albums} artistFilter={artistFilter} yearFilter={yearFilter} />\n                <ThemeProvider theme={filterTheme}>\n                    <Button id='filter-button-rankings' variant=\"outlined\" color={filterButtonColor} size=\"small\" sx={{ textTransform: \"none\", borderRadius: \"15px\", height: '30.75px' }}endIcon={<FilterAltRounded size=\"small\" />}>\n                        Filters\n                    </Button>\n                </ThemeProvider>\n                <div className='share' >\n                    {selectedRanking === 'personal' ? \n                    <ThemeProvider theme={theme}>\n                        <Button variant=\"contained\" onClick ={shareRanking} color='secondary' sx={{ borderRadius: '20px', height: '40px', padding: '0px 32px 0px 32px', textTransform: 'none', fontSize: '16px', fontFamily: 'Helvetica', color: '#FFFFFF' }} endIcon={<ShareOutlined size='small'/>} >\n                            Share\n                        </Button> \n                    </ThemeProvider>\n                    : null}\n                </div>\n            </div>\n            <TableHeader />\n            <div className='table-container' id='table-container'>\n                {renderTable()}\n            </div>\n            <div className='embed'>\n                \n            </div>\n        </div>\n    );\n}\n\nexport default Rankings;","import React from \"react\";\nimport Rank from \"./Components/Rank/Rank\";\nimport Rankings from \"./Components/Ranking/Rankings\";\nimport { Outlet, Link } from \"react-router-dom\";\n\nfunction App() {\n    return (\n        <>\n            <Outlet />\n        </>\n    )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Rank from './Components/Rank/Rank';\nimport Rankings from './Components/Ranking/Rankings';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <BrowserRouter basename=\"/rankable\">\n        <Routes>\n            <Route path=\"/\" element={<App />} />\n            <Route index element={<Rank />} />\n            <Route path=\"rankings\" element={<Rankings />} />\n\n        </Routes>\n    </BrowserRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}