(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){e.exports=n(401)},126:function(e,t,n){},129:function(e,t,n){},131:function(e,t,n){},135:function(e,t,n){},162:function(e,t,n){},172:function(e,t,n){e.exports=n.p+"static/media/rankabl-logo.251c7ee4.png"},176:function(e,t,n){},178:function(e,t,n){},180:function(e,t,n){},184:function(e,t,n){},186:function(e,t,n){},188:function(e,t,n){},190:function(e,t,n){},192:function(e,t,n){},194:function(e,t,n){},401:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(103),c=n.n(l),s=(n(126),n(4)),i=(n(129),n(69)),o=n(106),u=n(107),m=n(110),d=n(108),f=n(111),b=(n(131),function(e,t){var n=parseInt(e,16),a=Math.round(2.55*t),r=(n>>16)+a,l=(n>>8&255)+a,c=(255&n)+a;return(16777216+65536*(r<255?r<1?0:r:255)+256*(l<255?l<1?0:l:255)+(c<255?c<1?0:c:255)).toString(16).slice(1)}),h=n(45),g=n.n(h),p=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getArtistName",value:function(){return Array.isArray(this.props.album.attributes.artistName)?this.props.album.attributes.artistName.join(" & "):this.props.album.attributes.artistName}},{key:"replaceUrl",value:function(e){return e.replace("{w}","600").replace("{h}","600")}},{key:"render",value:function(){if(this.props.album){var e={"--bg-color":"#"+this.props.album.attributes.artwork.bgColor,"--text-color-1":"#"+this.props.album.attributes.artwork.textColor1,"--text-color-2":"#"+this.props.album.attributes.artwork.textColor2,"--text-color-3":"#"+this.props.album.attributes.artwork.textColor3,"--text-color-4":"#"+this.props.album.attributes.artwork.textColor4,"--shadow":"#"+this.props.album.attributes.artwork.textColor4+"25","--shadow-hover":"#"+this.props.album.attributes.artwork.textColor4+"50","--bg-gradient":"#"+b(this.props.album.attributes.artwork.bgColor,8)};return r.a.createElement("div",{className:"album",id:this.props.id,style:e,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp,onClick:this.props.onClick},r.a.createElement("img",{src:this.replaceUrl(this.props.album.attributes.artwork.url),alt:this.props.album.attributes.name}),r.a.createElement("h1",{className:"album-title"},this.props.album.attributes.name),r.a.createElement("h2",{className:"album-artist"},this.getArtistName()))}}}]),t}(r.a.Component);n(135);var E=n(24),y=n.n(E);function v(){v=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},r=a.iterator||"@@iterator",l=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function i(e,t,n,a){var r=t&&t.prototype instanceof m?t:m,l=Object.create(r.prototype),c=new C(a||[]);return l._invoke=function(e,t,n){var a="suspendedStart";return function(r,l){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw l;return j()}for(n.method=r,n.arg=l;;){var c=n.delegate;if(c){var s=w(c,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var i=o(e,t,n);if("normal"===i.type){if(a=n.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(a="completed",n.method="throw",n.arg=i.arg)}}}(e,n,c),l}function o(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=i;var u={};function m(){}function d(){}function f(){}var b={};s(b,r,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&n.call(g,r)&&(b=g);var p=f.prototype=m.prototype=Object.create(b);function E(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var a;this._invoke=function(r,l){function c(){return new t(function(a,c){!function a(r,l,c,s){var i=o(e[r],e,l);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&n.call(m,"__await")?t.resolve(m.__await).then(function(e){a("next",e,c,s)},function(e){a("throw",e,c,s)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return a("throw",e,c,s)})}s(i.arg)}(r,l,a,c)})}return a=a?a.then(c,c):c()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var a=o(n,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,u;var r=a.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,l=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,s(p,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(p),e},e.awrap=function(e){return{__await:e}},E(y.prototype),s(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,n,a,r,l){void 0===l&&(l=Promise);var c=new y(i(t,n,a,r),l);return e.isGeneratorFunction(n)?c:c.next().then(function(e){return e.done?e.value:c.next()})},E(p),s(p,c,"Generator"),s(p,r,function(){return this}),s(p,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var a=t.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return c.type="throw",c.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return a("end");if(l.tryLoc<=this.prev){var s=n.call(l,"catchLoc"),i=n.call(l,"finallyLoc");if(s&&i){if(this.prev<l.catchLoc)return a(l.catchLoc,!0);if(this.prev<l.finallyLoc)return a(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return a(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return a(l.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;N(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}n(48);var w=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],o=Object(a.useState)([]),u=Object(s.a)(o,2),m=u[0],d=u[1],f=Object(a.useState)([]),b=Object(s.a)(f,2),h=b[0],g=b[1],E=Object(a.useState)([]),w=Object(s.a)(E,2),k=w[0],N=w[1],C=Object(a.useState)(!1),O=Object(s.a)(C,2),j=O[0],L=O[1],S=Object(a.useState)([]),I=Object(s.a)(S,2),x=I[0],A=I[1],M=Object(a.useState)(!1),B=Object(s.a)(M,2),F=B[0],T=B[1];Object(a.useEffect)(function(){L(!0)},[]),Object(a.useEffect)(function(){0===l.length&&e.albumsLoaded&&e.loadedUserData&&A(e.seenPairs)},[e.albumsLoaded,e.loadedUserData]),Object(a.useEffect)(function(){if(e.loadedUserData&&e.albums){var t=P(e.albums);c(t)}},[x]),Object(a.useEffect)(function(){l.length>0?(T(!0),console.log("new pair")):e.albumsLoaded&&e.loadedUserData&&(setTimeout(function(){L(!1)},300),console.log(" no more albums "))},[l]),Object(a.useEffect)(function(){F&&l.length>0&&H(l).then(function(){T(!1),L(!1)})},[F]),Object(a.useEffect)(function(){e.albumsLoaded&&(console.log("albums changed"),L(!0),setTimeout(function(){c(P(e.albums))},300))},[e.albums]);var R,P=function(e){for(var t=function(e){for(var t=[],n=0;n<e.length-1;n++)for(var a=n+1;a<e.length;a++)t.push([e[n].id,e[a].id]);return t}(e),n=[],a=0;a<x.length;a++)for(var r=0;r<t.length;r++)x[a].includes(t[r][0])&&x[a].includes(t[r][1])&&n.push(t[r]);return t.filter(function(e){return!n.includes(e)})},D=function(e){return e[Math.floor(Math.random()*e.length)]},H=function(){var t=Object(i.a)(v().mark(function t(n){var a,r,l,c,s;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=D(n),r=Math.floor(Math.random()*a.length),l=1-r,t.next=5,d(a);case 5:return t.next=7,g(e.albums.find(function(e){return e.id===a[r]}));case 7:return t.next=9,N(e.albums.find(function(e){return e.id===a[l]}));case 9:c=Array.from(document.getElementsByClassName("skip-error-message")),s=Array.from(document.getElementsByClassName("skip-button")),c.forEach(function(e){e.style.visibility="hidden"}),s.forEach(function(e){e.removeAttribute("disabled")});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),_=function(t){var n=h.id,a=k.id,r={};"album1"===t.currentTarget.id&&(r[n]=1,r[a]=-1,r={album1:{id:n,result:1},album2:{id:a,result:-1}},L(!0),y()({url:"https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save",method:"POST",params:{userId:e.userId},data:{result:r,seenPair:m}}).then(function(e){A(e.data.userResult.seenPairs),console.log(e.data.userResult.seenPairs)}).catch(function(e){console.log(e)})),"album2"===t.currentTarget.id&&(r[n]=-1,r[a]=1,r={album1:{id:n,result:-1},album2:{id:a,result:1}},L(!0),y()({url:"https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save",method:"POST",params:{userId:e.userId},data:{result:r,seenPair:m}}).then(function(e){A(e.data.userResult.seenPairs),console.log(e.data.userResult.seenPairs)}).catch(function(e){console.log(e)}))},U=function(){var e=Object(i.a)(v().mark(function e(t){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(t){var n=h.id,a=k.id;if("second"===t.target.id){var r=l.filter(function(e){return e.includes(n)&&!e.includes(a)});if(0===r.length)return document.getElementById("second").setAttribute("disabled","disabled"),document.getElementById("first").setAttribute("disabled","disabled"),void(document.getElementById("skip-error-second").style.visibility="visible");var c=D(r);d(c),N(e.albums.find(function(e){return e.id===c.find(function(e){return e!==n})}))}else if("first"===t.target.id){var s=l.filter(function(e){return e.includes(a)&&!e.includes(n)});if(0===s.length)return document.getElementById("first").setAttribute("disabled","disabled"),document.getElementById("second").setAttribute("disabled","disabled"),void(document.getElementById("skip-error-first").style.visibility="visible");var i=D(s);d(i),g(e.albums.find(function(e){return e.id===i.find(function(e){return e!==a})}))}},G=e.filters;return j?R=r.a.createElement("div",{className:"album-container"},r.a.createElement("span",{className:"loader"})):0===l.length?G?(R=r.a.createElement("h1",null,"No available pairs of albums. Widen filters and try again."),document.getElementById("first").setAttribute("disabled","disabled"),document.getElementById("second").setAttribute("disabled","disabled"),document.getElementById("skip-both").setAttribute("disabled","disabled")):(R=r.a.createElement("h1",null,"No available pairs of albums."),document.getElementById("first")&&document.getElementById("first").setAttribute("disabled","disabled"),document.getElementById("second")&&document.getElementById("second").setAttribute("disabled","disabled"),document.getElementById("skip-both")&&document.getElementById("skip-both").setAttribute("disabled","disabled")):R=r.a.createElement("div",{className:"album-container"},r.a.createElement(p,{className:"album",id:"album1",album:h,onClick:U}),r.a.createElement("button",{className:"skip skip-button",id:"first",onClick:q},"Skip"),r.a.createElement("button",{className:"skip skip-button skip-both",id:"skip-both",onClick:function(){var t=h.id,n=k.id,a=l.filter(function(e){return!e.includes(t)&&!e.includes(n)});if(0===a.length)document.getElementById("skip-both").setAttribute("disabled","disabled"),document.getElementById("skip-error-both").classList.add("is-visible");else{var r=D(a),c=Math.floor(Math.random()*r.length),s=1-c;d(r),g(e.albums.find(function(e){return e.id===r[c]})),N(e.albums.find(function(e){return e.id===r[s]}))}}},"Skip both"),r.a.createElement(p,{className:"album",id:"album2",album:k,onClick:U}),r.a.createElement("button",{className:"skip skip-button",id:"second",onClick:q},"Skip"),r.a.createElement("p",{className:"skip-error-message",id:"skip-error-first"},"No available albums"),r.a.createElement("p",{className:"skip-error-both",id:"skip-error-both"},"No available albums"),r.a.createElement("p",{className:"skip-error-message",id:"skip-error-second"},"No available albums")),r.a.createElement("div",{className:"view-container"},R)},k=n(39),N=n.n(k);n(162);var C=function(e){for(var t=[],n=0;n<e.length;n++)if(Array.isArray(e[n].attributes.artistName))for(var a=function(a){var r=e[n].attributes.artistName[a];t.some(function(e){return e.name===r})||t.push({name:r,id:t.length+1,count:e.filter(function(e){return e.attributes.artistName===r}).length})},r=0;r<e[n].attributes.artistName.length;r++)a(r);else!function(){var a=e[n].attributes.artistName;t.some(function(e){return e.name===a})||t.push({name:a,id:t.length+1,count:e.filter(function(e){return e.attributes.artistName===a}).length})}();return t.sort(function(e,t){return t.count-e.count})},O=n(419),j=n(436),L=n(402),S=Object(L.a)({palette:{primary:{main:"#CFCFCF",contrastText:"#fff"},secondary:{main:"#8673FA",contrastText:"#fff"}},mark:{color:"red"}}),I=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),u=o[0],m=o[1];Object(a.useEffect)(function(){c(C(e.albums))},[e.albums]),Object(a.useEffect)(function(){l.length>0&&m(e.queryParams.map(function(e){return l.find(function(t){return t.name===e})}))},[l]),Object(a.useEffect)(function(){c(C(d()))},[e.yearFilter,e.typeFilter]);var d=function(){var t=e.albums.map(function(e){return e});if(e.yearFilter.length>0&&(t=t.filter(function(t){return e.yearFilter.some(function(e){return t.attributes.releaseDate.includes(e)})})),e.typeFilter&&e.typeFilter.length>0){var n=e.albums.filter(function(t){return e.typeFilter.includes(t.type)});t=t.filter(function(e){return n.includes(e)}),console.log(t)}return t};return r.a.createElement(N.a,{id:"artist-filter",options:l,selectedValues:u,onSelect:e.onSelect,onRemove:e.onRemove,displayValue:"name",avoidHighlightFirstOption:"true",placeholder:"Artists",closeIcon:"cancel",hidePlaceholder:"true",closeOnSelect:"true",customArrow:r.a.createElement(j.a,{theme:S},r.a.createElement(O.a,{color:"primary",fontSize:"small"})),showArrow:"true"})},x=n(16),A=(n(176),n(68)),M=n.n(A),B=n(423),F=function(e){var t=e.children,n=e.width;return r.a.createElement("div",{className:"carousal-item",style:{width:n}},t)},T=function(e){var t=e.children,n=Object(a.useState)(2),l=Object(s.a)(n,2),c=l[0],i=l[1],o=function(e){e<0?e=0:e>=r.a.Children.count(t)&&(e=r.a.Children.count(t)-1),i(e)};return r.a.createElement("div",{className:"carousal"},r.a.createElement("div",{className:"indicators"},r.a.createElement("button",{className:"next-prev-button",onClick:function(){o(c-1)}},"\u2039"),r.a.createElement("span",{id:"decade"},function(e){switch(e){case 0:return"2000's";case 1:return"2010's";case 2:return"2020's";default:return"Select years"}}(c)),r.a.createElement("button",{className:"next-prev-button",onClick:function(){o(c+1)}},"\u203a")),r.a.createElement("div",{className:"inner",style:{transform:"translateX(-".concat(100*c,"%)")}},r.a.Children.map(t,function(e,t){return r.a.cloneElement(e,{width:"100%"})})))},R=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(a.useState)(0),f=Object(s.a)(d,2),b=f[0],h=f[1],g=Object(a.useState)(["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009"]),p=Object(s.a)(g,2),E=p[0],y=p[1],v=Object(a.useState)(["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"]),w=Object(s.a)(v,2),k=w[0],N=w[1],C=Object(a.useState)(["2020","2021","2022"]),O=Object(s.a)(C,2),L=O[0],I=O[1];Object(a.useEffect)(function(){b>0&&(document.getElementById("calendar").classList.toggle("display"),console.log("filter display toggled"))},[u]);var A=Object(a.useRef)();Object(a.useEffect)(function(){var e=function(e){A.current.contains(e.target)||document.getElementById("calendar").classList.add("display")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),Object(a.useEffect)(function(){e.onChange(l)},[l]),Object(a.useEffect)(function(){c(P)},[]),Object(a.useEffect)(function(){e.albums.length>0&&Y()},[e.albums,e.artistFilter,e.typeFilter]);var R=new URLSearchParams(window.location.search),P=function(){var e=R.get("years");return null!==e?e.split(","):[]};function D(e){e.target.classList.add("hover")}function H(e){e.target.classList.remove("hover"),e.target.classList.remove("select-hover")}function _(e){if(e.target.classList.contains("year-selected"))q(e.target.innerHTML),e.target.classList.contains("aughts")?document.getElementById("select-all-aughts").classList.remove("year-selected"):e.target.classList.contains("teens")?document.getElementById("select-all-teens").classList.remove("year-selected"):e.target.classList.contains("twenties")&&document.getElementById("select-all-twenties").classList.remove("year-selected");else{e.target.classList.toggle("year-selected");var t=[].concat(Object(x.a)(l),[e.target.innerHTML]);c(t.sort())}}function U(e){if(e.target.classList.contains("aughts"))if(e.target.classList.contains("year-selected"))c(l.filter(function(e){return!E.includes(e)})),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-aughts").innerHTML="Select All";else{var t=E.filter(function(e){return!l.includes(e)});c([].concat(Object(x.a)(l),Object(x.a)(t))),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.add("year-selected")})}else if(e.target.classList.contains("teens"))if(e.target.classList.contains("year-selected"))c(l.filter(function(e){return!k.includes(e)})),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-teens").innerHTML="Select All";else{var n=k.filter(function(e){return!l.includes(e)});c([].concat(Object(x.a)(l),Object(x.a)(n))),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.add("year-selected")})}else if(e.target.classList.contains("twenties"))if(e.target.classList.contains("year-selected"))c(l.filter(function(e){return!L.includes(e)})),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-twenties").innerHTML="Select All";else{var a=L.filter(function(e){return!l.includes(e)});console.log(a),c([].concat(Object(x.a)(l),Object(x.a)(a))),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.add("year-selected")})}}function q(e){"2000's"===e?(c(l.filter(function(e){return!E.includes(e)})),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-aughts").innerHTML="Select All"):"2010's"===e?(c(l.filter(function(e){return!k.includes(e)})),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-teens").innerHTML="Select All"):"2020's"===e?(c(l.filter(function(e){return!L.includes(e)})),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-twenties").innerHTML="Select All"):(c(l.filter(function(t){return t!==e})),document.getElementById(e).classList.remove("year-selected"),document.getElementById(e).classList.contains("aughts")?(document.getElementById("select-all-aughts").classList.remove("year-selected"),document.getElementById("select-all-aughts").innerHTML="Select All"):document.getElementById(e).classList.contains("teens")?(document.getElementById("select-all-teens").classList.remove("year-selected"),document.getElementById("select-all-teens").innerHTML="Select All"):document.getElementById(e).classList.contains("twenties")&&(document.getElementById("select-all-twenties").classList.remove("year-selected"),document.getElementById("select-all-twenties").innerHTML="Select All"))}function G(){h(1),m(!u)}var Y=function(){var t=M()(".year").map(function(e,t){return t.id}).get(),n=e.albums.map(function(e){return e}),a=["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009"],r=["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],s=["2020","2021","2022"];if(e.artistFilter.length>0&&e.albums.forEach(function(t){Array.isArray(t.attributes.artistName)?!1===t.attributes.artistName.some(function(t){return e.artistFilter.includes(t)})&&n.splice(n.findIndex(function(e){return e===t}),1):!1===e.artistFilter.some(function(e){return e===t.attributes.artistName})&&n.splice(n.findIndex(function(e){return e===t}),1)}),e.typeFilter&&e.typeFilter.length>0){var i=e.albums.filter(function(t){return e.typeFilter.includes(t.type)});n=n.filter(function(e){return i.includes(e)}),console.log(n)}var o=n.map(function(e){return e.attributes.releaseDate.split("-")[0]}),u=Object(x.a)(new Set(o));t.filter(function(e){return!u.includes(e)});t.forEach(function(e){u.includes(e)?document.getElementById(e).disabled=!1:document.getElementById(e).disabled=!0});var m=a.filter(function(e){return u.includes(e)});y(m);var d=r.filter(function(e){return u.includes(e)});N(d);var f=s.filter(function(e){return u.includes(e)});if(I(f),(E.every(function(e){return document.getElementById(e).disabled})||0===E.length)&&(document.getElementById("select-all-aughts").disabled=!0),(L.some(function(e){return!1===document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-aughts").disabled=!1),(k.every(function(e){return document.getElementById(e).disabled})||0===k.length)&&(document.getElementById("select-all-teens").disabled=!0),(L.some(function(e){return!1===document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-teens").disabled=!1),(L.every(function(e){return document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-twenties").disabled=!0),(L.some(function(e){return!1===document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-twenties").disabled=!1),document.getElementById("select-all-aughts").classList.contains("year-selected")){var b=a.filter(function(e){return u.includes(e)}).filter(function(e){return!l.includes(e)});console.log(b),c([].concat(Object(x.a)(l),Object(x.a)(b)))}if(document.getElementById("select-all-teens").classList.contains("year-selected")){var h=r.filter(function(e){return u.includes(e)}).filter(function(e){return!l.includes(e)});console.log(h),c([].concat(Object(x.a)(l),Object(x.a)(h)))}if(document.getElementById("select-all-twenties").classList.contains("year-selected")){var g=s.filter(function(e){return u.includes(e)}).filter(function(e){return!l.includes(e)});console.log(g),c([].concat(Object(x.a)(l),Object(x.a)(g)))}};return r.a.createElement("div",{ref:A},r.a.createElement("div",{className:"year-filter-container",id:"year-filter-container"},r.a.createElement("div",{className:"chip-wrapper",onClick:function(e){e.target!==e.currentTarget||G()}},function(){var e=l;return E.length>0&&E.every(function(t){return e.includes(t)})&&((e=e.filter(function(e){return!E.includes(e)})).push("2000's"),e.sort(),document.getElementById("select-all-aughts").classList.add("year-selected"),document.getElementById("select-all-aughts").innerHTML="Remove All"),k.length>0&&k.every(function(t){return e.includes(t)})&&((e=e.filter(function(e){return!k.includes(e)})).push("2010's"),e.sort(),document.getElementById("select-all-teens").classList.add("year-selected"),document.getElementById("select-all-teens").innerHTML="Remove All"),L.length>0&&L.every(function(t){return e.includes(t)})&&((e=e.filter(function(e){return!L.includes(e)})).push("2020's"),e.sort(),document.getElementById("select-all-twenties").classList.add("year-selected"),document.getElementById("select-all-twenties").innerHTML="Remove All"),0===l.length?r.a.createElement("div",{className:"placeholder",onClick:G},r.a.createElement("p",{className:"placeholder-text"},"Years"),r.a.createElement(j.a,{theme:S},r.a.createElement(B.a,{color:"primary",baseClassName:"icon",id:"year-filter-icon"}))):e.map(function(e,t){return r.a.createElement("span",{className:"chip-year",key:t},e," ",r.a.createElement("img",{className:"icon_cancel closeIcon",alt:"Cancel icon",src:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E",onClick:function(){return q(e)}}))})}())),r.a.createElement("div",{className:"calendar-wrapper display",id:"calendar"},r.a.createElement(T,null,r.a.createElement(F,null,r.a.createElement("div",{className:"years-wrapper"},r.a.createElement("button",{className:"year aughts first-year",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2000"},"2000"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2001"},"2001"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2002"},"2002"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2003"},"2003"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2004"},"2004"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2005"},"2005"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2006"},"2006"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2007"},"2007"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2008"},"2008"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2009"},"2009"),r.a.createElement("button",{className:"select-all aughts",id:"select-all-aughts",onMouseEnter:D,onMouseLeave:H,onClick:U},"Select All"))),r.a.createElement(F,null,r.a.createElement("div",{className:"years-wrapper"},r.a.createElement("button",{className:"year teens first-year",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2010"},"2010"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2011"},"2011"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2012"},"2012"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2013"},"2013"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2014"},"2014"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2015"},"2015"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2016"},"2016"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2017"},"2017"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2018"},"2018"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2019"},"2019"),r.a.createElement("button",{className:"select-all teens",id:"select-all-teens",onMouseEnter:D,onMouseLeave:H,onClick:U},"Select All"))),r.a.createElement(F,null,r.a.createElement("div",{className:"years-wrapper"},r.a.createElement("button",{className:"year twenties first-year",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2020"},"2020"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2021"},"2021"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2022"},"2022"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2023"},"2023"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2024"},"2024"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2025"},"2025"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2026"},"2026"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2027"},"2027"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2028"},"2028"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2029"},"2029"),r.a.createElement("button",{className:"select-all twenties",id:"select-all-twenties",onMouseEnter:D,onMouseLeave:H,onClick:U},"Select All"))))))},P=n(31),D=n.n(P),H=(n(178),n(172)),_=n.n(H),U=n(41),q=function(e){return Object(a.useEffect)(function(){"/"===window.location.pathname&&document.getElementById("rank").classList.add("active"),"/rankings"===window.location.pathname&&document.getElementById("rankings").classList.add("active")},[]),r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header-logo"},r.a.createElement("img",{src:_.a,alt:"rankabl-logo",className:"logo"}),r.a.createElement("h1",{className:"brand"},"rankabl")),r.a.createElement("div",{className:"nav-container"},r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",{className:"nav-item",id:"rank"},r.a.createElement(U.b,{to:"/".concat(e.artistFilter&&e.artistFilter.length>0&&e.yearFilter&&e.yearFilter>0?"?artist="+e.artistFilter.join("%2C")+"&years="+e.yearFilter.join("%2C"):e.artistFilter&&e.artistFilter.length>0?"?artist="+e.artistFilter.join("%2C"):e.yearFilter&&e.yearFilter.length>0?"?years="+e.yearFilter.join("%2C"):"")},"RANK")),r.a.createElement("li",{className:"nav-item",id:"rankings"},r.a.createElement(U.b,{to:e.headerParams?"/rankings?"+e.headerParams.toString():"/rankings"},"RANKINGS"))))))},G=(n(180),n(429)),Y=n(433),V=n(432),z=n(434),K=n(431),J=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(a.useState)(0),f=Object(s.a)(d,2),b=f[0],h=f[1],g=Object(a.useState)(),p=Object(s.a)(g,2),E=p[0],y=p[1],v=Object(a.useState)(["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009"]),w=Object(s.a)(v,2),k=w[0],N=(w[1],Object(a.useState)(["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"])),C=Object(s.a)(N,2),O=C[0],L=(C[1],Object(a.useState)(["2020","2021","2022"])),I=Object(s.a)(L,2),x=I[0];I[1];Object(a.useEffect)(function(){b>0&&document.getElementById("ranking-slider").classList.toggle("display")},[u]),Object(a.useEffect)(function(){e.albums.length>0&&y(e.albums.length)},[e.albums]);var A=Object(a.useRef)();Object(a.useEffect)(function(){var e=function(e){A.current.contains(e.target)||document.getElementById("ranking-slider").classList.add("display")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),Object(a.useEffect)(function(){},[l]);new URLSearchParams(window.location.search);function M(){h(1),m(!u)}var F=[{value:10,label:"10"},{value:20,label:"20"},{value:e.albums.length,label:"All"}];return r.a.createElement("div",{ref:A},r.a.createElement("div",{className:"ranking-filter-container",id:"ranking-filter-container"},r.a.createElement("div",{className:"chip-wrapper",onClick:function(e){e.target!==e.currentTarget||M()}},[10,20,50,100,200].some(function(e){return e===E})?r.a.createElement("div",{className:"chip-container"},r.a.createElement("span",{className:"chip-ranking"},"Top ".concat(E)," ",r.a.createElement("img",{className:"icon_cancel closeIcon",alt:"Cancel icon",src:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E",onClick:function(){var e;"2000's"===(e=void 0)?(c(l.filter(function(e){return!k.includes(e)})),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-aughts").innerHTML="Select All"):"2010's"===e?(c(l.filter(function(e){return!O.includes(e)})),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-teens").innerHTML="Select All"):"2020's"===e?(c(l.filter(function(e){return!x.includes(e)})),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-twenties").innerHTML="Select All"):(c(l.filter(function(t){return t!==e})),document.getElementById(e).classList.remove("year-selected"),document.getElementById(e).classList.contains("aughts")?(document.getElementById("select-all-aughts").classList.remove("year-selected"),document.getElementById("select-all-aughts").innerHTML="Select All"):document.getElementById(e).classList.contains("teens")?(document.getElementById("select-all-teens").classList.remove("year-selected"),document.getElementById("select-all-teens").innerHTML="Select All"):document.getElementById(e).classList.contains("twenties")&&(document.getElementById("select-all-twenties").classList.remove("year-selected"),document.getElementById("select-all-twenties").innerHTML="Select All"))}})),r.a.createElement(j.a,{theme:S},r.a.createElement(B.a,{color:"primary",baseClassName:"icon",id:"ranking-filter-icon-chip",onClick:M}))):r.a.createElement("div",{className:"placeholder",onClick:M},r.a.createElement("p",{className:"placeholder-text"},"Ranking"),r.a.createElement(j.a,{theme:S},r.a.createElement(B.a,{color:"primary",baseClassName:"icon",id:"ranking-filter-icon"}))))),r.a.createElement("div",{className:"ranking-slider display",id:"ranking-slider"},r.a.createElement(j.a,{theme:S},r.a.createElement(V.a,null,r.a.createElement(Y.a,{row:!0,defaultValue:"global",color:"primary"},r.a.createElement(z.a,{value:"global",control:r.a.createElement(K.a,{color:"secondary",size:"small"}),label:"Global",sx:{color:"#cfcfcf",marginRight:"24px"}}),r.a.createElement(z.a,{value:"personal",control:r.a.createElement(K.a,{color:"secondary",size:"small",id:"radio-personal"}),label:"Personal",sx:{color:"#cfcfcf"}}))),r.a.createElement(G.a,{color:"secondary",marks:F,step:null,defaultValue:48,max:e.albums.length,onChange:function(t,n){y(n),e.filterRanking(n)}}))))},Q=n(48),W=n.n(Q),X=function(e){var t=[];e.forEach(function(e){var n={};n[e.album1.id]=e.album1.result,n[e.album2.id]=e.album2.result,t.push(n)}),console.log(t);for(var n=[],a=0;a<t.length;a++)n.push(Object.keys(t[a]));console.log(n);var r=n.flat();console.log(r);var l=Object(x.a)(new Set(r));console.log(l);var c=W.a.matrix(l.length);c=c.map(function(e){return 0});for(var s=function(e){c.set(e,e,r.filter(function(t){return t===l[e]}).length+2);for(var n=e+1;n<l.length;n++)for(var a=c.get(e,n)||0,s=0;s<t.length;s++)l[e]in t[s]&&l[n]in t[s]&&(c.set(e,n,a-1),c.set(n,e,a-1))},i=0;i<l.length;i++)s(i);console.log(c);for(var o=[],u=0;u<l.length;u++){for(var m=[],d=0;d<t.length;d++)l[u]in t[d]&&m.push(t[d][l[u]]);var f=1+.5*m.reduce(function(e,t){return e+t},0);o.push(f)}for(var b=W.a.matrix(l.length,o),h=W.a.lu(c).solve(b),g=[],p=0;p<l.length;p++)g.push({albumId:l[p],rating:h.array[p]});return g.sort(function(e,t){return t.rating-e.rating})},Z=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(a.useState)(0),d=Object(s.a)(m,2),f=d[0],b=d[1],h=Object(a.useState)([]),p=Object(s.a)(h,2),E=p[0],v=p[1],k=Object(a.useState)([]),N=Object(s.a)(k,2),C=N[0],O=N[1],j=Object(a.useState)(!1),L=Object(s.a)(j,2),S=L[0],x=L[1],A=Object(a.useState)(!1),M=Object(s.a)(A,2),B=M[0],F=M[1],T=Object(a.useState)(""),P=Object(s.a)(T,2),H=P[0],_=P[1],U=Object(a.useState)({_id:"",userId:"",results:[],seenPairs:[]}),G=Object(s.a)(U,2),Y=G[0],V=G[1],z=Object(a.useState)(!1),K=Object(s.a)(z,2),Q=K[0],W=K[1],Z=Object(a.useState)(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)([]),ae=Object(s.a)(ne,2),re=ae[0],le=ae[1],ce=Object(a.useState)([]),se=Object(s.a)(ce,2),ie=se[0],oe=se[1],ue=Object(a.useState)([]),me=Object(s.a)(ue,2),de=me[0],fe=me[1],be=Object(a.useState)([]),he=Object(s.a)(be,2),ge=(he[0],he[1]);Object(a.useEffect)(function(){ye(),Ee(),we(),te(ke())},[]),Object(a.useEffect)(function(){""!==H&&ve()},[H]),Object(a.useEffect)(function(){re.length>0&&fe(X(re))},[re]),Object(a.useEffect)(function(){ie.length>0&&ge(X(ie))},[ie]),Object(a.useEffect)(function(){if(Ne(),n.length>0||o.length>0?F(!0):F(!1),0===n.length){pe.delete("artist");var e=window.location.pathname+"?"+pe.toString();window.history.pushState(null,"",e)}0===o.length&&(pe.delete("years"),e=window.location.pathname+"?"+pe.toString(),window.history.pushState(null,"",e))},[n,o,f]),Object(a.useEffect)(function(){Ne()},[f]),Object(a.useEffect)(function(){E.length>0&&(x(!0),l(ee),b(E.length))},[E]);var pe=new URLSearchParams(window.location.search),Ee=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums",{params:{verification_method:"SECRET_AS_QUERY_PARAM",secret:"temperature"}}).then(function(e){v(e.data),O(e.data)}).catch(function(e){console.log(e)})},ye=function(){D.a.get("user")?_(D.a.get("user")):(D.a.set("user",g.a.v4(),{expires:1e4}),_(D.a.get("user")))},ve=function(){""!==H&&y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser",{params:{userId:H}}).then(function(e){null!==e.data?(V(e.data),W(!0),oe(e.data.results)):W(!0)})},we=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults",{}).then(function(e){le(e.data)}).catch(function(e){console.log(e)})},ke=function(){var e=pe.get("artist");if(null!==e){var t=e.split(",");return console.log("filter set from params"),t}return[]},Ne=function(){if(console.log(f),0===n.length&&0===o.length&&f===E.length)O(E);else{var e=E.map(function(e){return e});if(n.length>0){E.forEach(function(t){Array.isArray(t.attributes.artistName)?!1===t.attributes.artistName.some(function(e){return n.includes(e)})&&e.splice(e.findIndex(function(e){return e===t}),1):!1===n.some(function(e){return e===t.attributes.artistName})&&e.splice(e.findIndex(function(e){return e===t}),1)}),pe.set("artist",n);var t=window.location.pathname+"?"+pe.toString();window.history.pushState(null,"",t)}if(o.length>0&&(e=e.filter(function(e){return o.some(function(t){return e.attributes.releaseDate.includes(t)})}),pe.set("years",o),t=window.location.pathname+"?"+pe.toString(),window.history.pushState(null,"",t)),de.length>0&&f<E.length){var a=de.map(function(e){return e.albumId}).slice(0,f);console.log(a),e=e.filter(function(e){return a.includes(e.id)}),console.log(e)}O(e)}},Ce=function(e){var t=e.map(function(e){return e.name});l(t)};return r.a.createElement("div",null,r.a.createElement(q,{headerParams:pe}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Rank"},r.a.createElement("div",{className:"filters"},r.a.createElement(I,{id:"artist-filter",onSelect:Ce,onRemove:Ce,albums:E,queryParams:n,yearFilter:o}),r.a.createElement(R,{onChange:function(e){u(e)},albums:E,artistFilter:n}),r.a.createElement(J,{albums:E,filterRanking:function(e){b(e)}})),r.a.createElement(w,{albums:C,albumsLoaded:S,filters:B,userId:H,seenPairs:Y.seenPairs,loadedUserData:Q}))))},$=(n(184),n(183)),ee=n.n($),te=(n(186),function(e){var t=e.children,n=e.width;return r.a.createElement("div",{className:"carousal-item",style:{width:n}},t)}),ne=function(e){var t=e.children,n=Object(a.useState)(0),l=Object(s.a)(n,2),c=l[0],i=l[1],o=function(e){i(e)};return r.a.createElement("div",{className:"carousel"},r.a.createElement("div",{className:"inner",style:{transform:"translateX(-".concat(100*c,"%)")}},r.a.Children.map(t,function(e,t){return r.a.cloneElement(e,{width:"100%"})})),r.a.createElement("div",{className:"carousel-dots"},r.a.createElement("div",{className:"dot ".concat(0===c?"active":""),id:"dot-0",onClick:function(){return o(0)}}),r.a.createElement("div",{className:"dot ".concat(1===c?"active":""),id:"dot-1",onClick:function(){return o(1)}})))},ae=function(e){var t=Object(a.useState)({}),n=Object(s.a)(t,2),l=n[0],c=n[1];Object(a.useEffect)(function(){e.album&&(e.album.attributes.editorialNotes&&(document.getElementById("editorial-notes-"+e.rank).innerHTML=e.album.attributes.editorialNotes.standard),c({"--bg-color":"#"+e.album.attributes.artwork.bgColor,"--text-color-1":"#"+e.album.attributes.artwork.textColor1,"--text-color-2":"#"+e.album.attributes.artwork.textColor2,"--text-color-3":"#"+e.album.attributes.artwork.textColor3,"--text-color-4":"#"+e.album.attributes.artwork.textColor4,"--shadow":"#"+e.album.attributes.artwork.textColor4+"25","--shadow-hover":"#"+e.album.attributes.artwork.textColor4+"80","--bg-gradient":"#"+b(e.album.attributes.artwork.bgColor,4)}))},[e.album]);var i,o=function(e){return e.replace("{w}","600").replace("{h}","600")},u=function(t){var n=[];e.albums.forEach(function(e){Array.isArray(e.attributes.artistName)?e.attributes.artistName.some(function(e){return e===t})&&n.push(e):e.attributes.artistName===t&&n.push(e)});var a=e.rankingGlobal.map(function(e){return e.albumId}),r=e.rankingUser.map(function(e){return e.albumId});return("global"===e.selectedRanking?n.filter(function(e){return a.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingGlobal.findIndex(function(e){return e.albumId===t.id})+1}}):n.filter(function(e){return r.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingUser.findIndex(function(e){return e.albumId===t.id})+1}})).sort(function(e,t){return e.ranking-t.ranking})},m=function(t){return function(t){var n=[];e.albums.forEach(function(e){Array.isArray(e.attributes.artistName)?e.attributes.artistName.some(function(e){return e===t})&&n.push(e):e.attributes.artistName===t&&n.push(e)}),e.albums.filter(function(e){return e.attributes.artistName===t});var a=n.filter(function(t){return t.id!==e.album.id}),r=e.rankingGlobal.map(function(e){return e.albumId}),l=e.rankingUser.map(function(e){return e.albumId});return("global"===e.selectedRanking?a.filter(function(e){return r.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingGlobal.findIndex(function(e){return e.albumId===t.id})+1}}):a.filter(function(e){return l.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingUser.findIndex(function(e){return e.albumId===t.id})+1}})).sort(function(e,t){return e.ranking-t.ranking})}(t).map(function(e,t){return r.a.createElement("div",{className:"other-album",key:t},r.a.createElement("div",{className:"other-album-rank"},e.ranking),r.a.createElement("img",{src:o(e.album.attributes.artwork.url),alt:e.album.attributes.name,className:"other-album-image"}),r.a.createElement("p",{className:"other-album-name"},e.album.attributes.name))})},d=function(t){if(e.artists.length>0&&e.album&&u(t).length>0)return e.artists.find(function(e){return e.attributes.name===t}).attributes.artwork.url.replace("{w}","300").replace("{h}","300")};if(e.album)return r.a.createElement("div",{className:"table-row",id:"table-row-".concat(e.rank),style:l},r.a.createElement("div",{className:"row-default"},r.a.createElement("div",{className:"table-cell",id:"rank-cell"},r.a.createElement("div",{className:"rank-container"},r.a.createElement("p",null,e.rank))),r.a.createElement("div",{className:"table-cell",id:"album-cell"},e.album&&r.a.createElement("div",{className:"album-info"},r.a.createElement("img",{src:o(e.album.attributes.artwork.url),alt:"album artwork",className:"albumArtwork"}),r.a.createElement("div",{className:"album-name-artist"},r.a.createElement("div",{className:"album-text"},r.a.createElement("p",{className:"album-name-table"},e.album.attributes.name),r.a.createElement("p",{className:"album-artist-table"},Array.isArray(e.album.attributes.artistName)?e.album.attributes.artistName.join(" & "):e.album.attributes.artistName))))),r.a.createElement("div",{className:"table-cell",id:"release-cell"},r.a.createElement("p",null,e.album&&(i=e.album.attributes.releaseDate,ee()(i).format("MMMM Do, YYYY")))),r.a.createElement("div",{className:"table-cell",id:"more-cell"},r.a.createElement("button",{className:"more",id:"more-button-".concat(e.rank),onClick:function(){"More"===document.getElementById("more ".concat(e.rank)).innerHTML?(document.getElementById("table-row-".concat(e.rank)).style.height="481px",setTimeout(function(){document.getElementById("table-row-".concat(e.rank)).scrollIntoView({behavior:"smooth",block:"nearest"})},300),document.getElementById("more ".concat(e.rank)).innerHTML="Less",document.getElementById("chevron ".concat(e.rank)).style.transform="rotate(180deg)",document.getElementById("chevron ".concat(e.rank)).style.visibility="visible",document.getElementById("more ".concat(e.rank)).style.visibility="visible",e.isExpanded(e.rank)):(document.getElementById("table-row-".concat(e.rank)).style.height="120px",document.getElementById("more ".concat(e.rank)).innerHTML="More",document.getElementById("chevron ".concat(e.rank)).style.transform="rotate(0deg)",document.getElementById("more ".concat(e.rank)).style.visibility="",document.getElementById("chevron ".concat(e.rank)).style.visibility="",e.isExpanded(""))}},r.a.createElement("p",{className:"button-text",id:"more ".concat(e.rank)},"More"),r.a.createElement(B.a,{size:"small",id:"chevron ".concat(e.rank)})))),r.a.createElement("div",{className:"row-expanded",id:"row-expanded-".concat(e.rank)},r.a.createElement("div",{className:"album-info-expanded"},r.a.createElement("div",{className:"album-facts"},r.a.createElement("p",{className:"label"},"PROJECT TYPE:"),r.a.createElement("p",null,e.album&&e.album.type),r.a.createElement("p",{className:"label"},"GENRE:"),r.a.createElement("p",null,e.album&&e.album.attributes.genreNames[0]),r.a.createElement("p",{className:"label"},"TRACKs:"),r.a.createElement("p",null,e.album&&e.album.attributes.trackCount)),e.album.attributes.editorialNotes&&r.a.createElement("div",{className:"editorial-notes"},r.a.createElement("p",{id:"editorial-label"},"EDITORIAL NOTES:"),r.a.createElement("p",{className:"editorial-notes-standard",id:"editorial-notes-"+e.rank}))),r.a.createElement("div",{className:"recent-results"},r.a.createElement("p",{className:"label"},"RECENT RESULTS:"),r.a.createElement("div",{className:"recent-results-albums"},function(){var t=("global"===e.selectedRanking?e.resultsGlobal:e.resultsUser).filter(function(t){return t.album1.id===e.album.id||t.album2.id===e.album.id}),n=[];return t.map(function(t){t.album1.id===e.album.id?n.push({album:e.albums.find(function(e){return e.id===t.album2.id}),result:t.album2.result}):t.album2.id===e.album.id&&n.push({album:e.albums.find(function(e){return e.id===t.album1.id}),result:t.album1.result})}),n.reverse().slice(0,20)}().map(function(e,t){return r.a.createElement("div",{className:"recent-result",key:t},r.a.createElement("div",{className:"recent-result-outcome"},-1===e.result?"Win":"Loss"),r.a.createElement("img",{src:o(e.album.attributes.artwork.url),alt:e.album.attributes.name,className:"recent-result-image"}),r.a.createElement("p",{className:"recent-result-name"},e.album.attributes.name))}))),r.a.createElement("vl",null),Array.isArray(e.album.attributes.artistName)?r.a.createElement(ne,null,e.album.attributes.artistName.map(function(e,t){return r.a.createElement(te,{index:t},r.a.createElement("div",{className:"artist"},r.a.createElement("div",{className:"artist-info"},r.a.createElement("img",{src:d(e),alt:"artist artwork",className:"artist-artwork"}),r.a.createElement("p",{className:"artist-name"},e),r.a.createElement("div",{className:"artist-stats"},r.a.createElement("div",{className:"artist-stats-labels"},r.a.createElement("p",null,"Highest album rank: "),r.a.createElement("p",null,"Lowest album rank: "),r.a.createElement("p",null,"Average album rank: ")),r.a.createElement("div",{className:"artist-stats-values"},r.a.createElement("p",null,u(e).length>0&&"#".concat(u(e)[0].ranking)),r.a.createElement("p",null,u(e).length>0&&"#".concat(u(e)[u(e).length-1].ranking)),r.a.createElement("p",null,u(e).length>0&&"#".concat((u(e).reduce(function(e,t){return e+t.ranking},0)/u(e).length).toFixed(1)))))),r.a.createElement("div",{className:"other-albums-container"},r.a.createElement("p",{className:"label"},"OTHER ALBUMS:"),r.a.createElement("div",{className:"other-albums"},m(e)))))})):r.a.createElement("div",{className:"artist"},r.a.createElement("div",{className:"artist-info"},r.a.createElement("img",{src:d(e.album.attributes.artistName),alt:"artist artwork",className:"artist-artwork"}),r.a.createElement("p",{className:"artist-name"},e.album.attributes.artistName),r.a.createElement("div",{className:"artist-stats"},r.a.createElement("div",{className:"artist-stats-labels"},r.a.createElement("p",null,"Highest album rank: "),r.a.createElement("p",null,"Lowest album rank: "),r.a.createElement("p",null,"Average album rank: ")),r.a.createElement("div",{className:"artist-stats-values"},r.a.createElement("p",null,u(e.album.attributes.artistName).length>0&&"#".concat(u(e.album.attributes.artistName)[0].ranking)),r.a.createElement("p",null,u(e.album.attributes.artistName).length>0&&"#".concat(u(e.album.attributes.artistName)[u(e.album.attributes.artistName).length-1].ranking)),r.a.createElement("p",null,u(e.album.attributes.artistName).length>0&&"#".concat((u(e.album.attributes.artistName).reduce(function(e,t){return e+t.ranking},0)/u(e.album.attributes.artistName).length).toFixed(1)))))),r.a.createElement("div",{className:"other-albums-container"},r.a.createElement("p",{className:"label"},"OTHER ALBUMS:"),r.a.createElement("div",{className:"other-albums"},m(e.album.attributes.artistName))))),r.a.createElement("div",{className:"expanded-row-bg",id:"expanded-row-bg-".concat(e.rank)}))},re=(n(188),function(){return r.a.createElement("div",{className:"table-header"},r.a.createElement("div",{className:"table-label",id:"rank-label"},"RANK"),r.a.createElement("div",{className:"table-label",id:"album-label"},"ALBUM"),r.a.createElement("div",{className:"table-label",id:"release-label"},"RELEASE DATE"))}),le=(n(190),n(192),function(e){var t=Object(a.useState)([{label:"Global",value:"global"}]),n=Object(s.a)(t,2),l=n[0],c=n[1];return Object(a.useEffect)(function(){"personal"===e.queryParams?c([{label:"Personal",value:"personal"}]):c([{label:"Global",value:"global"}])},[e.queryParams]),r.a.createElement(N.a,{id:"ranking-select",options:[{label:"Global",value:"global"},{label:"Personal",value:"personal"}],displayValue:"label",avoidHighlightFirstOption:"true",singleSelect:"true",selectedValues:l,hidePlaceholder:"true",placeholder:"",showArrow:"true",onSelect:e.onSelect,customArrow:r.a.createElement(j.a,{theme:S},r.a.createElement(B.a,{color:"primary"}))})}),ce=(n(194),n(196),function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),l=n[0],c=n[1],i=Object(a.useState)([]),o=Object(s.a)(i,2),u=o[0],m=o[1];Object(a.useEffect)(function(){e.albums.length>0&&m(d(e.albums))},[e.albums]),Object(a.useEffect)(function(){e.queryParams.length>0&&u.length>0&&c(e.queryParams.map(function(e){return u.find(function(t){return t.label===e})}))},[u]),Object(a.useEffect)(function(){e.albums.length>0&&m(d(f()))},[e.yearFilter,e.artistFilter]);var d=function(e){var t=[];return e.forEach(function(n){t.some(function(e){return e.label===n.type})||t.push({label:n.type,value:n.type.toLowerCase,count:e.filter(function(e){return e.type===n.type}).length})}),t.sort(function(e,t){return t.count-e.count})},f=function(){var t=e.albums.map(function(e){return e});if(e.artistFilter.length>0&&e.albums.forEach(function(n){Array.isArray(n.attributes.artistName)?!1===n.attributes.artistName.some(function(t){return e.artistFilter.includes(t)})&&t.splice(t.findIndex(function(e){return e===n}),1):!1===e.artistFilter.some(function(e){return e===n.attributes.artistName})&&t.splice(t.findIndex(function(e){return e===n}),1)}),e.yearFilter.length>0){var n=e.albums.filter(function(t){return e.yearFilter.some(function(e){return t.attributes.releaseDate.includes(e)})}).map(function(e){return e});t=t.filter(function(e){return n.includes(e)})}return console.log(t),t};return r.a.createElement(N.a,{id:"type-select",options:u,selectedValues:l,displayValue:"label",avoidHighlightFirstOption:"true",singleSelect:"true",placeholder:"Type",showArrow:"true",onSelect:e.onSelect,onRemove:e.onRemove,closeIcon:"cancel",customArrow:r.a.createElement(j.a,{theme:S},r.a.createElement(B.a,{color:"primary"}))})}),se=n(427),ie=n(437),oe=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(a.useState)([]),d=Object(s.a)(m,2),f=d[0],b=d[1],h=Object(a.useState)([]),p=Object(s.a)(h,2),E=p[0],v=p[1],w=Object(a.useState)([]),k=Object(s.a)(w,2),N=k[0],C=k[1],O=Object(a.useState)([]),L=Object(s.a)(O,2),x=L[0],A=L[1],M=Object(a.useState)([]),B=Object(s.a)(M,2),F=B[0],T=B[1],P=Object(a.useState)(""),H=Object(s.a)(P,2),_=H[0],U=H[1],G=Object(a.useState)("global"),Y=Object(s.a)(G,2),V=Y[0],z=Y[1],K=Object(a.useState)(!1),J=Object(s.a)(K,2),Q=J[0],W=J[1],Z=Object(a.useState)(""),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ne=Object(a.useState)([]),oe=Object(s.a)(ne,2),ue=oe[0],me=oe[1],de=Object(a.useState)([]),fe=Object(s.a)(de,2),be=fe[0],he=fe[1],ge=Object(a.useState)([]),pe=Object(s.a)(ge,2),Ee=pe[0],ye=pe[1];Object(a.useEffect)(function(){ke(),Ne(),Ce(),Oe(),W(!0),me(Le()),ye(we.getAll("type")),null!==we.get("ranking")&&z(we.get("ranking"))},[]),Object(a.useEffect)(function(){je()},[_]),Object(a.useEffect)(function(){f.length>0&&C(X(f))},[f]),Object(a.useEffect)(function(){E.length>0&&A(X(E))},[E]),Object(a.useEffect)(function(){"global"===V&&T(N),N.length>0&&W(!1)},[N]),Object(a.useEffect)(function(){"personal"===V&&T(x),x.length>0&&W(!1)},[N]),Object(a.useEffect)(function(){Ae(),we.set("ranking",V);var e=window.location.pathname+"?"+we.toString();window.history.pushState(null,"",e)},[V]),Object(a.useEffect)(function(){if(Ae(),""!==ee&&Me(ee),0===ue.length){we.delete("artist");var e=window.location.pathname+"?"+we.toString();window.history.pushState(null,"",e)}ue.length>0&&(we.set("artist",ue),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e)),0===be.length&&(we.delete("years"),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e)),0===Ee.length&&(we.delete("type"),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e)),Ee.length>0&&(we.set("type",Ee[0]),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e))},[ue,be,Ee]),Object(a.useEffect)(function(){N&&Ae()},[N,n]),Object(a.useEffect)(function(){x&&Ae()},[x,n]),Object(a.useEffect)(function(){""!==ve&&""!==ee&&Me(ve)},[ee]);var ve=function(e){var t=Object(a.useRef)();return Object(a.useEffect)(function(){t.current=e}),t.current}(ee),we=new URLSearchParams(window.location.search),ke=function(){D.a.get("user")?U(D.a.get("user")):D.a.set("user",g.a.v4(),{expires:1e4})},Ne=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums",{params:{verification_method:"SECRET_AS_QUERY_PARAM",secret:"temperature"}}).then(function(e){l(e.data)}).catch(function(e){console.log(e)})},Ce=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/artists",{}).then(function(e){u(e.data)}).catch(function(e){console.log(e)})},Oe=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults",{}).then(function(e){b(e.data)}).catch(function(e){console.log(e)})},je=function(){""!==_&&y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser",{params:{userId:_}}).then(function(e){null!==e.data&&v(e.data.results)})},Le=function(){var e=we.get("artist");return null!==e?e.split(","):[]},Se=function(e){te(e)},Ie=function(e){var t=e.map(function(e){return e.name});me(t)},xe=function(e){var t=e.map(function(e){return e.label});ye(t)},Ae=function(){if(0===ue.length&&0===be.length&&0===Ee.length)"global"===V?T(N):"personal"===V&&T(x);else{var e=n.map(function(e){return e.id});if(ue.length>0&&n.forEach(function(t){Array.isArray(t.attributes.artistName)?!1===t.attributes.artistName.some(function(e){return ue.includes(e)})&&e.splice(e.findIndex(function(e){return e===t.id}),1):!1===ue.some(function(e){return e===t.attributes.artistName})&&e.splice(e.findIndex(function(e){return e===t.id}),1)}),be.length>0){var t=n.filter(function(e){return be.some(function(t){return e.attributes.releaseDate.includes(t)})}).map(function(e){return e.id});e=e.filter(function(e){return t.includes(e)}),we.set("years",be);var a=window.location.pathname+"?"+we.toString();window.history.pushState(null,"",a)}if(Ee.length>0){var r=n.filter(function(e){return Ee.includes(e.type)}).map(function(e){return e.id});e=e.filter(function(e){return r.includes(e)})}var l=[];l="global"===V?N.filter(function(t){return e.includes(t.albumId)}):x.filter(function(t){return e.includes(t.albumId)}),T(l)}},Me=function(e){document.getElementById("table-row-".concat(e)).style.height="120px",document.getElementById("more ".concat(e)).innerHTML="More",document.getElementById("chevron ".concat(e)).style.transform="rotate(0deg)",document.getElementById("more ".concat(e)).style.visibility="",document.getElementById("chevron ".concat(e)).style.visibility=""};return r.a.createElement("div",null,r.a.createElement(q,{artistFilter:ue,yearFilter:be}),r.a.createElement("div",{className:"filters-rankings"},r.a.createElement(le,{onSelect:function(e){z(e[0].value)},queryParams:V}),r.a.createElement(I,{albums:n,onSelect:Ie,onRemove:Ie,queryParams:ue,yearFilter:be,typeFilter:Ee}),r.a.createElement(R,{onChange:function(e){he(e)},queryParams:be,albums:n,artistFilter:ue,typeFilter:Ee}),r.a.createElement(ce,{onSelect:xe,onRemove:xe,queryParams:Ee,albums:n,artistFilter:ue,yearFilter:be}),r.a.createElement("div",{className:"share"},"personal"===V?r.a.createElement(j.a,{theme:S},r.a.createElement(ie.a,{variant:"contained",onClick:function(){var e=ue.map(function(e){return e}),t=e.pop(),a="";Ee.length>0&&(a=Ee[0].toLowerCase());var r=be.map(function(e){return e}),l=r.pop(),c=[];c=1===ue.length?F:F.slice(0,10);var s="My top ranked ".concat(ue.length>1?"".concat(e.join(", ")+" & "+t+" "):ue.length>0?"".concat(ue[0]," "):"").concat(Ee.length>0?"".concat(a,"s"):"albums"," of ").concat(document.getElementById("select-all-twenties").classList.contains("year-selected")?"the 2020's":document.getElementById("select-all-teens").classList.contains("year-selected")?"the 2010's":document.getElementById("select-all-aughts").classList.contains("year-selected")?"the 2000's":be.length>1?"".concat(r.join(", ")+" & "+l):be.length>0?"".concat(be[0]):"all time",": \n\n").concat(c.map(function(e,t){return"".concat(t+1,". ").concat(n.find(function(t){return t.id===e.albumId}).attributes.name," ").concat(void 0!==n.find(function(t){return t.id===e.albumId}).attributes.emoji?n.find(function(t){return t.id===e.albumId}).attributes.emoji:"")}).join("\n"));navigator.clipboard.writeText(s)},color:"secondary",sx:{borderRadius:"20px",height:"40px",padding:"0px 32px 0px 32px",textTransform:"none",fontSize:"16px",fontFamily:"Helvetica",color:"#FFFFFF"},endIcon:r.a.createElement(se.a,{size:"small"})},"Share")):null)),r.a.createElement(re,null),r.a.createElement("div",{className:"table-container",id:"table-container"},Q?r.a.createElement("span",{className:"loader"}):F.map(function(e,t){return r.a.createElement(ae,{key:t,album:n.find(function(t){return t.id===e.albumId}),rank:t+1,albums:n,artists:o,rankingGlobal:N,rankingUser:x,resultsGlobal:f,resultsUser:E,selectedRanking:V,isExpanded:Se})})),r.a.createElement("div",{className:"embed"}))},ue=n(3);var me=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(ue.a,null))},de=function(e){e&&e instanceof Function&&n.e(1).then(n.bind(null,428)).then(function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(U.a,null,r.a.createElement(ue.d,null,r.a.createElement(ue.b,{path:"*",element:r.a.createElement(me,null)}),r.a.createElement(ue.b,{index:!0,element:r.a.createElement(Z,null)}),r.a.createElement(ue.b,{path:"rankings",element:r.a.createElement(oe,null)})))),de()}},[[118,3,2]]]);
//# sourceMappingURL=main.2939cdb8.chunk.js.map