{"version":3,"sources":["Images/rankabl-logo.png","util/newShade.js","Components/Album/Album.js","results.js","Components/AlbumContainer/AlbumContainer.js","util/generatePairs.js","util/getArtists.js","Components/MuiTheme/Theme.js","Components/ArtistFilter/ArtistFilter.js","Components/YearFilter/YearFilter.js","Components/Header/Header.js","Components/Rank/Rank.js","Components/TableRow/TableRowCarousel.js","Components/TableRow/TableRow.js","Components/TableHeader/TableHeader.js","Components/RankingSelect/RankingSelect.js","util/solveRanking.js","Components/TypeSelect/TypeSelect.js","Components/Ranking/Rankings.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","__webpack_require__","p","newShade","color","percent","num","parseInt","amt","Math","round","R","B","G","toString","slice","Album","document","getElementById","style","transform","Array","isArray","this","props","album","attributes","artistName","join","url","replace","--bg-color","artwork","bgColor","--text-color-1","textColor1","--text-color-2","textColor2","--text-color-3","textColor3","--text-color-4","textColor4","--shadow","--shadow-hover","--bg-gradient","react_default","a","createElement","className","id","onMouseDown","mouseDown","onMouseUp","mouseUp","onClick","src","replaceUrl","alt","name","getArtistName","React","Component","require","AlbumContainer","_useState","useState","_useState2","Object","slicedToArray","albumPairs","setAlbumPairs","_useState3","_useState4","selectedPair","setSelectedPair","_useState5","_useState6","album1","setAlbum1","_useState7","_useState8","album2","setAlbum2","_useState9","_useState10","loading","setLoading","_useState11","_useState12","seenPairs","setSeenPairs","_useState13","_useState14","needNewPair","setNeedNewPair","useEffect","length","albumsLoaded","loadedUserData","albums","filteredPairs","filterPairs","console","log","setTimeout","getNewAlbums","then","view","array","pairs","results","i","j","push","generatePairs","votedPairs","includes","filter","pair","selectAlbums","floor","random","_ref","asyncToGenerator","_regeneratorRuntime","mark","_callee","albumArray","selectedAlbums","album1Index","album2Index","errorMessages","skipButtons","wrap","_context","prev","next","find","from","getElementsByClassName","forEach","element","visibility","removeAttribute","stop","_x","apply","arguments","pushResults","e","album1Id","album2Id","result","currentTarget","axios","method","params","userId","data","seenPair","res","userResult","catch","err","handleClick","_ref2","_callee2","_context2","_x2","skip","target","filteredArray","setAttribute","newAlbums","albumId","filters","Components_Album_Album","classList","add","getArtists","_loop","some","obj","theme","createTheme","palette","primary","main","contrastText","secondary","ArtistFilter","options","setOptions","selectedValues","setSelectedValues","queryParams","map","artist","option","filterArtists","yearFilter","typeFilter","filteredAlbums","year","releaseDate","typeAlbums","type","dist_default","onSelect","onRemove","displayValue","avoidHighlightFirstOption","placeholder","closeIcon","hidePlaceholder","closeOnSelect","customArrow","ThemeProvider","SearchRounded","fontSize","showArrow","CarousalItem","children","width","Carousal","activeIndex","setActiveIndex","updateIndex","newIndex","Children","count","index","getDecade","concat","child","cloneElement","YearFilter","selectedList","setSelectedList","isOpen","setIsOpen","aughts","setAughts","teens","setTeens","twenties","setTwenties","toggle","calendarRef","useRef","handler","event","current","contains","addEventListener","removeEventListener","onChange","splitYearParams","disableYears","artistFilter","searchParams","URLSearchParams","window","location","search","yearParams","get","split","yearHover","yearHoverLeave","remove","selectYear","onRemoveSelectedItem","innerHTML","newList","toConsumableArray","sort","selectDecade","querySelectorAll","el","pushedArray","item","toggleCalendar","years","$","_","x","aughtsDefault","teensDefault","twentiesDefault","splice","findIndex","filterAlbum","every","disabled","albumYears","uniqueYears","Set","aughtsFiltered","teensFiltered","twentiesFiltered","ref","chipArray","ExpandMoreRounded","baseClassName","value","key","renderSelectedList","YearFilter_Carousal","YearFilter_CarousalItem","onMouseEnter","onMouseLeave","Header","pathname","logo","react_router_dom","to","headerParams","App","setArtistFilter","setYearFilter","allAlbums","setAllAlbums","availableAlbums","setAvailableAlbums","loadedAlbums","setLoadedAlbums","filtersEnabled","setFiltersEnabled","setUserId","_useState15","_id","_useState16","userData","setUserData","_useState17","_useState18","setLoadedUserData","_useState19","_useState20","artistParams","setArtistParams","getUserId","fetchAlbums","splitArtistParams","getUserData","filterAlbums","delete","newRelativePathQuery","history","pushState","verification_method","secret","response","jsCookie","set","uuid","v4","expires","artistArray","filterArtist","Components_Header_Header","Components_ArtistFilter_ArtistFilter","YearFilter_YearFilter_YearFilter","Components_AlbumContainer_AlbumContainer","CarouselItem","Carousel","TableRow","setStyle","rank","editorialNotes","standard","date","getAllArtistAlbums","artistInput","sameArtist","selectedRanking","ranking","rankingGlobal","rankingUser","b","renderOtherAlbums","otherAlbums","getOtherAlbums","getArtistArtworkUrl","artists","moment","format","height","scrollIntoView","behavior","block","isExpanded","size","genreNames","trackCount","filteredResults","resultsGlobal","reverse","resultsUser","recentResults","getRecentResults","TableRowCarousel_Carousel","TableRowCarousel_CarouselItem","reduce","toFixed","TableHeader","RankingSelect","label","singleSelect","solveRanking","formattedResults","newResult","ids","keys","flatIds","flat","uniqueIds","matrix","m4th","gameCount","k","ratings","albumWL","albumRating","previousValue","currentValue","y","solution","lu","solve","rankings","rating","TypeSelect","getTypeOptions","filterTypes","toLowerCase","foundAlbum","Rankings","setAlbums","setArtists","setResultsGlobal","setResultsUser","setRankingGlobal","setRankingUser","currentRanking","setCurrentRanking","setSelectedRanking","isLoading","setIsLoading","_useState21","_useState22","rowExpanded","setRowExpanded","_useState23","_useState24","_useState25","_useState26","_useState27","_useState28","setTypeFilter","fetchArtists","fetchResults","getAll","filterRankings","prevRow","closeRow","usePrevious","filterType","filteredIds","yearIds","typeIds","filteredRanking","Components_RankingSelect_RankingSelect","selectedItem","Components_TypeSelect_TypeSelect","Button","variant","artistFilterShare","artistFilterLast","pop","yearFilterShare","yearFilterLast","sharedText","undefined","emoji","navigator","clipboard","writeText","sx","borderRadius","padding","textTransform","fontFamily","endIcon","ShareOutlined","Components_TableHeader_TableHeader","Components_TableRow_TableRow","Rank_Rank","reportWebVitals","onPerfEntry","Function","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","render","react_router","path","src_App","Components_Ranking_Rankings"],"mappings":"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","file":"static/js/main.aeee95a4.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/rankabl-logo.251c7ee4.png\";","const newShade = function(color, percent) {\n    var num = parseInt(color,16),\n      amt = Math.round(2.55 * percent),\n      R = (num >> 16) + amt,\n      B = (num >> 8 & 0x00FF) + amt,\n      G = (num & 0x0000FF) + amt;\n\n      return (0x1000000 + (R<255?R<1?0:R:255)*0x10000 + (B<255?B<1?0:B:255)*0x100 + (G<255?G<1?0:G:255)).toString(16).slice(1);\n};\n\nexport default newShade;","import React from \"react\";\nimport \"./Album.css\";\nimport newShade from \"../../util/newShade\";\nimport { stringify } from \"uuid\";\n\nclass Album extends React.Component {\n  \n  mouseDown() {\n    document.getElementById().style.transform = \"scale(0.99)\";\n  }\n\n  mouseUp() {\n    document.getElementById().style.transform = \"scale(1)\";\n  }x\n\n  getArtistName() {\n    if (Array.isArray(this.props.album.attributes.artistName)) {\n      return this.props.album.attributes.artistName.join(' & ');\n    } else {\n      return this.props.album.attributes.artistName;\n    }\n  }\n\n  replaceUrl(url) {\n    let coverArtUrl = url.replace('{w}', '600').replace('{h}', '600')\n    return coverArtUrl;\n  }\n  \n  \n  render() {\n    if (this.props.album) {\n      const style = { '--bg-color': '#' + this.props.album.attributes.artwork.bgColor, \n                  '--text-color-1': '#' + this.props.album.attributes.artwork.textColor1, \n                  '--text-color-2': '#' + this.props.album.attributes.artwork.textColor2, \n                  '--text-color-3': '#' + this.props.album.attributes.artwork.textColor3, \n                  '--text-color-4': '#' + this.props.album.attributes.artwork.textColor4,\n                  '--shadow': '#' + this.props.album.attributes.artwork.textColor4 + '25',\n                  '--shadow-hover': '#' + this.props.album.attributes.artwork.textColor4 + '50',\n                  '--bg-gradient': '#' + newShade(this.props.album.attributes.artwork.bgColor, 8)}\n\n      return (\n        <div className=\"album\" id={this.props.id} style={style} onMouseDown={this.mouseDown} onMouseUp={this.mouseUp} onClick={this.props.onClick}>\n          <img src={this.replaceUrl(this.props.album.attributes.artwork.url)} alt={this.props.album.attributes.name} />\n          <h1 className=\"album-title\" >{this.props.album.attributes.name}</h1>\n          <h2 className=\"album-artist\" >{this.getArtistName()}</h2>\n        </div>\n      );\n    } \n  }\n}\n\nexport default Album;","export const results = [];","import React, { useState, useEffect } from \"react\";\nimport Album from \"../Album/Album\";\nimport './AlbumContainer.css';\nimport { generatePairs } from \"../../util/generatePairs\";\nimport { results } from \"../../results\";\nimport { idIndex } from \"../../idIndex.js\";\nimport axios from \"axios\";\nimport { arrayEquals } from \"../../util/generatePairs\";\n\nconst m4th = require('m4th');\n\nconst AlbumContainer = (props) => {\n    \n    let [albumPairs, setAlbumPairs] = useState([]);\n    let [selectedPair, setSelectedPair] = useState([]);\n    let [album1, setAlbum1] = useState([]);\n    let [album2, setAlbum2] = useState([]);\n    let [loading, setLoading] = useState(false);\n    let [seenPairs, setSeenPairs] = useState([]);\n    let [needNewPair, setNeedNewPair] = useState(false);\n\n    useEffect(() => {\n        setLoading(true);\n    }, []);\n\n    useEffect(() => {\n        if (albumPairs.length === 0  && props.albumsLoaded && props.loadedUserData) {\n            setSeenPairs(props.seenPairs)\n        }\n    }, [props.albumsLoaded, props.loadedUserData]);\n\n    useEffect(() => {\n        if (props.loadedUserData && props.albums) {\n            const filteredPairs = filterPairs(props.albums)\n            setAlbumPairs(filteredPairs)\n        };\n    }, [seenPairs]);\n\n    useEffect(() => {\n        if (albumPairs.length > 0) {\n            setNeedNewPair(true);\n            console.log('new pair')\n        } else if (props.albumsLoaded && props.loadedUserData) {\n            setTimeout(() => {setLoading(false)}, 300);\n            console.log(' no more albums ')\n        }\n    }, [albumPairs]);\n\n    useEffect(() => {\n        if (needNewPair && albumPairs.length > 0) {\n            getNewAlbums(albumPairs)\n            .then(() => {\n                setNeedNewPair(false);\n                setLoading(false);\n            });\n        }\n    }, [needNewPair]);\n\n    useEffect(() => {\n        if (props.albumsLoaded) {\n            console.log('albums changed');\n            setLoading(true);\n            setTimeout(() => {setAlbumPairs(filterPairs(props.albums))}, 300);\n        }\n    }, [props.albums]);\n\n    const filterPairs = (array) => {\n        const pairs = generatePairs(array);\n        let votedPairs = [];\n        for (let i = 0; i < seenPairs.length; i++) {\n            for (let j = 0; j < pairs.length; j++) {\n                if (seenPairs[i].includes(pairs[j][0]) && seenPairs[i].includes(pairs[j][1])) {\n                    votedPairs.push(pairs[j]);\n                }\n            }\n        }\n        console.log(pairs);\n        console.log(votedPairs);\n        console.log(seenPairs);\n        const finalTry = pairs.filter(pair => !votedPairs.includes(pair))\n        return finalTry;  \n    }\n\n    const selectAlbums = (array) => {\n        const selectedPair = array[Math.floor(Math.random() * array.length)];\n        return selectedPair;\n    }\n\n    const filterAvailablePairs = (seenPairsFilter, albumPairs) =>{\n        for (let i = 0; i < albumPairs.length; i++) {\n            for (let j = 0; j < seenPairs.length; j++) {\n                if (arrayEquals(albumPairs[i], seenPairs[j])) {\n                    seenPairsFilter.push(albumPairs[i]);\n                }\n            }\n        }\n    }\n\n    const getNewAlbums= async (albumArray) => {\n        const selectedAlbums = selectAlbums(albumArray);\n        const album1Index = Math.floor(Math.random() * selectedAlbums.length);\n        const album2Index = 1 - album1Index;\n        await setSelectedPair(selectedAlbums);\n        await setAlbum1(props.albums.find(album => album.id === selectedAlbums[album1Index]));\n        await setAlbum2(props.albums.find(album => album.id === selectedAlbums[album2Index]));\n        const errorMessages = Array.from(document.getElementsByClassName('skip-error-message'))\n        const skipButtons = Array.from(document.getElementsByClassName('skip-button'))\n        errorMessages.forEach(element => {\n            element.style.visibility = 'hidden';\n        });\n        skipButtons.forEach(element => {\n            element.removeAttribute('disabled');\n        }); \n    }\n\n    const pushResults = (e) => {\n        let album1Id = album1.id;\n        let album2Id = album2.id;\n        let result = {};\n        if (e.currentTarget.id === 'album1') {\n            result[album1Id] = 1;\n            result[album2Id] = -1;\n            result = {\n                album1: {\n                    id: album1Id,\n                    result: 1\n                },\n                album2: {\n                    id: album2Id,\n                    result: -1\n                }\n            }\n            setLoading(true);\n            axios({\n                url: 'https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save',\n                method: 'POST',\n                params: {\n                    userId: props.userId,\n                },\n                data: {\n                    result: result,\n                    seenPair: selectedPair\n                }\n            }).then(res => {\n                setSeenPairs(res.data.userResult.seenPairs);\n                console.log(res.data.userResult.seenPairs);\n            }).catch(err => {\n                console.log(err);\n            });\n        }\n        if (e.currentTarget.id === 'album2') {\n            result[album1Id] = -1;\n            result[album2Id] = 1;\n            result = {\n                album1: {\n                    id: album1Id,\n                    result: -1\n                },\n                album2: {\n                    id: album2Id,\n                    result: 1\n                }\n            }\n            setLoading(true);\n            axios({\n                url: 'https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save',\n                method: 'POST',\n                params: {\n                    userId: props.userId,\n                },\n                data: {\n                    result: result,\n                    seenPair: selectedPair\n                }\n            }).then(res => {\n                setSeenPairs(res.data.userResult.seenPairs);\n                console.log(res.data.userResult.seenPairs);\n            }).catch(err => {\n                console.log(err);\n            });\n        }\n    }\n\n    const handleClick = async (e) => {\n        await pushResults(e);\n    }\n\n    const skip = (e) => {\n        const album1Id = album1.id;\n        const album2Id = album2.id;\n\n        if (e.target.id === 'second') {\n            const filteredArray = albumPairs.filter(function(pairs) {\n                return pairs.includes(album1Id) && !pairs.includes(album2Id)\n            })\n            if (filteredArray.length === 0) {\n                document.getElementById('second').setAttribute(\"disabled\", \"disabled\")\n                document.getElementById('first').setAttribute(\"disabled\", \"disabled\")\n                document.getElementById('skip-error-second').style.visibility = \"visible\"\n                return\n            } else {\n                const newAlbums = selectAlbums(filteredArray);\n                setSelectedPair(newAlbums);\n                setAlbum2(props.albums.find(album => album.id === newAlbums.find(albumId => albumId !== album1Id)));\n            }\n        } else if (e.target.id === 'first') {\n            const filteredArray = albumPairs.filter(function(pairs) {\n                return pairs.includes(album2Id) && !pairs.includes(album1Id)\n            })\n            if (filteredArray.length === 0) {\n                document.getElementById('first').setAttribute(\"disabled\", \"disabled\");\n                document.getElementById('second').setAttribute(\"disabled\", \"disabled\");\n                document.getElementById('skip-error-first').style.visibility = \"visible\"\n                return\n            } else {\n                const newAlbums = selectAlbums(filteredArray);\n                setSelectedPair(newAlbums);\n                setAlbum1(props.albums.find(album => album.id === newAlbums.find(albumId => albumId !== album2Id)));\n            }\n        }\n    }\n\n    const skipBoth = () => {\n        const album1Id = album1.id;\n        const album2Id = album2.id;\n        const filteredArray = albumPairs.filter(function(pairs) {\n            return !pairs.includes(album1Id) && !pairs.includes(album2Id)\n        });\n        if (filteredArray.length === 0) {\n            document.getElementById('skip-both').setAttribute(\"disabled\", \"disabled\");\n            document.getElementById('skip-error-both').classList.add('is-visible');\n        } else {\n            const selectedAlbums = selectAlbums(filteredArray);\n            const album1Index = Math.floor(Math.random() * selectedAlbums.length);\n            const album2Index = 1 - album1Index;\n            setSelectedPair(selectedAlbums);\n            setAlbum1(props.albums.find(album => album.id === selectedAlbums[album1Index]));\n            setAlbum2(props.albums.find(album => album.id === selectedAlbums[album2Index]));\n        }\n    }\n\n    const filters = props.filters;\n    let view;\n    if (loading) {\n        view = <span className='loader' ></span>\n    } else if (albumPairs.length === 0) {\n        if (filters) {\n            view = <h1>No available pairs of albums. Widen filters and try again.</h1>\n        } else {\n            view = <h1>No available pairs of albums.</h1>\n        }\n    } else {\n        view = <div className='albums'>\n                <Album className='album' id='album1' album={album1} onClick={handleClick} />\n                <Album className='album' id='album2' album={album2} onClick={handleClick} />\n                </div>\n    }\n\n    return (\n        <div className='album-container'>\n            {view}\n            <button className='skip skip-button' id=\"first\" onClick={skip} >Skip</button>\n            <button className='skip skip-button skip-both' id='skip-both' onClick={skipBoth} >Skip both</button>\n            <button className='skip skip-button' id=\"second\" onClick={skip} >Skip</button>\n            <p className='skip-error-message' id='skip-error-first' >No available albums</p>\n            <p className='skip-error-both' id='skip-error-both' >No available albums</p>\n            <p className='skip-error-message' id='skip-error-second' >No available albums</p>\n        </div>\n    )\n\n}\n\nexport default AlbumContainer;","import seenPairs from \"../seenPairs\";\n\nexport const generatePairs = (array) => {\n    let results = [];\n    for (let i = 0; i < array.length - 1; i++) {\n        for (let j = i + 1; j < array.length; j++)\n        results.push([array[i].id, array[j].id])\n    };\n    return results;\n}\nexport function arrayEquals(a, b) {\n    return Array.isArray(a) &&\n      Array.isArray(b) &&\n      a.length === b.length &&\n      a.every((val, index) => val === b[index]);\n  }\n\n\n","function getArtists(array) {\n    let results = [];\n    for (let i = 0; i < array.length; i++) {\n        if (Array.isArray(array[i].attributes.artistName)){\n            for (let j = 0; j < array[i].attributes.artistName.length; j++) {\n                let artistName = array[i].attributes.artistName[j];\n                let exists = results.some(obj => obj.name === artistName);\n                 if (!exists) {\n                    results.push({\n                        name: artistName,\n                        id: results.length + 1})\n                }\n            }\n        } else {\n            let artistName = array[i].attributes.artistName;\n            let exists = results.some(obj => obj.name === artistName);\n            if (!exists) {\n            results.push({\n                name: artistName,\n                id: results.length + 1})\n            }\n        }\n    };\n    return results;\n}\n\nexport default getArtists;","import { createTheme } from \"@mui/material\";\n\nconst theme = createTheme({\n    palette: {\n        primary: {\n            main: \"#CFCFCF\",\n            contrastText: \"#fff\"\n        },\n        secondary: {\n            main: \"#8673FA\",\n            contrastText: \"#fff\"\n        }\n    }\n});\n\nexport default theme;","import React, { useState, useEffect } from \"react\";\nimport Multiselect from \"multiselect-react-dropdown\";\nimport './ArtistFilter.css'\nimport getArtists from \"../../util/getArtists\";\nimport { SearchRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport theme from '../MuiTheme/Theme';\n\nconst ArtistFilter = (props) => {\n    let [options, setOptions] = useState([]);\n    let [selectedValues, setSelectedValues] = useState([]);\n\n    useEffect(() => {\n        setOptions(getArtists(props.albums));\n    }, [props.albums]);\n\n    useEffect(() => {\n        if (options.length > 0) {\n            setSelectedValues(props.queryParams.map(artist => options.find(option => option.name === artist)));\n        }\n    }, [options])\n\n    useEffect( () => {\n        setOptions(getArtists(filterArtists()));\n    }, [props.yearFilter, props.typeFilter])\n\n    const filterArtists = () => {\n        let filteredAlbums = props.albums.map(album => album);\n\n        if (props.yearFilter.length > 0) {\n            filteredAlbums = filteredAlbums.filter(album => props.yearFilter.some(year => album.attributes.releaseDate.includes(year)));\n        }\n\n        if (props.typeFilter && props.typeFilter.length > 0) {\n            let typeAlbums = props.albums.filter(album => props.typeFilter.includes(album.type));\n            filteredAlbums = filteredAlbums.filter(album => typeAlbums.includes(album));\n            console.log(filteredAlbums);\n        }\n\n        return filteredAlbums\n    }\n\n\n\n    return (\n        <Multiselect id='artist-filter'\n        options={options} // Options to display in the dropdown\n        selectedValues={selectedValues} // Preselected value to persist in dropdown\n        onSelect={props.onSelect} // Function will trigger on select event\n        onRemove={props.onRemove} // Function will trigger on remove event\n        displayValue=\"name\" // Property name to display in the dropdown options\n        avoidHighlightFirstOption='true'\n        placeholder={'Artists'}\n        closeIcon={'cancel'}\n        hidePlaceholder={'true'}\n        closeOnSelect={'true'}\n        customArrow={<ThemeProvider theme={theme} ><SearchRounded color=\"primary\" fontSize=\"small\"/></ThemeProvider>}\n        showArrow={'true'}\n        />     \n    )\n\n}\n\nexport default ArtistFilter;","import React, { useEffect, useRef, useState } from \"react\";\nimport './YearFilter.css';\nimport $ from 'jquery';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport theme from '../MuiTheme/Theme';\n\nconst CarousalItem = ({children, width}) => {\n    return (\n        <div className=\"carousal-item\" style={{width: width}}>\n            {children}\n        </div>\n    );\n}\n\nconst Carousal = ({children}) => {\n    const [activeIndex, setActiveIndex] = useState(2);\n    \n    const updateIndex = (newIndex) => {\n        if (newIndex < 0) {\n            newIndex = 0;\n        } else if (newIndex >= React.Children.count(children)) {\n            newIndex = React.Children.count(children) - 1;\n        }\n\n        setActiveIndex(newIndex);\n    }\n\n    const getDecade = (index) => {\n        switch (index) {\n            case 0:\n                return \"2000's\";\n            case 1:\n                return \"2010's\";\n            case 2:\n                return \"2020's\";\n            default:\n                return \"Select years\";\n        }\n    }\n\n    return (\n        <div className=\"carousal\">\n            <div className='indicators'>\n                <button className='next-prev-button' onClick={() => {\n                    updateIndex(activeIndex - 1);\n                }}\n                >\n                    &lsaquo;\n                </button>\n                <span id='decade' >{getDecade(activeIndex)}</span>\n                <button className='next-prev-button' onClick={() => {\n                    updateIndex(activeIndex + 1);\n                }}\n                >\n                    \n                </button>\n            </div>\n            <div className=\"inner\" style={{ transform: `translateX(-${activeIndex * 100}%)` }}>\n                {React.Children.map(children, (child, index) => {\n                    return React.cloneElement(child, {width: \"100%\" });\n                })}\n            </div>\n        </div>\n    );\n}\n\nexport const YearFilter = (props) => {\n    let [selectedList, setSelectedList] = useState([]);\n    let [isOpen, setIsOpen] = useState(false);\n    let [aughts, setAughts] = useState(['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009']);\n    let [teens, setTeens] = useState(['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019']);\n    let [twenties, setTwenties] = useState(['2020', '2021', '2022']);\n    \n    useEffect(() => {\n        document.getElementById('calendar').classList.toggle('display');\n    }, [isOpen]);\n\n    let calendarRef= useRef();\n\n    useEffect(() => {\n        let handler = (event) => {\n            if (!calendarRef.current.contains(event.target)) {\n                document.getElementById('calendar').classList.add('display');\n            }\n        };\n\n        document.addEventListener('mousedown', handler);\n\n        return () => {\n            document.removeEventListener('mousedown', handler);\n        };\n    });\n\n    useEffect(() => {\n        props.onChange(selectedList);\n    }, [selectedList]);\n\n    useEffect(() => {\n        setSelectedList(splitYearParams);\n    }, [])\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            disableYears();\n        }\n    }, [props.albums, props.artistFilter, props.typeFilter])\n\n    let searchParams = new URLSearchParams(window.location.search);\n    \n    const splitYearParams = () => {\n        let yearParams = searchParams.get('years');\n        if (yearParams !== null) {\n            let yearArray = yearParams.split(',');\n            return yearArray;\n        } else {\n            return [];\n        }\n    }\n\n    function yearHover(e) {\n        e.target.classList.add(\"hover\");\n    }\n\n    function yearHoverLeave(e) {\n        e.target.classList.remove(\"hover\");\n        e.target.classList.remove(\"select-hover\");\n    }\n\n    function selectYear(e) {\n        \n        if (e.target.classList.contains(\"year-selected\")) {\n            onRemoveSelectedItem(e.target.innerHTML)\n            if (e.target.classList.contains('aughts')) {\n                document.getElementById('select-all-aughts').classList.remove('year-selected');\n            } else if (e.target.classList.contains('teens')) {\n                document.getElementById('select-all-teens').classList.remove('year-selected');\n            } else if (e.target.classList.contains('twenties')) {\n                document.getElementById('select-all-twenties').classList.remove('year-selected');\n            }\n        } else {\n            e.target.classList.toggle(\"year-selected\");\n            let newList = [...selectedList, e.target.innerHTML];\n            setSelectedList(newList.sort());\n        }\n    }\n\n    function selectDecade(e) {\n        if (e.target.classList.contains('aughts')) {\n            if (!e.target.classList.contains('year-selected')) {\n                let pushedArray = aughts.filter(year => !selectedList.includes(year));\n                setSelectedList([...selectedList, ...pushedArray]);\n                Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.add('year-selected')); \n            } else {\n                setSelectedList(selectedList.filter(year => !aughts.includes(year)))\n                Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.remove('year-selected'));\n                document.getElementById('select-all-aughts').innerHTML = 'Select All';\n            }\n        } else if (e.target.classList.contains('teens')) {\n            if (!e.target.classList.contains('year-selected')) {\n                let pushedArray = teens.filter(year => !selectedList.includes(year));\n                setSelectedList([...selectedList, ...pushedArray]);\n                Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.add('year-selected')); \n            } else {\n                setSelectedList(selectedList.filter(year => !teens.includes(year)))\n                Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.remove('year-selected'));\n                document.getElementById('select-all-teens').innerHTML = 'Select All';\n            }\n        } else if (e.target.classList.contains('twenties')) {\n            if (!e.target.classList.contains('year-selected')) {\n                let pushedArray = twenties.filter(year => !selectedList.includes(year));\n                console.log(pushedArray);\n                setSelectedList([...selectedList, ...pushedArray]);\n                Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.add('year-selected')); \n            } else {\n                setSelectedList(selectedList.filter(year => !twenties.includes(year)))\n                Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.remove('year-selected'));\n                document.getElementById('select-all-twenties').innerHTML = 'Select All';\n            }\n        }\n    }\n\n    \n    function renderSelectedList() { \n        let chipArray = selectedList; \n        if (aughts.length > 0 && aughts.every(year => chipArray.includes(year))) {\n            chipArray = chipArray.filter(year=> !aughts.includes(year));\n            chipArray.push(\"2000's\")\n            chipArray.sort()\n            document.getElementById('select-all-aughts').classList.add(\"year-selected\");\n            document.getElementById('select-all-aughts').innerHTML = 'Remove All'\n        }\n        if (teens.length > 0 && teens.every(year => chipArray.includes(year))) {\n            chipArray = chipArray.filter(year=> !teens.includes(year));\n            chipArray.push(\"2010's\")\n            chipArray.sort();\n            document.getElementById('select-all-teens').classList.add(\"year-selected\");\n            document.getElementById('select-all-teens').innerHTML = 'Remove All'\n        }\n        if (twenties.length > 0 && twenties.every(year => chipArray.includes(year))) {\n            chipArray = chipArray.filter(year=> !twenties.includes(year));\n            chipArray.push(\"2020's\")\n            chipArray.sort();\n            document.getElementById('select-all-twenties').classList.add(\"year-selected\");\n            document.getElementById('select-all-twenties').innerHTML = 'Remove All'\n        }\n        if (selectedList.length === 0) {\n            return <div className='placeholder' onClick={toggleCalendar} >\n                <p className='placeholder-text'>Years</p>\n                <ThemeProvider theme={theme}>\n                    <ExpandMoreRounded color=\"primary\" baseClassName=\"icon\" id=\"year-filter-icon\"/>\n                </ThemeProvider>\n                </div>\n        } else {\n            return chipArray.map((value, index) => (\n                <span className='chip-year' key={index}>\n                    {value} <img\n                    className=\"icon_cancel closeIcon\" \n                    alt='Cancel icon'\n                    src=\"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E\" \n                    onClick={() => onRemoveSelectedItem(value)}>\n                    </img>\n                </span>\n            ));\n        }\n    }\n\n    \n    function onRemoveSelectedItem(item) {\n        if (item === \"2000's\") {\n            setSelectedList(selectedList.filter(year => !aughts.includes(year)))\n            Array.from(document.querySelectorAll('.aughts')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-aughts').innerHTML = 'Select All';\n        } else if (item === \"2010's\") {\n            setSelectedList(selectedList.filter(year => !teens.includes(year)))\n            Array.from(document.querySelectorAll('.teens')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-teens').innerHTML = 'Select All';\n        } else if (item === \"2020's\") {\n            setSelectedList(selectedList.filter(year => !twenties.includes(year)))\n            Array.from(document.querySelectorAll('.twenties')).forEach((el) => el.classList.remove('year-selected'));\n            document.getElementById('select-all-twenties').innerHTML = 'Select All';\n        } else {\n            setSelectedList(selectedList.filter(year => year !== item));\n            document.getElementById(item).classList.remove(\"year-selected\");\n            if (document.getElementById(item).classList.contains('aughts')) {\n                document.getElementById('select-all-aughts').classList.remove(\"year-selected\");\n                document.getElementById('select-all-aughts').innerHTML = 'Select All';\n            } else if (document.getElementById(item).classList.contains('teens')) {\n                document.getElementById('select-all-teens').classList.remove(\"year-selected\");\n                document.getElementById('select-all-teens').innerHTML = 'Select All';\n            } else if (document.getElementById(item).classList.contains('twenties')) {\n                document.getElementById('select-all-twenties').classList.remove(\"year-selected\");\n                document.getElementById('select-all-twenties').innerHTML = 'Select All';\n            }\n        }\n\t\t\n    }\n\n    function toggleCalendar() {\n        setIsOpen(!isOpen);\n    }\n\n    function handleLabelClick(event) {\n        if (event.target !== event.currentTarget) {\n        } else {\n            toggleCalendar();\n        }\n    }\n\n    const disableYears = () => {\n        let years = $('.year').map(function(_, x) {return x.id; }).get();\n        let filteredAlbums = props.albums.map(album => album);\n        let aughtsDefault = ['2000', '2001', '2002', '2003', '2004', '2005', '2006', '2007', '2008', '2009'];\n        let teensDefault = ['2010', '2011', '2012', '2013', '2014', '2015', '2016', '2017', '2018', '2019'];\n        let twentiesDefault = ['2020', '2021', '2022'];\n\n        if (props.artistFilter.length > 0) {\n            props.albums.forEach(album => {\n                if (Array.isArray(album.attributes.artistName)) {\n                  if (album.attributes.artistName.some(artist => props.artistFilter.includes(artist)) === false) {\n                    filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n                  } \n                } else {\n                  if ((props.artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                    filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n                  }\n                }\n            });\n        }\n\n        if (props.typeFilter && props.typeFilter.length > 0) {\n            let typeAlbums = props.albums.filter(album => props.typeFilter.includes(album.type));\n            filteredAlbums = filteredAlbums.filter(album => typeAlbums.includes(album));\n            console.log(filteredAlbums);\n        }\n\n        if (aughts.every(year => document.getElementById(year).disabled) || aughts.length === 0) {\n            document.getElementById('select-all-aughts').disabled = 'true';\n        }\n\n        const albumYears = filteredAlbums.map(album => album.attributes.releaseDate.split('-')[0]);\n        const uniqueYears = [...new Set(albumYears)];\n        const yearsNotInData = years.filter(year => !uniqueYears.includes(year));\n        years.forEach(year => {\n            uniqueYears.includes(year) ? document.getElementById(year).disabled = false : document.getElementById(year).disabled = true;\n        });\n        \n        let aughtsFiltered = aughtsDefault.filter(year => uniqueYears.includes(year));\n        setAughts(aughtsFiltered);\n        let teensFiltered = teensDefault.filter(year => uniqueYears.includes(year));\n        setTeens(teensFiltered);\n        let twentiesFiltered = twentiesDefault.filter(year => uniqueYears.includes(year));\n        setTwenties(twentiesFiltered);\n\n        if (aughts.every(year => document.getElementById(year).disabled) || aughts.length === 0) {\n            document.getElementById('select-all-aughts').disabled = 'true';\n        }\n        if (teens.every(year => document.getElementById(year).disabled) || teens.length === 0) {\n            document.getElementById('select-all-teens').disabled = 'true';\n        }\n        if (twenties.every(year => document.getElementById(year).disabled) || twenties.length === 0) {\n            document.getElementById('select-all-twenties').disabled = 'true';\n        }\n\n        if (document.getElementById('select-all-aughts').classList.contains('year-selected')) {\n            let pushedArray = aughtsDefault.filter(year => uniqueYears.includes(year)).filter(year => !selectedList.includes(year));\n            console.log(pushedArray);\n            setSelectedList([...selectedList, ...pushedArray]);\n        }\n        if (document.getElementById('select-all-teens').classList.contains('year-selected')) {\n            let pushedArray = teensDefault.filter(year => uniqueYears.includes(year)).filter(year => !selectedList.includes(year));\n            console.log(pushedArray);\n            setSelectedList([...selectedList, ...pushedArray]);\n        }\n        if (document.getElementById('select-all-twenties').classList.contains('year-selected')) {\n            let pushedArray = twentiesDefault.filter(year => uniqueYears.includes(year)).filter(year => !selectedList.includes(year));\n            console.log(pushedArray);\n            setSelectedList([...selectedList, ...pushedArray]);\n        }\n    }\n\n\n    return (\n        <div ref={calendarRef} >\n            <div className='year-filter-container' id='year-filter-container' >\n                <div className='chip-wrapper' onClick={handleLabelClick}>\n                    {renderSelectedList()}\n                </div>\n            </div>\n            <div className='calendar-wrapper' id='calendar'>\n                <Carousal>\n                    <CarousalItem>\n                        <div className='years-wrapper'>\n                            <button className='year aughts first-year' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2000'>2000</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2001'>2001</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2002' >2002</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2003' >2003</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2004' >2004</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2005' >2005</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2006' >2006</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2007' >2007</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2008' >2008</button>\n                            <button className='year aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2009' >2009</button>\n                            <button className='select-all aughts' id='select-all-aughts' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectDecade} >Select All</button>\n                        </div>\n                    </CarousalItem>\n                    <CarousalItem>\n                        <div className='years-wrapper'>\n                            <button className='year teens first-year' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2010'>2010</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2011'>2011</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2012' >2012</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2013' >2013</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2014' >2014</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2015' >2015</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2016' >2016</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2017' >2017</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2018' >2018</button>\n                            <button className='year teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2019' >2019</button>\n                            <button className='select-all teens' id='select-all-teens' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectDecade} >Select All</button>\n                        </div>\n                    </CarousalItem>\n                    <CarousalItem>\n                        <div className='years-wrapper'>\n                            <button className='year twenties first-year' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2020'>2020</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2021'>2021</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2022' >2022</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2023' >2023</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2024' >2024</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2025' >2025</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2026' >2026</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2027' >2027</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2028' >2028</button>\n                            <button className='year twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectYear} id='2029' >2029</button>\n                            <button className='select-all twenties' id='select-all-twenties' onMouseEnter={yearHover} onMouseLeave={yearHoverLeave} onClick={selectDecade} >Select All</button>\n                        </div>\n                    </CarousalItem>\n                </Carousal>                 \n            </div>           \n        </div>\n    )\n}","import React, { useEffect } from \"react\";\nimport './Header.css';\nimport logo from '../../Images/rankabl-logo.png';\nimport { Link } from \"react-router-dom\";\n\nconst Header = (props) => {\n    useEffect(() => {\n        if (window.location.pathname === '/') {\n            document.getElementById('rank').classList.add('active');\n        }\n        if (window.location.pathname === '/rankings') {\n            document.getElementById('rankings').classList.add('active');\n        }\n    }, [])\n\n    return (\n        <header className=\"header\">\n            <div className=\"header-logo\">\n                <img src={logo} alt='rankabl-logo' className='logo' />\n                <h1 className=\"brand\">rankabl</h1>\n            </div>\n            <div className=\"nav-container\">\n                <nav className=\"nav\">\n                    <ul className=\"nav-list\">\n                        <li className=\"nav-item\" id='rank'>\n                            <Link to={`/${(props.artistFilter && props.artistFilter.length > 0 && props.yearFilter && props.yearFilter > 0) ? '?artist=' + props.artistFilter.join('%2C') + '&years=' + props.yearFilter.join('%2C') : (props.artistFilter && props.artistFilter.length > 0) ? '?artist=' + props.artistFilter.join('%2C') : (props.yearFilter && props.yearFilter.length > 0) ? '?years=' + props.yearFilter.join('%2C') : ''}`}>RANK</Link>\n                        </li>\n                        <li className=\"nav-item\" id='rankings'>\n                            <Link to={props.headerParams ? '/rankings' + '?' + props.headerParams.toString() : '/rankings' }>RANKINGS</Link>\n                        </li>\n                    </ul>\n                </nav>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import './Rank.css';\nimport AlbumContainer from '../AlbumContainer/AlbumContainer';\nimport React, { useState, useEffect } from 'react';\nimport ArtistFilter from '../ArtistFilter/ArtistFilter';\nimport { YearFilter } from '../YearFilter/YearFilter';\nimport axios from 'axios';\nimport jsCookie from 'js-cookie';\nimport uuid from 'uuid';\nimport Header from '../Header/Header';\n\nconst App = () => {\n\n  let [artistFilter, setArtistFilter] = useState([]);\n  let [yearFilter, setYearFilter] = useState([]);\n  let [allAlbums, setAllAlbums] = useState([]);\n  let [availableAlbums, setAvailableAlbums] = useState([]);\n  let [loadedAlbums, setLoadedAlbums] = useState(false);\n  let [filtersEnabled, setFiltersEnabled] = useState(false);\n  let [userId, setUserId] = useState('');\n  let [userData, setUserData] = useState({ _id: '', userId: '', results: [], seenPairs: [] });\n  let [loadedUserData, setLoadedUserData] = useState(false);\n  let [artistParams, setArtistParams] = useState('');\n\n  useEffect(() => {\n    getUserId();\n    fetchAlbums();\n    setArtistParams(splitArtistParams());\n  }, []) \n\n  useEffect(() => {\n    if (userId !== '') {\n      getUserData();\n    }\n  }, [userId]);\n\n  useEffect(() => {\n      filterAlbums();\n      if (artistFilter.length > 0 || yearFilter.length > 0) {\n        setFiltersEnabled(true);\n      } else {\n        setFiltersEnabled(false);\n      }\n      if (artistFilter.length === 0) {\n        searchParams.delete('artist');\n        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n        window.history.pushState(null, '', newRelativePathQuery);\n      }\n      if (yearFilter.length === 0) {\n        searchParams.delete('years');\n        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n        window.history.pushState(null, '', newRelativePathQuery);\n    }\n  }, [artistFilter, yearFilter]);\n\n  useEffect(() => {\n    if (allAlbums.length > 0) {\n      setLoadedAlbums(true);\n      setArtistFilter(artistParams);\n    }\n  }, [allAlbums])\n\n  let searchParams = new URLSearchParams(window.location.search);\n\n  const fetchAlbums = () => {\n    axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums', {\n      params: {\n        \"verification_method\": \"SECRET_AS_QUERY_PARAM\",\n        \"secret\": \"temperature\"\n      }\n    })\n    .then(response => {\n      setAllAlbums(response.data);\n      setAvailableAlbums(response.data);\n    })\n    .catch(err => {\n      console.log(err);\n    });\n  }\n\n  const getUserId = () => {\n    if (!jsCookie.get('user')) {\n      jsCookie.set('user', uuid.v4(), { expires: 10000 });\n      setUserId(jsCookie.get('user'));\n    } else {\n      setUserId(jsCookie.get('user'));\n    }\n  }\n\n  const getUserData = () => {\n    if (userId !== '') {\n      axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser', {\n        params: {\n          userId: userId\n        }\n      }).then (response => {\n        if (response.data !== null) {\n        setUserData(response.data);\n        setLoadedUserData(true);\n        console.log(userData);\n        } else {\n          setLoadedUserData(true);\n        }\n      })\n    }\n  }\n\n  const splitArtistParams = () => {\n    let artistParams = searchParams.get('artist');\n    if (artistParams !== null) {\n        let artistArray = artistParams.split(',');\n        console.log('filter set from params');\n        return artistArray;\n    } else {\n        return [];\n    }\n  }\n\n  const filterAlbums = () => {\n    if (artistFilter.length === 0 && yearFilter.length === 0) {\n      setAvailableAlbums(allAlbums);\n    } else {\n      let filteredAlbums = allAlbums.map(album => album);\n      console.log(filteredAlbums);\n      if (artistFilter.length > 0) {\n        allAlbums.forEach(album => {\n            if (Array.isArray(album.attributes.artistName)) {\n              if (album.attributes.artistName.some(artist => artistFilter.includes(artist)) === false) {\n                filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n              } \n            } else {\n              if ((artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                filteredAlbums.splice(filteredAlbums.findIndex(filterAlbum => filterAlbum === album), 1);\n              }\n            }\n          });\n          searchParams.set('artist', artistFilter);\n          var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n          window.history.pushState(null, '', newRelativePathQuery);\n      }\n      if (yearFilter.length > 0) {\n        filteredAlbums = filteredAlbums.filter(album => yearFilter.some(year => album.attributes.releaseDate.includes(year)));\n        searchParams.set('years', yearFilter);\n        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n        window.history.pushState(null, '', newRelativePathQuery);\n      }\n      console.log(filteredAlbums);\n      setAvailableAlbums(filteredAlbums);   \n    }\n  }\n\n  const filterArtist = (selectedList) => {\n    const artistFilter = selectedList.map(artist => artist.name);\n    setArtistFilter(artistFilter);\n  }\n\n  const filterYear = (selectedList) => {\n    setYearFilter(selectedList);\n  }\n\n  return (\n    <div>\n    <Header headerParams={searchParams}/>\n      <div className=\"App\">\n        <div className='filters'>\n          <ArtistFilter id='artist-filter' onSelect={filterArtist} onRemove={filterArtist} albums={allAlbums} queryParams={artistFilter} yearFilter={yearFilter}/>\n          <YearFilter onChange={filterYear} albums={allAlbums} artistFilter={artistFilter} />\n        </div>\n        <AlbumContainer albums={availableAlbums} albumsLoaded={loadedAlbums} filters={filtersEnabled} userId={userId} seenPairs={userData.seenPairs} loadedUserData={loadedUserData}/>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React, { useState } from \"react\";\nimport './TableRowCarousel.css';\n\n\n\nexport const CarouselItem = ({children, width}) => {\n    return (\n        <div className=\"carousal-item\" style={{width: width}}>\n            {children}\n        </div>\n    );\n}\n\nexport const Carousel = ({children}) => {\n    const [activeIndex, setActiveIndex] = useState(0);\n    \n    const updateIndex = (newIndex) => {\n        setActiveIndex(newIndex);\n    }\n\n    return (\n        <div className=\"carousel\">\n            <div className=\"inner\" style={{ transform: `translateX(-${activeIndex * 100}%)` }}>\n                {React.Children.map(children, (child, index) => {\n                    return React.cloneElement(child, {width: \"100%\" });\n                })}\n            </div>\n            <div className='carousel-dots'>\n                    <div className={`dot ${ activeIndex === 0 ? 'active' : ''}`} id='dot-0' onClick={() => updateIndex(0)}></div>\n                    <div className={`dot ${ activeIndex === 1 ? 'active' : ''}`} id='dot-1' onClick={() => updateIndex(1)}></div>\n            </div>\n        </div>\n    );\n}","import React, { useState, useEffect } from \"react\";\nimport './TableRow.css';\nimport moment from \"moment\";\nimport newShade from \"../../util/newShade\";\nimport { Carousel, CarouselItem } from \"./TableRowCarousel.js\";\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\n\nconst TableRow = (props) => {\n    let [style, setStyle] = useState({});\n\n    const formatDate = (date) => {\n    return moment(date).format('MMMM Do, YYYY');\n    }\n\n    useEffect(() => {\n        if (props.album) {\n            document.getElementById('editorial-notes-' + props.rank).innerHTML = props.album.attributes.editorialNotes.standard;\n            setStyle({\n                '--bg-color': '#' + props.album.attributes.artwork.bgColor, \n                '--text-color-1': '#' + props.album.attributes.artwork.textColor1, \n                '--text-color-2': '#' + props.album.attributes.artwork.textColor2, \n                '--text-color-3': '#' + props.album.attributes.artwork.textColor3, \n                '--text-color-4': '#' + props.album.attributes.artwork.textColor4,\n                '--shadow': '#' + props.album.attributes.artwork.textColor4 + '25',\n                '--shadow-hover': '#' + props.album.attributes.artwork.textColor4 + '80',\n                '--bg-gradient': '#' + newShade(props.album.attributes.artwork.bgColor, 4),\n            });\n        }\n    }, [props.album]);\n\n    const getArtistName = () => {\n        if (Array.isArray(props.album.attributes.artistName)) {\n          return props.album.attributes.artistName.join(' & ');\n        } else {\n          return props.album.attributes.artistName;\n        }\n    }\n\n    const replaceUrl = (url) => {\n        let coverArtUrl = url.replace('{w}', '600').replace('{h}', '600')\n        return coverArtUrl;\n      }\n\n    const expandTableRow = () => {\n        if (document.getElementById(`more ${props.rank}`).innerHTML === 'More') {\n            document.getElementById(`table-row-${props.rank}`).style.height = '481px';\n            setTimeout(() => {\n                document.getElementById(`table-row-${props.rank}`).scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n            }, 300);\n            document.getElementById(`more ${props.rank}`).innerHTML = 'Less';\n            document.getElementById(`chevron ${props.rank}`).style.transform = 'rotate(180deg)';\n            document.getElementById(`more ${props.rank}`).style.visibility = 'visible';\n            props.isExpanded(props.rank);\n        } else {\n            document.getElementById(`table-row-${props.rank}`).style.height = '120px';\n            document.getElementById(`more ${props.rank}`).innerHTML = 'More';\n            document.getElementById(`chevron ${props.rank}`).style.transform = 'rotate(0deg)';\n            document.getElementById(`more ${props.rank}`).style.visibility = '';\n            props.isExpanded('')\n        }  \n    }\n\n    const getOtherAlbums = (artistInput) => {\n        const sameArtist = [];\n        props.albums.forEach(album => {\n            if (Array.isArray(album.attributes.artistName)) {\n                if (album.attributes.artistName.some(artist => artist === artistInput)) {\n                    sameArtist.push(album);\n                  }\n            } else { \n                if (album.attributes.artistName === artistInput) {\n                    sameArtist.push(album);\n                }\n            }\n        });\n        props.albums.filter(album => album.attributes.artistName === artistInput);\n        const otherAlbums = sameArtist.filter(album => album.id !== props.album.id);\n        let rankings = [];\n        if (props.selectedRanking === 'global') {\n            rankings = otherAlbums.map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingGlobal.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        } else {\n            rankings = otherAlbums.map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingUser.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        }\n        const sortedAlbums = rankings.sort((a, b) => a.ranking - b.ranking);\n        return sortedAlbums;\n    }\n\n    const getAllArtistAlbums = (artistInput) => {\n        let sameArtist = [];\n        props.albums.forEach(album => {\n            if (Array.isArray(album.attributes.artistName)) {\n                if (album.attributes.artistName.some(artist => artist === artistInput)) {\n                    sameArtist.push(album);\n                  }\n            } else { \n                if (album.attributes.artistName === artistInput) {\n                    sameArtist.push(album);\n                }\n            }\n        });\n        let rankings = [];\n        if (props.selectedRanking === 'global') {\n            rankings = sameArtist.map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingGlobal.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        } else {    \n            rankings = sameArtist.map(album => {\n                return {\n                    album: album,\n                    ranking: props.rankingUser.findIndex(ranking => ranking.albumId === album.id) + 1\n                }\n            });\n        }\n        const sortedAlbums = rankings.sort((a, b) => a.ranking - b.ranking);\n        return sortedAlbums;\n    }\n\n    const renderOtherAlbums = (artistInput) => {\n        return getOtherAlbums(artistInput).map((album, index) => (\n            <div className='other-album' key={index}>\n                <div className='other-album-rank'>\n                    {album.ranking}\n                </div>\n                <img src={replaceUrl(album.album.attributes.artwork.url)} alt={album.album.attributes.name} className='other-album-image'/>\n                <p className='other-album-name'>{album.album.attributes.name}</p>\n            </div>\n        ))\n    };\n\n    const getRecentResults = () => {\n        let reveresedArray = [];\n        if (props.selectedRanking === 'global') {\n            reveresedArray = props.resultsGlobal.reverse();\n        } else {\n            reveresedArray = props.resultsUser.reverse();\n        }\n        const filteredResults = reveresedArray.filter(result => result.album1.id === props.album.id || result.album2.id === props.album.id);\n        let recentResults = [];\n        filteredResults.map(result => {\n            if (result.album1.id === props.album.id) {\n                recentResults.push({\n                    album: props.albums.find(album => album.id === result.album2.id),\n                    result: result.album2.result\n                });\n            } else if (result.album2.id === props.album.id) {\n                recentResults.push({\n                    album: props.albums.find(album => album.id === result.album1.id),\n                    result: result.album1.result\n                });\n            }\n        });\n        return recentResults;\n    }\n\n    const renderRecentResults = () => {\n        return getRecentResults().map((result, index) => (\n            <div className='recent-result' key={index}>\n                <div className='recent-result-outcome'>\n                    {result.result === -1 ? 'Win' : 'Loss'}\n                </div>\n                <img src={replaceUrl(result.album.attributes.artwork.url)} alt={result.album.attributes.name} className='recent-result-image'/>\n                <p className='recent-result-name'>{result.album.attributes.name}</p>\n            </div>\n        ))\n    }\n\n    const getArtistArtworkUrl = (artistInput) => { \n        if (props.artists) {\n            return props.artists.find(artist => artist.attributes.name === artistInput).attributes.artwork.url.replace('{w}', '300').replace('{h}', '300');\n        }\n    }\n\n    /* const getWinLoss = () => {\n        let albumWL = [];\n        for (let i = 0; i < props.resultsGlobal.length; i++) {\n            if (props.album.id in formattedResults[i]) {\n                albumWL.push(formattedResults[j][uniqueIds[i]])\n            }\n        };\n    } */\n\n    if (props.album) {\n        return (\n            <div className=\"table-row\" id={`table-row-${props.rank}`} style={style}>\n                <div className=\"row-default\">\n                    <div className=\"table-cell\" id=\"rank-cell\">\n                        <div className='rank-container'>\n                            <p>{props.rank}</p>\n                        </div>\n                    </div>\n                    <div className=\"table-cell\" id=\"album-cell\">\n                        {props.album &&\n                        <div className=\"album-info\">\n                            <img src={replaceUrl(props.album.attributes.artwork.url)} alt=\"album artwork\" className=\"albumArtwork\"/>\n                            <div className=\"album-name-artist\">\n                                <div className=\"album-text\">\n                                    <p className=\"album-name-table\">{props.album.attributes.name}</p>\n                                    <p className=\"album-artist-table\">{getArtistName()}</p>\n                                </div>\n                            </div>\n                        </div>\n                        }\n                    </div>\n                    <div className=\"table-cell\" id=\"release-cell\">\n                        <p>{props.album && formatDate(props.album.attributes.releaseDate)}</p>\n                    </div>\n                    <div className=\"table-cell\" id=\"more-cell\">\n                        <button className='more' id={`more-button-${props.rank}`} onClick={expandTableRow}><p className='button-text' id={`more ${props.rank}`}>More</p><ExpandMoreRounded size='small' id={`chevron ${props.rank}`}></ExpandMoreRounded></button>\n                    </div>\n                </div>\n                <div className=\"row-expanded\" id={`row-expanded-${props.rank}`}>\n                    <div className='album-info-expanded'>\n                        <div className='album-facts'>\n                                <p className=\"label\">PROJECT TYPE:</p>\n                                <p>{props.album && props.album.type}</p>\n                                <p className=\"label\">GENRE:</p>\n                                <p>{props.album && props.album.attributes.genreNames[0]}</p>\n                                <p className=\"label\">TRACKs:</p>\n                                <p>{props.album && props.album.attributes.trackCount}</p>\n                        </div>\n                        <div className='editorial-notes'>\n                            <p id='editorial-label'>EDITORIAL NOTES:</p>\n                            <p className='editorial-notes-standard' id={'editorial-notes-' + props.rank}></p>\n                        </div>\n                    </div>\n                    <div className=\"recent-results\">\n                        <p className='label'>RECENT RESULTS:</p>\n                        <div className='recent-results-albums'>\n                            {renderRecentResults()}\n                        </div>\n                    </div>\n                    <vl/>\n                    { !Array.isArray(props.album.attributes.artistName) ?\n                    <div className=\"artist\">\n                        <div className=\"artist-info\">\n                            <img src={getArtistArtworkUrl(props.album.attributes.artistName)} alt=\"artist artwork\" className=\"artist-artwork\"/>\n                            <p className='artist-name'>{props.album.attributes.artistName}</p>\n                            <div className='artist-stats'>\n                                <div className='artist-stats-labels'>\n                                    <p>{`Highest album rank: `}</p>\n                                    <p>{`Lowest album rank: `}</p>\n                                    <p>{`Average album rank: `}</p>\n                                </div>\n                                <div className='artist-stats-values'>\n                                    <p>{`#${getAllArtistAlbums(props.album.attributes.artistName)[0].ranking}`}</p>\n                                    <p>{`#${getAllArtistAlbums(props.album.attributes.artistName)[getAllArtistAlbums(props.album.attributes.artistName).length - 1].ranking}`}</p>\n                                    <p>{`#${(getAllArtistAlbums(props.album.attributes.artistName).reduce((a, b) => a + b.ranking, 0 ) / getAllArtistAlbums(props.album.attributes.artistName).length).toFixed(1)}`}</p>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"other-albums-container\">\n                            <p className='label'>OTHER ALBUMS:</p>\n                            <div className=\"other-albums\">\n                                {renderOtherAlbums(props.album.attributes.artistName)}\n                            </div>\n                        </div>\n                    </div>\n                    : <Carousel>\n                            {props.album.attributes.artistName.map((artist, index) => {\n                                return <CarouselItem index={index}>\n                                    <div className=\"artist\">\n                                        <div className=\"artist-info\">\n                                            <img src={getArtistArtworkUrl(artist)} alt=\"artist artwork\" className=\"artist-artwork\"/>\n                                            <p className='artist-name'>{artist}</p>\n                                            <div className='artist-stats'>\n                                                <div className='artist-stats-labels'>\n                                                    <p>{`Highest album rank: `}</p>\n                                                    <p>{`Lowest album rank: `}</p>\n                                                    <p>{`Average album rank: `}</p>\n                                                </div>\n                                                <div className='artist-stats-values'>\n                                                    <p>{`#${getAllArtistAlbums(artist)[0].ranking}`}</p>\n                                                    <p>{`#${getAllArtistAlbums(artist)[getAllArtistAlbums(artist).length - 1].ranking}`}</p>\n                                                    <p>{`#${(getAllArtistAlbums(artist).reduce((a, b) => a + b.ranking, 0 ) / getAllArtistAlbums(artist).length).toFixed(1)}`}</p>\n                                                </div>\n                                            </div>\n                                        </div>\n                                        <div className=\"other-albums-container\">\n                                            <p className='label'>OTHER ALBUMS:</p>\n                                            <div className=\"other-albums\">\n                                                {renderOtherAlbums(artist)}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </CarouselItem> }\n                            )}\n                    </Carousel> }\n                </div>\n                <div className='expanded-row-bg' id={`expanded-row-bg-${props.rank}`}>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default TableRow;","import React from \"react\";\nimport './TableHeader.css';\n\nconst TableHeader = () => {\n    return (\n        <div className=\"table-header\">\n            <div className=\"table-label\" id=\"rank-label\">RANK</div>\n            <div className=\"table-label\" id=\"album-label\">ALBUM</div>\n            <div className=\"table-label\" id=\"release-label\">RELEASE DATE</div>\n        </div>\n    );\n}\n\nexport default TableHeader;","import Multiselect from \"multiselect-react-dropdown\";\nimport React, { useEffect, useState } from \"react\";\nimport './RankingSelect.css';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport theme from '../MuiTheme/Theme';\n\nconst RankingSelect = (props) => {\n    let [selectedValues, setSelectedValues] = useState([{ label: \"Global\", value: \"global\" }]);\n\n    const options = [\n        { label: \"Global\", value: \"global\" },\n        { label: \"Personal\", value: \"personal\" }\n    ];\n\n    useEffect(() => {\n        if (props.queryParams === 'personal') {\n            setSelectedValues([{ label: \"Personal\", value: \"personal\" }]);\n        } else {\n            setSelectedValues([{ label: \"Global\", value: \"global\" }]);\n        }\n    }, [props.queryParams])\n\n\n\n\n    return (\n        <Multiselect id='ranking-select'\n            options={options}\n            displayValue=\"label\"\n            avoidHighlightFirstOption=\"true\"\n            singleSelect=\"true\"\n            selectedValues={selectedValues}\n            hidePlaceholder=\"true\"\n            placeholder=\"\"\n            showArrow=\"true\"\n            onSelect={props.onSelect}\n            customArrow={<ThemeProvider theme={theme}><ExpandMoreRounded color=\"primary\"/></ThemeProvider>}\n        />\n    )\n}\n\nexport default RankingSelect;","import m4th from 'm4th';\n\nconst solveRanking = (results) => {\n    let formattedResults = [];\n    results.forEach(result => {\n        let newResult = {};\n        newResult[result.album1.id] = result.album1.result;\n        newResult[result.album2.id] = result.album2.result;\n        formattedResults.push(newResult);\n    });\n    console.log(formattedResults);\n    let ids = [];\n    for (let i = 0; i < formattedResults.length; i++) {\n        ids.push(Object.keys(formattedResults[i]))\n    };\n    console.log(ids);\n    let flatIds = ids.flat();\n    console.log(flatIds);\n    let uniqueIds = [...new Set(flatIds)];\n    console.log(uniqueIds);\n    let matrix = m4th.matrix(uniqueIds.length);\n    matrix = matrix.map(function(element){\n        return 0;\n      });\n    for (let i = 0; i < uniqueIds.length; i++) {\n        matrix.set(i, i, flatIds.filter(id => id === uniqueIds[i]).length + 2);\n        for (let j = i+1; j < uniqueIds.length; j++) {\n            let gameCount = matrix.get(i, j) || 0;\n            for (let k = 0; k < formattedResults.length; k++) {\n                if (uniqueIds[i] in formattedResults[k] && uniqueIds[j] in formattedResults[k]) {\n                    matrix.set(i, j, gameCount-1);\n                    matrix.set(j, i, gameCount-1);\n                }\n            }\n        }\n    }\n    console.log(matrix);\n    let ratings = [];\n    for (let i = 0; i < uniqueIds.length; i++) {\n        let albumWL = [];\n        for (let j = 0; j < formattedResults.length; j++) {\n            if (uniqueIds[i] in formattedResults[j]) {\n                albumWL.push(formattedResults[j][uniqueIds[i]])\n            }\n        };\n        let albumRating = 1 + 0.5 * (albumWL.reduce((previousValue, currentValue) => previousValue + currentValue,\n        0));\n        ratings.push(albumRating);\n    }\n    let y = m4th.matrix(uniqueIds.length, ratings);\n    const solution = m4th.lu(matrix).solve(y);\n    const rankings = [];\n    for (let i = 0; i < uniqueIds.length; i++) {\n        rankings.push({\n            albumId: uniqueIds[i],\n            rating: solution.array[i]\n        })\n    };\n    const sortedRankings = rankings.sort((a, b) => b.rating - a.rating);\n    return sortedRankings;\n}\n\nexport default solveRanking;","import Multiselect from \"multiselect-react-dropdown\";\nimport React, { useState, useEffect } from \"react\";\nimport './TypeSelect.css';\nimport { ExpandMoreRounded } from \"@mui/icons-material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport theme from '../MuiTheme/Theme';\n\nconst TypeSelect = (props) => {\n    let [selectedValues, setSelectedValues] = useState([]);\n    let [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            setOptions(getTypeOptions(props.albums));\n        }\n    },  [props.albums])\n\n    useEffect(() => {\n        if (props.queryParams.length > 0 && options.length > 0) {\n            setSelectedValues(props.queryParams.map(type => options.find(option => option.label === type)));\n        }\n    }, [options])\n\n    useEffect(() => {\n        if (props.albums.length > 0) {\n            setOptions(getTypeOptions(filterTypes()));\n        }\n    }, [props.yearFilter, props.artistFilter])\n\n    const getTypeOptions = (albums) => {\n        let options = [];\n        albums.forEach(album => {\n            if (!options.some(type => type.label === album.type)) {\n                options.push({\n                    label: album.type,\n                    value: album.type.toLowerCase()\n                });\n            }\n\n        });\n        return options;\n    }\n\n    const filterTypes = () => {\n        let filteredAlbums = props.albums.map(album => album);\n        if (props.artistFilter.length > 0) {\n            props.albums.forEach(album => {\n                if (Array.isArray(album.attributes.artistName)) {\n                    if (album.attributes.artistName.some(artist => props.artistFilter.includes(artist)) === false) {\n                        filteredAlbums.splice(filteredAlbums.findIndex(foundAlbum => foundAlbum === album), 1);\n                    }\n                } else { \n                    if ((props.artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                        filteredAlbums.splice(filteredAlbums.findIndex(foundAlbum => foundAlbum === album), 1);\n                    }\n                }\n            });\n        }\n        if (props.yearFilter.length > 0) {\n            let years = props.albums.filter(album => props.yearFilter.some(year => album.attributes.releaseDate.includes(year))).map(album => album);\n            filteredAlbums = filteredAlbums.filter(album => years.includes(album));\n        }\n        console.log(filteredAlbums);\n        return filteredAlbums;\n    }\n\n\n\n    return (\n        <Multiselect id='type-select'\n            options={options}\n            selectedValues={selectedValues}\n            displayValue=\"label\"\n            avoidHighlightFirstOption=\"true\"\n            singleSelect=\"true\"\n            placeholder=\"Type\"\n            showArrow=\"true\"\n            onSelect={props.onSelect}\n            onRemove={props.onRemove}\n            closeIcon={'cancel'}\n            customArrow={<ThemeProvider theme={theme}><ExpandMoreRounded color=\"primary\"/></ThemeProvider>}\n        />\n    )\n}\n\nexport default TypeSelect;","import React, { useState, useEffect, useRef } from \"react\";\nimport TableRow from \"../TableRow/TableRow\";\nimport axios from \"axios\";\nimport TableHeader from \"../TableHeader/TableHeader\";\nimport './Rankings.css';\nimport RankingSelect from \"../RankingSelect/RankingSelect\";\nimport ArtistFilter from \"../ArtistFilter/ArtistFilter\";\nimport { YearFilter } from \"../YearFilter/YearFilter\";\nimport solveRanking from \"../../util/solveRanking\";\nimport jsCookie from \"js-cookie\";\nimport uuid from \"uuid\";\nimport TypeSelect from \"../TypeSelect/TypeSelect\";\nimport { ShareOutlined } from \"@mui/icons-material\";\nimport { Button } from \"@mui/material\";\nimport { ThemeProvider } from \"@mui/system\";\nimport theme from '../MuiTheme/Theme';\nimport Header from \"../Header/Header\";\n\nconst Rankings = () => {\n\n    let [albums, setAlbums] = useState([]);\n    let [artists, setArtists] = useState([]);\n    let [resultsGlobal, setResultsGlobal] = useState([]);\n    let [resultsUser, setResultsUser] = useState([]);\n    let [rankingGlobal, setRankingGlobal] = useState([]);\n    let [rankingUser, setRankingUser] = useState([]);\n    let [currentRanking, setCurrentRanking] = useState([]);\n    let [userId, setUserId] = useState('');\n    let [selectedRanking, setSelectedRanking] = useState('global');\n    let [isLoading, setIsLoading] = useState(false);\n    let [rowExpanded, setRowExpanded] = useState('');\n    let [artistFilter, setArtistFilter] = useState([]);\n    let [yearFilter, setYearFilter] = useState([]);\n    let [typeFilter, setTypeFilter] = useState([]);\n\n    useEffect(() => {\n        getUserId();\n        fetchAlbums();\n        fetchArtists();\n        fetchResults();\n        setIsLoading(true);\n        setArtistFilter(splitArtistParams());\n        setTypeFilter(searchParams.getAll('type'));\n        if(searchParams.get('ranking') !== null) {\n            setSelectedRanking(searchParams.get('ranking'));\n        };\n    }, []);\n\n    useEffect(() => {\n        getUserData();\n    }, [userId]);\n\n    useEffect(() => {\n        if (resultsGlobal.length > 0) {\n            setRankingGlobal(solveRanking(resultsGlobal));\n        }\n    }, [resultsGlobal]);\n\n    useEffect(() => {\n        if (resultsUser.length > 0) {\n            setRankingUser(solveRanking(resultsUser));\n        }\n    }, [resultsUser]);\n\n    useEffect(() => {\n        if (selectedRanking === 'global') {\n            setCurrentRanking(rankingGlobal);\n        }\n        if (rankingGlobal) {\n            setIsLoading(false);\n        }\n    }, [rankingGlobal]);\n\n    useEffect(() => {\n        filterRankings();\n        searchParams.set('ranking', selectedRanking);\n        var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n        window.history.pushState(null, '', newRelativePathQuery);\n\n    }, [selectedRanking]);\n\n    useEffect(() => {\n        filterRankings(); \n        if (artistFilter.length === 0) {\n            searchParams.delete('artist');\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (artistFilter.length > 0) {\n            searchParams.set('artist', artistFilter);\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (yearFilter.length === 0) {\n            searchParams.delete('years');\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (typeFilter.length === 0) {\n            searchParams.delete('type');\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }\n        if (typeFilter.length > 0) {\n            searchParams.set('type', typeFilter[0]);\n            var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n            window.history.pushState(null, '', newRelativePathQuery);\n        }   \n    }, [artistFilter, yearFilter, typeFilter]);\n\n    useEffect(() => {\n        if (rankingGlobal) {\n            filterRankings();\n        }\n    }, [rankingGlobal, albums]);\n\n    useEffect(() => {\n        if (prevRow !== '' && rowExpanded !== '') {\n            closeRow(prevRow);\n        }\n    }, [rowExpanded]);\n\n    function usePrevious(value) {\n        const ref = useRef();\n        useEffect(() => {\n          ref.current = value;\n        });\n        return ref.current;\n      }\n\n    const prevRow = usePrevious(rowExpanded);\n\n    let searchParams = new URLSearchParams(window.location.search);\n        \n    const getUserId = () => {\n        if (!jsCookie.get('user')) {\n          jsCookie.set('user', uuid.v4(), { expires: 10000 });\n        } else {\n          setUserId(jsCookie.get('user'));\n        }\n      }\n\n    const fetchAlbums = () => {\n        axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums', {\n          params: {\n            \"verification_method\": \"SECRET_AS_QUERY_PARAM\",\n            \"secret\": \"temperature\"\n          }\n        })\n        .then(response => {\n          setAlbums(response.data);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n      }\n\n      const fetchArtists = () => {\n        axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/artists', {\n        })\n        .then(response => {\n          setArtists(response.data);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n      }\n\n    const fetchResults = () => {\n        axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults', {\n        })\n        .then(response => {\n            setResultsGlobal(response.data);\n        })\n        .catch(err => {\n            console.log(err);\n         });\n    }\n\n    const getUserData = () => {\n        if (userId !== '') {\n          axios.get('https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser', {\n            params: {\n              userId: userId\n            }\n          }).then (response => {\n            if (response.data !== null) {\n            setResultsUser(response.data.results);\n            }\n          })\n        }\n      }\n\n    const splitArtistParams = () => {\n        let artistParams = searchParams.get('artist');\n        if (artistParams !== null) {\n            let artistArray = artistParams.split(',');\n            return artistArray;\n        } else {\n            return [];\n        }\n    }\n\n    const splitYearParams = () => {\n        let yearParams = searchParams.get('years');\n        if (yearParams !== null) {\n            let yearArray = yearParams.split(',');\n            return yearArray;\n        } else {\n            return [];\n        }\n    }\n\n    const changeRanking = (selectedItem) => {\n        setSelectedRanking(selectedItem[0].value);\n    };\n\n    const shareRanking = () => {\n        let artistFilterShare = artistFilter.map(artist => artist)\n        let artistFilterLast = artistFilterShare.pop();\n        let type = '';\n        if (typeFilter.length > 0)  {\n            type = typeFilter[0].toLowerCase();\n        }\n        let yearFilterShare = yearFilter.map(year => year)\n        let yearFilterLast = yearFilterShare.pop();\n        const sharedText = `My top ranked ${artistFilter.length > 1 ? `${artistFilterShare.join(', ') + ' & ' + artistFilterLast + ' '}` : artistFilter.length > 0 ? `${artistFilter[0]} ` : ''}${typeFilter.length > 0 ? `${type}s` : `albums`} of ${document.getElementById('select-all-twenties').classList.contains('year-selected') ? `the 2020's` : document.getElementById('select-all-teens').classList.contains('year-selected') ? `the 2010's` : document.getElementById('select-all-aughts').classList.contains('year-selected') ? `the 2000's` : yearFilter.length > 1 ? `${yearFilterShare.join(', ') + ' & ' + yearFilterLast}` : yearFilter.length > 0 ? `${yearFilter[0]}` : `all time`}: \\n${currentRanking.map((result, index) => `${index + 1}. ${albums.find(album => album.id === result.albumId).attributes.name} ${albums.find(album => album.id === result.albumId).attributes.emoji !== undefined ? albums.find(album => album.id === result.albumId).attributes.emoji : '' }`).join('\\n')}`;\n        navigator.clipboard.writeText(sharedText);\n    }\n\n    const isExpanded = (id) => {\n        setRowExpanded(id);\n    };\n\n    const filterArtist = (selectedList) => {\n        const artistFilter = selectedList.map(artist => artist.name);\n        setArtistFilter(artistFilter);\n    }\n\n    const filterYear = (selectedList) => {\n        setYearFilter(selectedList);\n    }\n\n    const filterType = (selectedList) => {\n        const typeFilter = selectedList.map(type => type.label);\n        setTypeFilter(typeFilter);\n    }\n\n    const filterRankings = () => {\n        if (artistFilter.length === 0 && yearFilter.length === 0 && typeFilter.length === 0) {\n            if (selectedRanking === 'global') {\n                setCurrentRanking(rankingGlobal);\n            } else if (selectedRanking === 'personal') {\n                setCurrentRanking(rankingUser);\n            }\n        } else {\n            let filteredIds = albums.map(album => album.id);\n            if (artistFilter.length > 0) {\n                albums.forEach(album => {\n                    if (Array.isArray(album.attributes.artistName)) {\n                        if (album.attributes.artistName.some(artist => artistFilter.includes(artist)) === false) {\n                            filteredIds.splice(filteredIds.findIndex(id => id === album.id), 1);\n                        }\n                    } else { \n                        if ((artistFilter.some(artist => artist === album.attributes.artistName)) === false) {\n                            filteredIds.splice(filteredIds.findIndex(id => id === album.id), 1);\n                        }\n                    }\n                });\n            }\n            if (yearFilter.length > 0) {\n                let yearIds = albums.filter(album => yearFilter.some(year => album.attributes.releaseDate.includes(year))).map(album => album.id);\n                filteredIds = filteredIds.filter(id => yearIds.includes(id));\n                searchParams.set('years', yearFilter);\n                var newRelativePathQuery = window.location.pathname + '?' + searchParams.toString();\n                window.history.pushState(null, '', newRelativePathQuery);\n            }\n            if (typeFilter.length > 0) {\n                let typeIds = albums.filter(album => typeFilter.includes(album.type)).map(album => album.id);\n                filteredIds = filteredIds.filter(id => typeIds.includes(id));\n            }\n            let filteredRanking = [];\n            selectedRanking === 'global' ? filteredRanking = rankingGlobal.filter(album => filteredIds.includes(album.albumId)) : filteredRanking = rankingUser.filter(album => filteredIds.includes(album.albumId));\n            setCurrentRanking(filteredRanking);\n        }\n    };\n\n    const closeRow = (id) => {\n        document.getElementById(`table-row-${id}`).style.height = '120px';\n        document.getElementById(`more ${id}`).innerHTML = 'More';\n        document.getElementById(`chevron ${id}`).style.transform = 'rotate(0deg)';\n        document.getElementById(`more ${id}`).style.visibility = '';\n    }\n\n    const renderTable = () => {\n        if (isLoading) {\n            return <span className='loader' ></span>\n        } else {\n            return currentRanking.map((result, index) => (\n                <TableRow \n                    key={index} \n                    album={albums.find(album => album.id === result.albumId)} \n                    rank={index + 1} \n                    albums={albums} \n                    artists={artists}\n                    rankingGlobal={rankingGlobal} \n                    rankingUser={rankingUser}\n                    resultsGlobal={resultsGlobal} \n                    resultsUser={resultsUser}\n                    selectedRanking={selectedRanking}\n                    isExpanded={isExpanded}\n                />\n            ));\n        }\n    }\n\n    return (\n        <div>\n            <Header artistFilter={artistFilter} yearFilter={yearFilter}/>\n            <div className='filters-rankings'>\n                <RankingSelect onSelect={changeRanking} queryParams={selectedRanking}/>\n                <ArtistFilter albums={albums} onSelect={filterArtist} onRemove={filterArtist} queryParams={artistFilter} yearFilter={yearFilter} typeFilter={typeFilter} />\n                <YearFilter onChange={filterYear} queryParams={yearFilter} albums={albums} artistFilter={artistFilter} typeFilter={typeFilter} />\n                <TypeSelect onSelect={filterType} onRemove={filterType} queryParams={typeFilter} albums={albums} artistFilter={artistFilter} yearFilter={yearFilter} />\n                <div className='share' >\n                    {selectedRanking === 'personal' ? \n                    <ThemeProvider theme={theme}>\n                        <Button variant=\"contained\" onClick ={shareRanking} color='secondary' sx={{ borderRadius: '20px', height: '40px', padding: '0px 32px 0px 32px', textTransform: 'none', fontSize: '16px', fontFamily: 'Helvetica', color: '#FFFFFF' }} endIcon={<ShareOutlined size='small'/>} >\n                            Share\n                        </Button> \n                    </ThemeProvider>\n                    : null}\n                </div>\n            </div>\n            <TableHeader />\n            <div className='table-container' id='table-container'>\n                {renderTable()}\n            </div>\n            <div className='embed'>\n                \n            </div>\n        </div>\n    );\n}\n\nexport default Rankings;","import React from \"react\";\nimport Rank from \"./Components/Rank/Rank\";\nimport Rankings from \"./Components/Ranking/Rankings\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\nfunction App() {\n    return (\n        <Rank />\n    )\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\nimport Rank from './Components/Rank/Rank';\nimport Rankings from './Components/Ranking/Rankings';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n    <BrowserRouter>\n        <Routes>\n            <Route path=\"/\" element={<App />} />\n                <Route index element={<Rank />} />\n                <Route path=\"rankings\" element={<Rankings />} />\n        </Routes>\n    </BrowserRouter>\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}