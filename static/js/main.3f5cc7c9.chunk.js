(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,a){e.exports=a(401)},126:function(e,t,a){},129:function(e,t,a){},131:function(e,t,a){},135:function(e,t,a){},162:function(e,t,a){},172:function(e,t,a){e.exports=a.p+"static/media/rankabl-logo.251c7ee4.png"},176:function(e,t,a){},178:function(e,t,a){},180:function(e,t,a){},184:function(e,t,a){},186:function(e,t,a){},188:function(e,t,a){},190:function(e,t,a){},192:function(e,t,a){},194:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(104),c=a.n(l),s=(a(126),a(4)),i=(a(129),a(62)),o=a(107),u=a(108),m=a(111),d=a(109),f=a(112),b=(a(131),function(e,t){var a=parseInt(e,16),n=Math.round(2.55*t),r=(a>>16)+n,l=(a>>8&255)+n,c=(255&a)+n;return(16777216+65536*(r<255?r<1?0:r:255)+256*(l<255?l<1?0:l:255)+(c<255?c<1?0:c:255)).toString(16).slice(1)}),h=a(41),g=a.n(h),E=function(e){function t(){return Object(o.a)(this,t),Object(m.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(u.a)(t,[{key:"getArtistName",value:function(){return Array.isArray(this.props.album.attributes.artistName)?this.props.album.attributes.artistName.join(" & "):this.props.album.attributes.artistName}},{key:"replaceUrl",value:function(e){return e.replace("{w}","600").replace("{h}","600")}},{key:"render",value:function(){if(this.props.album){var e={"--bg-color":"#"+this.props.album.attributes.artwork.bgColor,"--text-color-1":"#"+this.props.album.attributes.artwork.textColor1,"--text-color-2":"#"+this.props.album.attributes.artwork.textColor2,"--text-color-3":"#"+this.props.album.attributes.artwork.textColor3,"--text-color-4":"#"+this.props.album.attributes.artwork.textColor4,"--shadow":"#"+this.props.album.attributes.artwork.textColor4+"25","--shadow-hover":"#"+this.props.album.attributes.artwork.textColor4+"50","--bg-gradient":"#"+b(this.props.album.attributes.artwork.bgColor,8)};return r.a.createElement("div",{className:"album",id:this.props.id,style:e,onMouseDown:this.mouseDown,onMouseUp:this.mouseUp,onClick:this.props.onClick},r.a.createElement("img",{src:this.replaceUrl(this.props.album.attributes.artwork.url),alt:this.props.album.attributes.name}),r.a.createElement("h1",{className:"album-title"},this.props.album.attributes.name),r.a.createElement("h2",{className:"album-artist"},this.getArtistName()))}}}]),t}(r.a.Component);a(135);var p=a(24),y=a.n(p);function v(){v=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,l=Object.create(r.prototype),c=new C(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return j()}for(a.method=r,a.arg=l;;){var c=a.delegate;if(c){var s=w(c,a);if(s){if(s===u)continue;return s}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=o(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===u)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,c),l}function o(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(L){return{type:"throw",arg:L}}}e.wrap=i;var u={};function m(){}function d(){}function f(){}var b={};s(b,r,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&a.call(g,r)&&(b=g);var E=f.prototype=m.prototype=Object.create(b);function p(e){["next","throw","return"].forEach(function(t){s(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var n;this._invoke=function(r,l){function c(){return new t(function(n,c){!function n(r,l,c,s){var i=o(e[r],e,l);if("throw"!==i.type){var u=i.arg,m=u.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,c,s)},function(e){n("throw",e,c,s)}):t.resolve(m).then(function(e){u.value=e,c(u)},function(e){return n("throw",e,c,s)})}s(i.arg)}(r,l,n,c)})}return n=n?n.then(c,c):c()}}function w(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=o(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function k(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(k,this),this.reset(!0)}function O(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:j}}function j(){return{value:void 0,done:!0}}return d.prototype=f,s(E,"constructor",f),s(f,"constructor",d),d.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},p(y.prototype),s(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var c=new y(i(t,a,n,r),l);return e.isGeneratorFunction(a)?c:c.next().then(function(e){return e.done?e.value:c.next()})},p(E),s(E,c,"Generator"),s(E,r,function(){return this}),s(E,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(N),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return c.type="throw",c.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],c=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var s=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(s&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=e,c.arg=t,l?(this.method="next",this.next=l.finallyLoc,u):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),N(a),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;N(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:O(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),u}},e}a(44);var w=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),u=Object(s.a)(o,2),m=u[0],d=u[1],f=Object(n.useState)([]),b=Object(s.a)(f,2),h=b[0],g=b[1],p=Object(n.useState)([]),w=Object(s.a)(p,2),k=w[0],N=w[1],C=Object(n.useState)(!1),O=Object(s.a)(C,2),j=O[0],L=O[1],S=Object(n.useState)([]),I=Object(s.a)(S,2),x=I[0],A=I[1],B=Object(n.useState)(!1),M=Object(s.a)(B,2),F=M[0],T=M[1];Object(n.useEffect)(function(){L(!0)},[]),Object(n.useEffect)(function(){0===l.length&&e.albumsLoaded&&e.loadedUserData&&A(e.seenPairs)},[e.albumsLoaded,e.loadedUserData]),Object(n.useEffect)(function(){if(e.loadedUserData&&e.albums){var t=P(e.albums);c(t)}},[x]),Object(n.useEffect)(function(){l.length>0?(T(!0),console.log("new pair")):e.albumsLoaded&&e.loadedUserData&&(setTimeout(function(){L(!1)},300),console.log(" no more albums "))},[l]),Object(n.useEffect)(function(){F&&l.length>0&&H(l).then(function(){T(!1),L(!1)})},[F]),Object(n.useEffect)(function(){e.albumsLoaded&&(console.log("albums changed"),L(!0),setTimeout(function(){c(P(e.albums))},300))},[e.albums]);var R,P=function(e){for(var t=function(e){for(var t=[],a=0;a<e.length-1;a++)for(var n=a+1;n<e.length;n++)t.push([e[a].id,e[n].id]);return t}(e),a=[],n=0;n<x.length;n++)for(var r=0;r<t.length;r++)x[n].includes(t[r][0])&&x[n].includes(t[r][1])&&a.push(t[r]);return t.filter(function(e){return!a.includes(e)})},D=function(e){return e[Math.floor(Math.random()*e.length)]},H=function(){var t=Object(i.a)(v().mark(function t(a){var n,r,l,c,s;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=D(a),r=Math.floor(Math.random()*n.length),l=1-r,t.next=5,d(n);case 5:return t.next=7,g(e.albums.find(function(e){return e.id===n[r]}));case 7:return t.next=9,N(e.albums.find(function(e){return e.id===n[l]}));case 9:c=Array.from(document.getElementsByClassName("skip-error-message")),s=Array.from(document.getElementsByClassName("skip-button")),c.forEach(function(e){e.style.visibility="hidden"}),s.forEach(function(e){e.removeAttribute("disabled")});case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),_=function(t){var a=h.id,n=k.id,r={};"album1"===t.currentTarget.id&&(r[a]=1,r[n]=-1,r={album1:{id:a,result:1},album2:{id:n,result:-1}},L(!0),y()({url:"https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save",method:"POST",params:{userId:e.userId},data:{result:r,seenPair:m}}).then(function(e){A(e.data.userResult.seenPairs),console.log(e.data.userResult.seenPairs)}).catch(function(e){console.log(e)})),"album2"===t.currentTarget.id&&(r[a]=-1,r[n]=1,r={album1:{id:a,result:-1},album2:{id:n,result:1}},L(!0),y()({url:"https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/results/save",method:"POST",params:{userId:e.userId},data:{result:r,seenPair:m}}).then(function(e){A(e.data.userResult.seenPairs),console.log(e.data.userResult.seenPairs)}).catch(function(e){console.log(e)}))},U=function(){var e=Object(i.a)(v().mark(function e(t){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_(t);case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),q=function(t){var a=h.id,n=k.id;if("second"===t.target.id){var r=l.filter(function(e){return e.includes(a)&&!e.includes(n)});if(0===r.length)return document.getElementById("second").setAttribute("disabled","disabled"),document.getElementById("first").setAttribute("disabled","disabled"),void(document.getElementById("skip-error-second").style.visibility="visible");var c=D(r);d(c),N(e.albums.find(function(e){return e.id===c.find(function(e){return e!==a})}))}else if("first"===t.target.id){var s=l.filter(function(e){return e.includes(n)&&!e.includes(a)});if(0===s.length)return document.getElementById("first").setAttribute("disabled","disabled"),document.getElementById("second").setAttribute("disabled","disabled"),void(document.getElementById("skip-error-first").style.visibility="visible");var i=D(s);d(i),g(e.albums.find(function(e){return e.id===i.find(function(e){return e!==n})}))}},G=e.filters;return j?R=r.a.createElement("div",{className:"album-container"},r.a.createElement("span",{className:"loader"})):0===l.length?G?(R=r.a.createElement("h1",null,"No available pairs of albums. Widen filters and try again."),document.getElementById("first").setAttribute("disabled","disabled"),document.getElementById("second").setAttribute("disabled","disabled"),document.getElementById("skip-both").setAttribute("disabled","disabled")):(R=r.a.createElement("h1",null,"No available pairs of albums."),document.getElementById("first")&&document.getElementById("first").setAttribute("disabled","disabled"),document.getElementById("second")&&document.getElementById("second").setAttribute("disabled","disabled"),document.getElementById("skip-both")&&document.getElementById("skip-both").setAttribute("disabled","disabled")):R=r.a.createElement("div",{className:"album-container"},r.a.createElement(E,{className:"album",id:"album1",album:h,onClick:U}),r.a.createElement("button",{className:"skip skip-button",id:"first",onClick:q},"Skip"),r.a.createElement("button",{className:"skip skip-button skip-both",id:"skip-both",onClick:function(){var t=h.id,a=k.id,n=l.filter(function(e){return!e.includes(t)&&!e.includes(a)});if(0===n.length)document.getElementById("skip-both").setAttribute("disabled","disabled"),document.getElementById("skip-error-both").classList.add("is-visible");else{var r=D(n),c=Math.floor(Math.random()*r.length),s=1-c;d(r),g(e.albums.find(function(e){return e.id===r[c]})),N(e.albums.find(function(e){return e.id===r[s]}))}}},"Skip both"),r.a.createElement(E,{className:"album",id:"album2",album:k,onClick:U}),r.a.createElement("button",{className:"skip skip-button",id:"second",onClick:q},"Skip"),r.a.createElement("p",{className:"skip-error-message",id:"skip-error-first"},"No available albums"),r.a.createElement("p",{className:"skip-error-both",id:"skip-error-both"},"No available albums"),r.a.createElement("p",{className:"skip-error-message",id:"skip-error-second"},"No available albums")),r.a.createElement("div",{className:"view-container"},R)},k=a(36),N=a.n(k);a(162);var C=function(e){for(var t=[],a=0;a<e.length;a++)if(Array.isArray(e[a].attributes.artistName))for(var n=function(n){var r=e[a].attributes.artistName[n];t.some(function(e){return e.name===r})||t.push({name:r,id:t.length+1,count:e.filter(function(e){return e.attributes.artistName===r}).length})},r=0;r<e[a].attributes.artistName.length;r++)n(r);else!function(){var n=e[a].attributes.artistName;t.some(function(e){return e.name===n})||t.push({name:n,id:t.length+1,count:e.filter(function(e){return e.attributes.artistName===n}).length})}();return t.sort(function(e,t){return t.count-e.count})},O=a(419),j=a(438),L=a(402),S=Object(L.a)({palette:{primary:{main:"#CFCFCF",contrastText:"#fff"},secondary:{main:"#8673FA",contrastText:"#fff"}},mark:{color:"red"}}),I=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),u=o[0],m=o[1];Object(n.useEffect)(function(){c(C(e.albums))},[e.albums]),Object(n.useEffect)(function(){l.length>0&&m(e.queryParams.map(function(e){return l.find(function(t){return t.name===e})}))},[l]),Object(n.useEffect)(function(){c(C(d()))},[e.yearFilter,e.typeFilter]);var d=function(){var t=e.albums.map(function(e){return e});if(e.yearFilter.length>0&&(t=t.filter(function(t){return e.yearFilter.some(function(e){return t.attributes.releaseDate.includes(e)})})),e.typeFilter&&e.typeFilter.length>0){var a=e.albums.filter(function(t){return e.typeFilter.includes(t.type)});t=t.filter(function(e){return a.includes(e)}),console.log(t)}return t};return r.a.createElement(N.a,{id:"artist-filter",options:l,selectedValues:u,onSelect:e.onSelect,onRemove:e.onRemove,displayValue:"name",avoidHighlightFirstOption:"true",placeholder:"Artists",closeIcon:"cancel",hidePlaceholder:"true",closeOnSelect:"true",customArrow:r.a.createElement(j.a,{theme:S},r.a.createElement(O.a,{color:"primary",fontSize:"small"})),showArrow:"true"})},x=a(16),A=(a(176),a(61)),B=a.n(A),M=a(423),F=function(e){var t=e.children,a=e.width;return r.a.createElement("div",{className:"carousal-item",style:{width:a}},t)},T=function(e){var t=e.children,a=Object(n.useState)(2),l=Object(s.a)(a,2),c=l[0],i=l[1],o=function(e){e<0?e=0:e>=r.a.Children.count(t)&&(e=r.a.Children.count(t)-1),i(e)};return r.a.createElement("div",{className:"carousal"},r.a.createElement("div",{className:"indicators"},r.a.createElement("button",{className:"next-prev-button",onClick:function(){o(c-1)}},"\u2039"),r.a.createElement("span",{id:"decade"},function(e){switch(e){case 0:return"2000's";case 1:return"2010's";case 2:return"2020's";default:return"Select years"}}(c)),r.a.createElement("button",{className:"next-prev-button",onClick:function(){o(c+1)}},"\u203a")),r.a.createElement("div",{className:"inner",style:{transform:"translateX(-".concat(100*c,"%)")}},r.a.Children.map(t,function(e,t){return r.a.cloneElement(e,{width:"100%"})})))},R=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(0),f=Object(s.a)(d,2),b=f[0],h=f[1],g=Object(n.useState)(["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009"]),E=Object(s.a)(g,2),p=E[0],y=E[1],v=Object(n.useState)(["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"]),w=Object(s.a)(v,2),k=w[0],N=w[1],C=Object(n.useState)(["2020","2021","2022"]),O=Object(s.a)(C,2),L=O[0],I=O[1];Object(n.useEffect)(function(){b>0&&(document.getElementById("calendar").classList.toggle("display"),console.log("filter display toggled"))},[u]);var A=Object(n.useRef)();Object(n.useEffect)(function(){var e=function(e){A.current.contains(e.target)||document.getElementById("calendar").classList.add("display")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),Object(n.useEffect)(function(){e.onChange(l)},[l]),Object(n.useEffect)(function(){c(P)},[]),Object(n.useEffect)(function(){e.albums.length>0&&z()},[e.albums,e.artistFilter,e.typeFilter]);var R=new URLSearchParams(window.location.search),P=function(){var e=R.get("years");return null!==e?e.split(","):[]};function D(e){e.target.classList.add("hover")}function H(e){e.target.classList.remove("hover"),e.target.classList.remove("select-hover")}function _(e){if(e.target.classList.contains("year-selected"))q(e.target.innerHTML),e.target.classList.contains("aughts")?document.getElementById("select-all-aughts").classList.remove("year-selected"):e.target.classList.contains("teens")?document.getElementById("select-all-teens").classList.remove("year-selected"):e.target.classList.contains("twenties")&&document.getElementById("select-all-twenties").classList.remove("year-selected");else{e.target.classList.toggle("year-selected");var t=[].concat(Object(x.a)(l),[e.target.innerHTML]);c(t.sort())}}function U(e){if(e.target.classList.contains("aughts"))if(e.target.classList.contains("year-selected"))c(l.filter(function(e){return!p.includes(e)})),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-aughts").innerHTML="Select All";else{var t=p.filter(function(e){return!l.includes(e)});c([].concat(Object(x.a)(l),Object(x.a)(t))),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.add("year-selected")})}else if(e.target.classList.contains("teens"))if(e.target.classList.contains("year-selected"))c(l.filter(function(e){return!k.includes(e)})),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-teens").innerHTML="Select All";else{var a=k.filter(function(e){return!l.includes(e)});c([].concat(Object(x.a)(l),Object(x.a)(a))),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.add("year-selected")})}else if(e.target.classList.contains("twenties"))if(e.target.classList.contains("year-selected"))c(l.filter(function(e){return!L.includes(e)})),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-twenties").innerHTML="Select All";else{var n=L.filter(function(e){return!l.includes(e)});console.log(n),c([].concat(Object(x.a)(l),Object(x.a)(n))),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.add("year-selected")})}}function q(e){"2000's"===e?(c(l.filter(function(e){return!p.includes(e)})),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-aughts").innerHTML="Select All"):"2010's"===e?(c(l.filter(function(e){return!k.includes(e)})),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-teens").innerHTML="Select All"):"2020's"===e?(c(l.filter(function(e){return!L.includes(e)})),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-twenties").innerHTML="Select All"):(c(l.filter(function(t){return t!==e})),document.getElementById(e).classList.remove("year-selected"),document.getElementById(e).classList.contains("aughts")?(document.getElementById("select-all-aughts").classList.remove("year-selected"),document.getElementById("select-all-aughts").innerHTML="Select All"):document.getElementById(e).classList.contains("teens")?(document.getElementById("select-all-teens").classList.remove("year-selected"),document.getElementById("select-all-teens").innerHTML="Select All"):document.getElementById(e).classList.contains("twenties")&&(document.getElementById("select-all-twenties").classList.remove("year-selected"),document.getElementById("select-all-twenties").innerHTML="Select All"))}function G(){h(1),m(!u)}var z=function(){var t=B()(".year").map(function(e,t){return t.id}).get(),a=e.albums.map(function(e){return e}),n=["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009"],r=["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"],s=["2020","2021","2022"];if(e.artistFilter.length>0&&e.albums.forEach(function(t){Array.isArray(t.attributes.artistName)?!1===t.attributes.artistName.some(function(t){return e.artistFilter.includes(t)})&&a.splice(a.findIndex(function(e){return e===t}),1):!1===e.artistFilter.some(function(e){return e===t.attributes.artistName})&&a.splice(a.findIndex(function(e){return e===t}),1)}),e.typeFilter&&e.typeFilter.length>0){var i=e.albums.filter(function(t){return e.typeFilter.includes(t.type)});a=a.filter(function(e){return i.includes(e)}),console.log(a)}var o=a.map(function(e){return e.attributes.releaseDate.split("-")[0]}),u=Object(x.a)(new Set(o));t.filter(function(e){return!u.includes(e)});t.forEach(function(e){u.includes(e)?document.getElementById(e).disabled=!1:document.getElementById(e).disabled=!0});var m=n.filter(function(e){return u.includes(e)});y(m);var d=r.filter(function(e){return u.includes(e)});N(d);var f=s.filter(function(e){return u.includes(e)});if(I(f),(p.every(function(e){return document.getElementById(e).disabled})||0===p.length)&&(document.getElementById("select-all-aughts").disabled=!0),(L.some(function(e){return!1===document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-aughts").disabled=!1),(k.every(function(e){return document.getElementById(e).disabled})||0===k.length)&&(document.getElementById("select-all-teens").disabled=!0),(L.some(function(e){return!1===document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-teens").disabled=!1),(L.every(function(e){return document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-twenties").disabled=!0),(L.some(function(e){return!1===document.getElementById(e).disabled})||0===L.length)&&(document.getElementById("select-all-twenties").disabled=!1),document.getElementById("select-all-aughts").classList.contains("year-selected")){var b=n.filter(function(e){return u.includes(e)}).filter(function(e){return!l.includes(e)});console.log(b),c([].concat(Object(x.a)(l),Object(x.a)(b)))}if(document.getElementById("select-all-teens").classList.contains("year-selected")){var h=r.filter(function(e){return u.includes(e)}).filter(function(e){return!l.includes(e)});console.log(h),c([].concat(Object(x.a)(l),Object(x.a)(h)))}if(document.getElementById("select-all-twenties").classList.contains("year-selected")){var g=s.filter(function(e){return u.includes(e)}).filter(function(e){return!l.includes(e)});console.log(g),c([].concat(Object(x.a)(l),Object(x.a)(g)))}};return r.a.createElement("div",{ref:A,id:"year-filter"},r.a.createElement("div",{className:"year-filter-container",id:"year-filter-container"},r.a.createElement("div",{className:"chip-wrapper",onClick:function(e){e.target!==e.currentTarget||G()}},function(){var e=l;return p.length>0&&p.every(function(t){return e.includes(t)})&&((e=e.filter(function(e){return!p.includes(e)})).push("2000's"),e.sort(),document.getElementById("select-all-aughts").classList.add("year-selected"),document.getElementById("select-all-aughts").innerHTML="Remove All"),k.length>0&&k.every(function(t){return e.includes(t)})&&((e=e.filter(function(e){return!k.includes(e)})).push("2010's"),e.sort(),document.getElementById("select-all-teens").classList.add("year-selected"),document.getElementById("select-all-teens").innerHTML="Remove All"),L.length>0&&L.every(function(t){return e.includes(t)})&&((e=e.filter(function(e){return!L.includes(e)})).push("2020's"),e.sort(),document.getElementById("select-all-twenties").classList.add("year-selected"),document.getElementById("select-all-twenties").innerHTML="Remove All"),0===l.length?r.a.createElement("div",{className:"placeholder",onClick:G},r.a.createElement("p",{className:"placeholder-text"},"Years"),r.a.createElement(j.a,{theme:S},r.a.createElement(M.a,{color:"primary",baseClassName:"icon",id:"year-filter-icon"}))):e.map(function(e,t){return r.a.createElement("span",{className:"chip-year",key:t},e," ",r.a.createElement("img",{className:"icon_cancel closeIcon",alt:"Cancel icon",src:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E",onClick:function(){return q(e)}}))})}())),r.a.createElement("div",{className:"calendar-wrapper display",id:"calendar"},r.a.createElement(T,null,r.a.createElement(F,null,r.a.createElement("div",{className:"years-wrapper"},r.a.createElement("button",{className:"year aughts first-year",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2000"},"2000"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2001"},"2001"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2002"},"2002"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2003"},"2003"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2004"},"2004"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2005"},"2005"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2006"},"2006"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2007"},"2007"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2008"},"2008"),r.a.createElement("button",{className:"year aughts",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2009"},"2009"),r.a.createElement("button",{className:"select-all aughts",id:"select-all-aughts",onMouseEnter:D,onMouseLeave:H,onClick:U},"Select All"))),r.a.createElement(F,null,r.a.createElement("div",{className:"years-wrapper"},r.a.createElement("button",{className:"year teens first-year",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2010"},"2010"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2011"},"2011"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2012"},"2012"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2013"},"2013"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2014"},"2014"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2015"},"2015"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2016"},"2016"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2017"},"2017"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2018"},"2018"),r.a.createElement("button",{className:"year teens",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2019"},"2019"),r.a.createElement("button",{className:"select-all teens",id:"select-all-teens",onMouseEnter:D,onMouseLeave:H,onClick:U},"Select All"))),r.a.createElement(F,null,r.a.createElement("div",{className:"years-wrapper"},r.a.createElement("button",{className:"year twenties first-year",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2020"},"2020"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2021"},"2021"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2022"},"2022"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2023"},"2023"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2024"},"2024"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2025"},"2025"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2026"},"2026"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2027"},"2027"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2028"},"2028"),r.a.createElement("button",{className:"year twenties",onMouseEnter:D,onMouseLeave:H,onClick:_,id:"2029"},"2029"),r.a.createElement("button",{className:"select-all twenties",id:"select-all-twenties",onMouseEnter:D,onMouseLeave:H,onClick:U},"Select All"))))))},P=a(32),D=a.n(P),H=(a(178),a(172)),_=a.n(H),U=a(38),q=function(e){return Object(n.useEffect)(function(){"/"===window.location.pathname&&document.getElementById("rank").classList.add("active"),"/rankings"===window.location.pathname&&document.getElementById("rankings").classList.add("active")},[]),r.a.createElement("header",{className:"header"},r.a.createElement("div",{className:"header-logo"},r.a.createElement("img",{src:_.a,alt:"rankabl-logo",className:"logo"}),r.a.createElement("h1",{className:"brand"},"rankabl")),r.a.createElement("div",{className:"nav-container"},r.a.createElement("nav",{className:"nav"},r.a.createElement("ul",{className:"nav-list"},r.a.createElement("li",{className:"nav-item",id:"rank"},r.a.createElement(U.b,{to:"/".concat(e.artistFilter&&e.artistFilter.length>0&&e.yearFilter&&e.yearFilter>0?"?artist="+e.artistFilter.join("%2C")+"&years="+e.yearFilter.join("%2C"):e.artistFilter&&e.artistFilter.length>0?"?artist="+e.artistFilter.join("%2C"):e.yearFilter&&e.yearFilter.length>0?"?years="+e.yearFilter.join("%2C"):"")},"RANK")),r.a.createElement("li",{className:"nav-item",id:"rankings"},r.a.createElement(U.b,{to:e.headerParams?"/rankings?"+e.headerParams.toString():"/rankings"},"RANKINGS"))))))},G=(a(180),a(431)),z=a(435),Y=a(434),V=a(436),K=a(433),J=function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(0),f=Object(s.a)(d,2),b=f[0],h=f[1],g=Object(n.useState)(),E=Object(s.a)(g,2),p=E[0],y=E[1],v=Object(n.useState)(["2000","2001","2002","2003","2004","2005","2006","2007","2008","2009"]),w=Object(s.a)(v,2),k=w[0],N=(w[1],Object(n.useState)(["2010","2011","2012","2013","2014","2015","2016","2017","2018","2019"])),C=Object(s.a)(N,2),O=C[0],L=(C[1],Object(n.useState)(["2020","2021","2022"])),I=Object(s.a)(L,2),x=I[0];I[1];Object(n.useEffect)(function(){b>0&&document.getElementById("ranking-slider").classList.toggle("display")},[u]),Object(n.useEffect)(function(){e.albums.length>0&&y(e.albums.length)},[e.albums]);var A=Object(n.useRef)();Object(n.useEffect)(function(){var e=function(e){A.current.contains(e.target)||document.getElementById("ranking-slider").classList.add("display")};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),Object(n.useEffect)(function(){},[l]);new URLSearchParams(window.location.search);function B(){h(1),m(!u)}var F=[{value:10,label:"10"},{value:20,label:"20"},{value:e.albums.length,label:"All"}];return r.a.createElement("div",{ref:A,id:"ranking-filter"},r.a.createElement("div",{className:"ranking-filter-container",id:"ranking-filter-container"},r.a.createElement("div",{className:"chip-wrapper",onClick:function(e){e.target!==e.currentTarget||B()}},[10,20,50,100,200].some(function(e){return e===p})?r.a.createElement("div",{className:"chip-container"},r.a.createElement("span",{className:"chip-ranking"},"Top ".concat(p)," ",r.a.createElement("img",{className:"icon_cancel closeIcon",alt:"Cancel icon",src:"data:image/svg+xml,%3Csvg%20height%3D%22512px%22%20id%3D%22Layer_1%22%20style%3D%22enable-background%3Anew%200%200%20512%20512%3B%22%20version%3D%221.1%22%20viewBox%3D%220%200%20512%20512%22%20width%3D%22512px%22%20xml%3Aspace%3D%22preserve%22%20%20%20%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20%20%20%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%3E%20%20%20%20%3Cstyle%20type%3D%22text%2Fcss%22%3E%20%20%20%20%20%20%20%20.st0%7B%20%20%20%20%20%20%20%20%20%20%20%20fill%3A%23fff%3B%20%20%20%20%20%20%20%20%7D%20%3C%2Fstyle%3E%20%20%20%20%3Cpath%20class%3D%22st0%22%20d%3D%22M443.6%2C387.1L312.4%2C255.4l131.5-130c5.4-5.4%2C5.4-14.2%2C0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4%20%20L256%2C197.8L124.9%2C68.3c-2.6-2.6-6.1-4-9.8-4c-3.7%2C0-7.2%2C1.5-9.8%2C4L68%2C105.9c-5.4%2C5.4-5.4%2C14.2%2C0%2C19.6l131.5%2C130L68.4%2C387.1%20%20c-2.6%2C2.6-4.1%2C6.1-4.1%2C9.8c0%2C3.7%2C1.4%2C7.2%2C4.1%2C9.8l37.4%2C37.6c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1L256%2C313.1l130.7%2C131.1%20%20c2.7%2C2.7%2C6.2%2C4.1%2C9.8%2C4.1c3.5%2C0%2C7.1-1.3%2C9.8-4.1l37.4-37.6c2.6-2.6%2C4.1-6.1%2C4.1-9.8C447.7%2C393.2%2C446.2%2C389.7%2C443.6%2C387.1z%22%2F%3E%3C%2Fsvg%3E",onClick:function(){var e;"2000's"===(e=void 0)?(c(l.filter(function(e){return!k.includes(e)})),Array.from(document.querySelectorAll(".aughts")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-aughts").innerHTML="Select All"):"2010's"===e?(c(l.filter(function(e){return!O.includes(e)})),Array.from(document.querySelectorAll(".teens")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-teens").innerHTML="Select All"):"2020's"===e?(c(l.filter(function(e){return!x.includes(e)})),Array.from(document.querySelectorAll(".twenties")).forEach(function(e){return e.classList.remove("year-selected")}),document.getElementById("select-all-twenties").innerHTML="Select All"):(c(l.filter(function(t){return t!==e})),document.getElementById(e).classList.remove("year-selected"),document.getElementById(e).classList.contains("aughts")?(document.getElementById("select-all-aughts").classList.remove("year-selected"),document.getElementById("select-all-aughts").innerHTML="Select All"):document.getElementById(e).classList.contains("teens")?(document.getElementById("select-all-teens").classList.remove("year-selected"),document.getElementById("select-all-teens").innerHTML="Select All"):document.getElementById(e).classList.contains("twenties")&&(document.getElementById("select-all-twenties").classList.remove("year-selected"),document.getElementById("select-all-twenties").innerHTML="Select All"))}})),r.a.createElement(j.a,{theme:S},r.a.createElement(M.a,{color:"primary",baseClassName:"icon",id:"ranking-filter-icon-chip",onClick:B}))):r.a.createElement("div",{className:"placeholder",onClick:B},r.a.createElement("p",{className:"placeholder-text"},"Ranking"),r.a.createElement(j.a,{theme:S},r.a.createElement(M.a,{color:"primary",baseClassName:"icon",id:"ranking-filter-icon"}))))),r.a.createElement("div",{className:"ranking-slider display",id:"ranking-slider"},r.a.createElement(j.a,{theme:S},r.a.createElement(Y.a,null,r.a.createElement(z.a,{row:!0,defaultValue:"global",color:"primary"},r.a.createElement(V.a,{value:"global",control:r.a.createElement(K.a,{color:"secondary",size:"small"}),label:"Global",sx:{color:"#cfcfcf",marginRight:"24px"}}),r.a.createElement(V.a,{value:"personal",control:r.a.createElement(K.a,{color:"secondary",size:"small",id:"radio-personal"}),label:"Personal",sx:{color:"#cfcfcf"}}))),r.a.createElement(G.a,{color:"secondary",marks:F,step:null,defaultValue:48,max:e.albums.length,onChange:function(t,a){y(a),e.filterRanking(a)}}))))},Q=a(44),W=a.n(Q),X=function(e){var t=[];e.forEach(function(e){var a={};a[e.album1.id]=e.album1.result,a[e.album2.id]=e.album2.result,t.push(a)}),console.log(t);for(var a=[],n=0;n<t.length;n++)a.push(Object.keys(t[n]));console.log(a);var r=a.flat();console.log(r);var l=Object(x.a)(new Set(r));console.log(l);var c=W.a.matrix(l.length);c=c.map(function(e){return 0});for(var s=function(e){c.set(e,e,r.filter(function(t){return t===l[e]}).length+2);for(var a=e+1;a<l.length;a++)for(var n=c.get(e,a)||0,s=0;s<t.length;s++)l[e]in t[s]&&l[a]in t[s]&&(c.set(e,a,n-1),c.set(a,e,n-1))},i=0;i<l.length;i++)s(i);console.log(c);for(var o=[],u=0;u<l.length;u++){for(var m=[],d=0;d<t.length;d++)l[u]in t[d]&&m.push(t[d][l[u]]);var f=1+.5*m.reduce(function(e,t){return e+t},0);o.push(f)}for(var b=W.a.matrix(l.length,o),h=W.a.lu(c).solve(b),g=[],E=0;E<l.length;E++)g.push({albumId:l[E],rating:h.array[E]});return g.sort(function(e,t){return t.rating-e.rating})},Z=a(439),$=a(427),ee=a(440),te=a(428),ae=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)(0),d=Object(s.a)(m,2),f=d[0],b=d[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),p=E[0],v=E[1],k=Object(n.useState)([]),N=Object(s.a)(k,2),C=N[0],O=N[1],L=Object(n.useState)(!1),x=Object(s.a)(L,2),A=x[0],B=x[1],M=Object(n.useState)(!1),F=Object(s.a)(M,2),T=F[0],P=F[1],H=Object(n.useState)(""),_=Object(s.a)(H,2),U=_[0],G=_[1],z=Object(n.useState)({_id:"",userId:"",results:[],seenPairs:[]}),Y=Object(s.a)(z,2),V=Y[0],K=Y[1],Q=Object(n.useState)(!1),W=Object(s.a)(Q,2),ae=W[0],ne=W[1],re=Object(n.useState)(""),le=Object(s.a)(re,2),ce=le[0],se=le[1],ie=Object(n.useState)([]),oe=Object(s.a)(ie,2),ue=oe[0],me=oe[1],de=Object(n.useState)([]),fe=Object(s.a)(de,2),be=fe[0],he=fe[1],ge=Object(n.useState)([]),Ee=Object(s.a)(ge,2),pe=Ee[0],ye=Ee[1],ve=Object(n.useState)([]),we=Object(s.a)(ve,2),ke=(we[0],we[1]);Object(n.useEffect)(function(){Oe(),Ce(),Le(),se(Se())},[]),Object(n.useEffect)(function(){""!==U&&je()},[U]),Object(n.useEffect)(function(){ue.length>0&&ye(X(ue))},[ue]),Object(n.useEffect)(function(){be.length>0&&ke(X(be))},[be]),Object(n.useEffect)(function(){if(Ie(),a.length>0||o.length>0?P(!0):P(!1),0===a.length){Ne.delete("artist");var e=window.location.pathname+"?"+Ne.toString();window.history.pushState(null,"",e)}0===o.length&&(Ne.delete("years"),e=window.location.pathname+"?"+Ne.toString(),window.history.pushState(null,"",e))},[a,o,f]),Object(n.useEffect)(function(){Ie()},[f]),Object(n.useEffect)(function(){p.length>0&&(B(!0),l(ce),b(p.length))},[p]);var Ne=new URLSearchParams(window.location.search),Ce=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums",{params:{verification_method:"SECRET_AS_QUERY_PARAM",secret:"temperature"}}).then(function(e){v(e.data),O(e.data)}).catch(function(e){console.log(e)})},Oe=function(){D.a.get("user")?G(D.a.get("user")):(D.a.set("user",g.a.v4(),{expires:1e4}),G(D.a.get("user")))},je=function(){""!==U&&y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser",{params:{userId:U}}).then(function(e){null!==e.data?(K(e.data),ne(!0),he(e.data.results)):ne(!0)})},Le=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults",{}).then(function(e){me(e.data)}).catch(function(e){console.log(e)})},Se=function(){var e=Ne.get("artist");if(null!==e){var t=e.split(",");return console.log("filter set from params"),t}return[]},Ie=function(){if(console.log(f),0===a.length&&0===o.length&&f===p.length)O(p);else{var e=p.map(function(e){return e});if(a.length>0){p.forEach(function(t){Array.isArray(t.attributes.artistName)?!1===t.attributes.artistName.some(function(e){return a.includes(e)})&&e.splice(e.findIndex(function(e){return e===t}),1):!1===a.some(function(e){return e===t.attributes.artistName})&&e.splice(e.findIndex(function(e){return e===t}),1)}),Ne.set("artist",a);var t=window.location.pathname+"?"+Ne.toString();window.history.pushState(null,"",t)}if(o.length>0&&(e=e.filter(function(e){return o.some(function(t){return e.attributes.releaseDate.includes(t)})}),Ne.set("years",o),t=window.location.pathname+"?"+Ne.toString(),window.history.pushState(null,"",t)),pe.length>0&&f<p.length){var n=pe.map(function(e){return e.albumId}).slice(0,f);console.log(n),e=e.filter(function(e){return n.includes(e.id)}),console.log(e)}O(e)}},xe=function(e){var t=e.map(function(e){return e.name});l(t)},Ae=function(e){u(e)},Be=function(e){b(e)};return r.a.createElement("div",{classname:"page-container",id:"rank-page-container"},r.a.createElement(q,{headerParams:Ne}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"Rank"},r.a.createElement("div",{className:"filters"},r.a.createElement(I,{id:"artist-filter",onSelect:xe,onRemove:xe,albums:p,queryParams:a,yearFilter:o}),r.a.createElement(R,{id:"year-filter",onChange:Ae,albums:p,artistFilter:a}),r.a.createElement(J,{id:"ranking-filter",albums:p,filterRanking:Be}),r.a.createElement(j.a,{theme:S},r.a.createElement(Z.a,{id:"filter-button",onClick:function(){document.getElementById("filter-drawer").style.top="0"},variant:"outlined",color:"primary",size:"small",sx:{textTransform:"none",borderRadius:"15px"},endIcon:r.a.createElement($.a,{size:"small"})},"Filters"))),r.a.createElement(w,{albums:C,albumsLoaded:A,filters:T,userId:U,seenPairs:V.seenPairs,loadedUserData:ae}))),r.a.createElement("div",{className:"filter-drawer",id:"filter-drawer"},r.a.createElement("div",{className:"filter-drawer-content"},r.a.createElement("div",{className:"filter-drawer-header"},r.a.createElement("div",null),r.a.createElement("div",{className:"filter-drawer-header-title"},"Filters"),r.a.createElement(j.a,{theme:S},r.a.createElement(ee.a,{color:"primary",onClick:function(){document.getElementById("filter-drawer").style.top="100vh"}},r.a.createElement(te.a,null)))),r.a.createElement("div",{className:"filter-drawer-body"},r.a.createElement(I,{id:"artist-filter",onSelect:xe,onRemove:xe,albums:p,queryParams:a,yearFilter:o}),r.a.createElement(R,{id:"year-filter",onChange:Ae,albums:p,artistFilter:a}),r.a.createElement(J,{id:"ranking-filter",albums:p,filterRanking:Be})))))},ne=(a(184),a(183)),re=a.n(ne),le=(a(186),function(e){var t=e.children,a=e.width;return r.a.createElement("div",{className:"carousal-item",style:{width:a}},t)}),ce=function(e){var t=e.children,a=Object(n.useState)(0),l=Object(s.a)(a,2),c=l[0],i=l[1],o=function(e){i(e)};return r.a.createElement("div",{className:"carousel"},r.a.createElement("div",{className:"inner",style:{transform:"translateX(-".concat(100*c,"%)")}},r.a.Children.map(t,function(e,t){return r.a.cloneElement(e,{width:"100%"})})),r.a.createElement("div",{className:"carousel-dots"},r.a.createElement("div",{className:"dot ".concat(0===c?"active":""),id:"dot-0",onClick:function(){return o(0)}}),r.a.createElement("div",{className:"dot ".concat(1===c?"active":""),id:"dot-1",onClick:function(){return o(1)}})))},se=function(e){var t=Object(n.useState)({}),a=Object(s.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)(function(){e.album&&(e.album.attributes.editorialNotes&&(document.getElementById("editorial-notes-"+e.rank).innerHTML=e.album.attributes.editorialNotes.standard),c({"--bg-color":"#"+e.album.attributes.artwork.bgColor,"--text-color-1":"#"+e.album.attributes.artwork.textColor1,"--text-color-2":"#"+e.album.attributes.artwork.textColor2,"--text-color-3":"#"+e.album.attributes.artwork.textColor3,"--text-color-4":"#"+e.album.attributes.artwork.textColor4,"--shadow":"#"+e.album.attributes.artwork.textColor4+"25","--shadow-hover":"#"+e.album.attributes.artwork.textColor4+"80","--bg-gradient":"#"+b(e.album.attributes.artwork.bgColor,4)}))},[e.album]);var i,o=function(e){return e.replace("{w}","600").replace("{h}","600")},u=function(t){var a=[];e.albums.forEach(function(e){Array.isArray(e.attributes.artistName)?e.attributes.artistName.some(function(e){return e===t})&&a.push(e):e.attributes.artistName===t&&a.push(e)});var n=e.rankingGlobal.map(function(e){return e.albumId}),r=e.rankingUser.map(function(e){return e.albumId});return("global"===e.selectedRanking?a.filter(function(e){return n.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingGlobal.findIndex(function(e){return e.albumId===t.id})+1}}):a.filter(function(e){return r.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingUser.findIndex(function(e){return e.albumId===t.id})+1}})).sort(function(e,t){return e.ranking-t.ranking})},m=function(t){return function(t){var a=[];e.albums.forEach(function(e){Array.isArray(e.attributes.artistName)?e.attributes.artistName.some(function(e){return e===t})&&a.push(e):e.attributes.artistName===t&&a.push(e)}),e.albums.filter(function(e){return e.attributes.artistName===t});var n=a.filter(function(t){return t.id!==e.album.id}),r=e.rankingGlobal.map(function(e){return e.albumId}),l=e.rankingUser.map(function(e){return e.albumId});return("global"===e.selectedRanking?n.filter(function(e){return r.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingGlobal.findIndex(function(e){return e.albumId===t.id})+1}}):n.filter(function(e){return l.includes(e.id)}).map(function(t){return{album:t,ranking:e.rankingUser.findIndex(function(e){return e.albumId===t.id})+1}})).sort(function(e,t){return e.ranking-t.ranking})}(t).map(function(e,t){return r.a.createElement("div",{className:"other-album",key:t},r.a.createElement("div",{className:"other-album-rank"},e.ranking),r.a.createElement("img",{src:o(e.album.attributes.artwork.url),alt:e.album.attributes.name,className:"other-album-image"}),r.a.createElement("p",{className:"other-album-name"},e.album.attributes.name))})},d=function(t){if(e.artists.length>0&&e.album&&u(t).length>0)return e.artists.find(function(e){return e.attributes.name===t}).attributes.artwork.url.replace("{w}","300").replace("{h}","300")};if(e.album)return r.a.createElement("div",{className:"table-row",id:"table-row-".concat(e.rank),style:l},r.a.createElement("div",{className:"row-default"},r.a.createElement("div",{className:"table-cell",id:"rank-cell"},r.a.createElement("div",{className:"rank-container"},r.a.createElement("p",null,e.rank))),r.a.createElement("div",{className:"table-cell",id:"album-cell"},e.album&&r.a.createElement("div",{className:"album-info"},r.a.createElement("img",{src:o(e.album.attributes.artwork.url),alt:"album artwork",className:"albumArtwork"}),r.a.createElement("div",{className:"album-name-artist"},r.a.createElement("div",{className:"album-text"},r.a.createElement("p",{className:"album-name-table"},e.album.attributes.name),r.a.createElement("p",{className:"album-artist-table"},Array.isArray(e.album.attributes.artistName)?e.album.attributes.artistName.join(" & "):e.album.attributes.artistName))))),r.a.createElement("div",{className:"table-cell",id:"release-cell"},r.a.createElement("p",null,e.album&&(i=e.album.attributes.releaseDate,re()(i).format("MMMM Do, YYYY")))),r.a.createElement("div",{className:"table-cell",id:"more-cell"},r.a.createElement("button",{className:"more",id:"more-button-".concat(e.rank),onClick:function(){"More"===document.getElementById("more ".concat(e.rank)).innerHTML?(document.getElementById("table-row-".concat(e.rank)).style.height="481px",setTimeout(function(){document.getElementById("table-row-".concat(e.rank)).scrollIntoView({behavior:"smooth",block:"nearest"})},300),document.getElementById("more ".concat(e.rank)).innerHTML="Less",document.getElementById("chevron ".concat(e.rank)).style.transform="rotate(180deg)",document.getElementById("chevron ".concat(e.rank)).style.visibility="visible",document.getElementById("more ".concat(e.rank)).style.visibility="visible",e.isExpanded(e.rank)):(document.getElementById("table-row-".concat(e.rank)).style.height="120px",document.getElementById("more ".concat(e.rank)).innerHTML="More",document.getElementById("chevron ".concat(e.rank)).style.transform="rotate(0deg)",document.getElementById("more ".concat(e.rank)).style.visibility="",document.getElementById("chevron ".concat(e.rank)).style.visibility="",e.isExpanded(""))}},r.a.createElement("p",{className:"button-text",id:"more ".concat(e.rank)},"More"),r.a.createElement(M.a,{size:"small",id:"chevron ".concat(e.rank)})))),r.a.createElement("div",{className:"row-expanded",id:"row-expanded-".concat(e.rank)},r.a.createElement("div",{className:"album-info-expanded"},r.a.createElement("div",{className:"album-facts"},r.a.createElement("p",{className:"label"},"PROJECT TYPE:"),r.a.createElement("p",null,e.album&&e.album.type),r.a.createElement("p",{className:"label"},"GENRE:"),r.a.createElement("p",null,e.album&&e.album.attributes.genreNames[0]),r.a.createElement("p",{className:"label"},"TRACKs:"),r.a.createElement("p",null,e.album&&e.album.attributes.trackCount)),e.album.attributes.editorialNotes&&r.a.createElement("div",{className:"editorial-notes"},r.a.createElement("p",{id:"editorial-label"},"EDITORIAL NOTES:"),r.a.createElement("p",{className:"editorial-notes-standard",id:"editorial-notes-"+e.rank}))),r.a.createElement("div",{className:"recent-results"},r.a.createElement("p",{className:"label"},"RECENT RESULTS:"),r.a.createElement("div",{className:"recent-results-albums"},function(){var t=("global"===e.selectedRanking?e.resultsGlobal:e.resultsUser).filter(function(t){return t.album1.id===e.album.id||t.album2.id===e.album.id}),a=[];return t.map(function(t){t.album1.id===e.album.id?a.push({album:e.albums.find(function(e){return e.id===t.album2.id}),result:t.album2.result}):t.album2.id===e.album.id&&a.push({album:e.albums.find(function(e){return e.id===t.album1.id}),result:t.album1.result})}),a.reverse().slice(0,20)}().map(function(e,t){return r.a.createElement("div",{className:"recent-result",key:t},r.a.createElement("div",{className:"recent-result-outcome"},-1===e.result?"Win":"Loss"),r.a.createElement("img",{src:o(e.album.attributes.artwork.url),alt:e.album.attributes.name,className:"recent-result-image"}),r.a.createElement("p",{className:"recent-result-name"},e.album.attributes.name))}))),r.a.createElement("vl",null),Array.isArray(e.album.attributes.artistName)?r.a.createElement(ce,null,e.album.attributes.artistName.map(function(e,t){return r.a.createElement(le,{index:t},r.a.createElement("div",{className:"artist"},r.a.createElement("div",{className:"artist-info"},r.a.createElement("img",{src:d(e),alt:"artist artwork",className:"artist-artwork"}),r.a.createElement("p",{className:"artist-name"},e),r.a.createElement("div",{className:"artist-stats"},r.a.createElement("div",{className:"artist-stats-labels"},r.a.createElement("p",null,"Highest album rank: "),r.a.createElement("p",null,"Lowest album rank: "),r.a.createElement("p",null,"Average album rank: ")),r.a.createElement("div",{className:"artist-stats-values"},r.a.createElement("p",null,u(e).length>0&&"#".concat(u(e)[0].ranking)),r.a.createElement("p",null,u(e).length>0&&"#".concat(u(e)[u(e).length-1].ranking)),r.a.createElement("p",null,u(e).length>0&&"#".concat((u(e).reduce(function(e,t){return e+t.ranking},0)/u(e).length).toFixed(1)))))),r.a.createElement("div",{className:"other-albums-container"},r.a.createElement("p",{className:"label"},"OTHER ALBUMS:"),r.a.createElement("div",{className:"other-albums"},m(e)))))})):r.a.createElement("div",{className:"artist"},r.a.createElement("div",{className:"artist-info"},r.a.createElement("img",{src:d(e.album.attributes.artistName),alt:"artist artwork",className:"artist-artwork"}),r.a.createElement("p",{className:"artist-name"},e.album.attributes.artistName),r.a.createElement("div",{className:"artist-stats"},r.a.createElement("div",{className:"artist-stats-labels"},r.a.createElement("p",null,"Highest album rank: "),r.a.createElement("p",null,"Lowest album rank: "),r.a.createElement("p",null,"Average album rank: ")),r.a.createElement("div",{className:"artist-stats-values"},r.a.createElement("p",null,u(e.album.attributes.artistName).length>0&&"#".concat(u(e.album.attributes.artistName)[0].ranking)),r.a.createElement("p",null,u(e.album.attributes.artistName).length>0&&"#".concat(u(e.album.attributes.artistName)[u(e.album.attributes.artistName).length-1].ranking)),r.a.createElement("p",null,u(e.album.attributes.artistName).length>0&&"#".concat((u(e.album.attributes.artistName).reduce(function(e,t){return e+t.ranking},0)/u(e.album.attributes.artistName).length).toFixed(1)))))),r.a.createElement("div",{className:"other-albums-container"},r.a.createElement("p",{className:"label"},"OTHER ALBUMS:"),r.a.createElement("div",{className:"other-albums"},m(e.album.attributes.artistName))))),r.a.createElement("div",{className:"expanded-row-bg",id:"expanded-row-bg-".concat(e.rank)}))},ie=(a(188),function(){return r.a.createElement("div",{className:"table-header"},r.a.createElement("div",{className:"table-label",id:"rank-label"},"RANK"),r.a.createElement("div",{className:"table-label",id:"album-label"},"ALBUM"),r.a.createElement("div",{className:"table-label",id:"release-label"},"RELEASE DATE"))}),oe=(a(190),a(192),function(e){var t=Object(n.useState)([{label:"Global",value:"global"}]),a=Object(s.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)(function(){"personal"===e.queryParams?c([{label:"Personal",value:"personal"}]):c([{label:"Global",value:"global"}])},[e.queryParams]),r.a.createElement(N.a,{id:"ranking-select",options:[{label:"Global",value:"global"},{label:"Personal",value:"personal"}],displayValue:"label",avoidHighlightFirstOption:"true",singleSelect:"true",selectedValues:l,hidePlaceholder:"true",placeholder:"",showArrow:"true",onSelect:e.onSelect,customArrow:r.a.createElement(j.a,{theme:S},r.a.createElement(M.a,{color:"primary"}))})}),ue=(a(194),a(196),function(e){var t=Object(n.useState)([]),a=Object(s.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)([]),o=Object(s.a)(i,2),u=o[0],m=o[1];Object(n.useEffect)(function(){e.albums.length>0&&m(d(e.albums))},[e.albums]),Object(n.useEffect)(function(){e.queryParams.length>0&&u.length>0&&c(e.queryParams.map(function(e){return u.find(function(t){return t.label===e})}))},[u]),Object(n.useEffect)(function(){e.albums.length>0&&m(d(f()))},[e.yearFilter,e.artistFilter]);var d=function(e){var t=[];return e.forEach(function(a){t.some(function(e){return e.label===a.type})||t.push({label:a.type,value:a.type.toLowerCase,count:e.filter(function(e){return e.type===a.type}).length})}),t.sort(function(e,t){return t.count-e.count})},f=function(){var t=e.albums.map(function(e){return e});if(e.artistFilter.length>0&&e.albums.forEach(function(a){Array.isArray(a.attributes.artistName)?!1===a.attributes.artistName.some(function(t){return e.artistFilter.includes(t)})&&t.splice(t.findIndex(function(e){return e===a}),1):!1===e.artistFilter.some(function(e){return e===a.attributes.artistName})&&t.splice(t.findIndex(function(e){return e===a}),1)}),e.yearFilter.length>0){var a=e.albums.filter(function(t){return e.yearFilter.some(function(e){return t.attributes.releaseDate.includes(e)})}).map(function(e){return e});t=t.filter(function(e){return a.includes(e)})}return console.log(t),t};return r.a.createElement(N.a,{id:"type-select",options:u,selectedValues:l,displayValue:"label",avoidHighlightFirstOption:"true",singleSelect:"true",placeholder:"Type",showArrow:"true",onSelect:e.onSelect,onRemove:e.onRemove,closeIcon:"cancel",customArrow:r.a.createElement(j.a,{theme:S},r.a.createElement(M.a,{color:"primary"}))})}),me=a(429),de=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(n.useState)([]),d=Object(s.a)(m,2),f=d[0],b=d[1],h=Object(n.useState)([]),E=Object(s.a)(h,2),p=E[0],v=E[1],w=Object(n.useState)([]),k=Object(s.a)(w,2),N=k[0],C=k[1],O=Object(n.useState)([]),L=Object(s.a)(O,2),x=L[0],A=L[1],B=Object(n.useState)([]),M=Object(s.a)(B,2),F=M[0],T=M[1],P=Object(n.useState)(""),H=Object(s.a)(P,2),_=H[0],U=H[1],G=Object(n.useState)("global"),z=Object(s.a)(G,2),Y=z[0],V=z[1],K=Object(n.useState)(!1),J=Object(s.a)(K,2),Q=J[0],W=J[1],$=Object(n.useState)(""),ee=Object(s.a)($,2),te=ee[0],ae=ee[1],ne=Object(n.useState)([]),re=Object(s.a)(ne,2),le=re[0],ce=re[1],de=Object(n.useState)([]),fe=Object(s.a)(de,2),be=fe[0],he=fe[1],ge=Object(n.useState)([]),Ee=Object(s.a)(ge,2),pe=Ee[0],ye=Ee[1];Object(n.useEffect)(function(){ke(),Ne(),Ce(),Oe(),W(!0),ce(Le()),ye(we.getAll("type")),null!==we.get("ranking")&&V(we.get("ranking"))},[]),Object(n.useEffect)(function(){je()},[_]),Object(n.useEffect)(function(){f.length>0&&C(X(f))},[f]),Object(n.useEffect)(function(){p.length>0&&A(X(p))},[p]),Object(n.useEffect)(function(){"global"===Y&&T(N),N.length>0&&W(!1)},[N]),Object(n.useEffect)(function(){"personal"===Y&&T(x),x.length>0&&W(!1)},[N]),Object(n.useEffect)(function(){Ae(),we.set("ranking",Y);var e=window.location.pathname+"?"+we.toString();window.history.pushState(null,"",e)},[Y]),Object(n.useEffect)(function(){if(Ae(),""!==te&&Be(te),0===le.length){we.delete("artist");var e=window.location.pathname+"?"+we.toString();window.history.pushState(null,"",e)}le.length>0&&(we.set("artist",le),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e)),0===be.length&&(we.delete("years"),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e)),0===pe.length&&(we.delete("type"),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e)),pe.length>0&&(we.set("type",pe[0]),e=window.location.pathname+"?"+we.toString(),window.history.pushState(null,"",e))},[le,be,pe]),Object(n.useEffect)(function(){N&&Ae()},[N,a]),Object(n.useEffect)(function(){x&&Ae()},[x,a]),Object(n.useEffect)(function(){""!==ve&&""!==te&&Be(ve)},[te]);var ve=function(e){var t=Object(n.useRef)();return Object(n.useEffect)(function(){t.current=e}),t.current}(te),we=new URLSearchParams(window.location.search),ke=function(){D.a.get("user")?U(D.a.get("user")):D.a.set("user",g.a.v4(),{expires:1e4})},Ne=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/albums",{params:{verification_method:"SECRET_AS_QUERY_PARAM",secret:"temperature"}}).then(function(e){l(e.data)}).catch(function(e){console.log(e)})},Ce=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/artists",{}).then(function(e){u(e.data)}).catch(function(e){console.log(e)})},Oe=function(){y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getResults",{}).then(function(e){b(e.data)}).catch(function(e){console.log(e)})},je=function(){""!==_&&y.a.get("https://data.mongodb-api.com/app/rankabl-bwhkm/endpoint/getuser",{params:{userId:_}}).then(function(e){null!==e.data&&v(e.data.results)})},Le=function(){var e=we.get("artist");return null!==e?e.split(","):[]},Se=function(e){ae(e)},Ie=function(e){var t=e.map(function(e){return e.name});ce(t)},xe=function(e){var t=e.map(function(e){return e.label});ye(t)},Ae=function(){if(0===le.length&&0===be.length&&0===pe.length)"global"===Y?T(N):"personal"===Y&&T(x);else{var e=a.map(function(e){return e.id});if(le.length>0&&a.forEach(function(t){Array.isArray(t.attributes.artistName)?!1===t.attributes.artistName.some(function(e){return le.includes(e)})&&e.splice(e.findIndex(function(e){return e===t.id}),1):!1===le.some(function(e){return e===t.attributes.artistName})&&e.splice(e.findIndex(function(e){return e===t.id}),1)}),be.length>0){var t=a.filter(function(e){return be.some(function(t){return e.attributes.releaseDate.includes(t)})}).map(function(e){return e.id});e=e.filter(function(e){return t.includes(e)}),we.set("years",be);var n=window.location.pathname+"?"+we.toString();window.history.pushState(null,"",n)}if(pe.length>0){var r=a.filter(function(e){return pe.includes(e.type)}).map(function(e){return e.id});e=e.filter(function(e){return r.includes(e)})}var l=[];l="global"===Y?N.filter(function(t){return e.includes(t.albumId)}):x.filter(function(t){return e.includes(t.albumId)}),T(l)}},Be=function(e){document.getElementById("table-row-".concat(e)).style.height="120px",document.getElementById("more ".concat(e)).innerHTML="More",document.getElementById("chevron ".concat(e)).style.transform="rotate(0deg)",document.getElementById("more ".concat(e)).style.visibility="",document.getElementById("chevron ".concat(e)).style.visibility=""};return r.a.createElement("div",null,r.a.createElement(q,{artistFilter:le,yearFilter:be}),r.a.createElement("div",{className:"filters-rankings"},r.a.createElement(oe,{onSelect:function(e){V(e[0].value)},queryParams:Y}),r.a.createElement(I,{albums:a,onSelect:Ie,onRemove:Ie,queryParams:le,yearFilter:be,typeFilter:pe}),r.a.createElement(R,{onChange:function(e){he(e)},queryParams:be,albums:a,artistFilter:le,typeFilter:pe}),r.a.createElement(ue,{onSelect:xe,onRemove:xe,queryParams:pe,albums:a,artistFilter:le,yearFilter:be}),r.a.createElement("div",{className:"share"},"personal"===Y?r.a.createElement(j.a,{theme:S},r.a.createElement(Z.a,{variant:"contained",onClick:function(){var e=le.map(function(e){return e}),t=e.pop(),n="";pe.length>0&&(n=pe[0].toLowerCase());var r=be.map(function(e){return e}),l=r.pop(),c=[];c=1===le.length?F:F.slice(0,10);var s="My top ranked ".concat(le.length>1?"".concat(e.join(", ")+" & "+t+" "):le.length>0?"".concat(le[0]," "):"").concat(pe.length>0?"".concat(n,"s"):"albums"," of ").concat(document.getElementById("select-all-twenties").classList.contains("year-selected")?"the 2020's":document.getElementById("select-all-teens").classList.contains("year-selected")?"the 2010's":document.getElementById("select-all-aughts").classList.contains("year-selected")?"the 2000's":be.length>1?"".concat(r.join(", ")+" & "+l):be.length>0?"".concat(be[0]):"all time",": \n\n").concat(c.map(function(e,t){return"".concat(t+1,". ").concat(a.find(function(t){return t.id===e.albumId}).attributes.name," ").concat(void 0!==a.find(function(t){return t.id===e.albumId}).attributes.emoji?a.find(function(t){return t.id===e.albumId}).attributes.emoji:"")}).join("\n"));navigator.clipboard.writeText(s)},color:"secondary",sx:{borderRadius:"20px",height:"40px",padding:"0px 32px 0px 32px",textTransform:"none",fontSize:"16px",fontFamily:"Helvetica",color:"#FFFFFF"},endIcon:r.a.createElement(me.a,{size:"small"})},"Share")):null)),r.a.createElement(ie,null),r.a.createElement("div",{className:"table-container",id:"table-container"},Q?r.a.createElement("span",{className:"loader"}):F.map(function(e,t){return r.a.createElement(se,{key:t,album:a.find(function(t){return t.id===e.albumId}),rank:t+1,albums:a,artists:o,rankingGlobal:N,rankingUser:x,resultsGlobal:f,resultsUser:p,selectedRanking:Y,isExpanded:Se})})),r.a.createElement("div",{className:"embed"}))},fe=a(3);var be=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,null))},he=function(e){e&&e instanceof Function&&a.e(1).then(a.bind(null,430)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),l(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(U.a,{basename:"/rankable"},r.a.createElement(fe.d,null,r.a.createElement(fe.b,{path:"/",element:r.a.createElement(be,null)}),r.a.createElement(fe.b,{index:!0,element:r.a.createElement(ae,null)}),r.a.createElement(fe.b,{path:"rankings",element:r.a.createElement(de,null)})))),he()}},[[118,3,2]]]);
//# sourceMappingURL=main.3f5cc7c9.chunk.js.map